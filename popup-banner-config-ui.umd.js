!function(){"use strict";try{if("undefined"!=typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode(".basic-settings-form.svelte-1sudym3{padding:15px 20px;background:#f8f9fa;border-radius:8px;margin-bottom:0}h2.svelte-1sudym3{margin:0 0 15px;color:#333;font-size:1.3rem}.form-group.svelte-1sudym3{margin-bottom:12px}.form-row.svelte-1sudym3{display:grid;grid-template-columns:1fr 1fr;gap:12px}label.svelte-1sudym3{display:block;margin-bottom:4px;font-weight:500;color:#555}.required.svelte-1sudym3{color:#e74c3c}input.svelte-1sudym3,select.svelte-1sudym3{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;transition:border-color .2s}input.svelte-1sudym3:focus,select.svelte-1sudym3:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}small.svelte-1sudym3{display:block;margin-top:4px;color:#666;font-size:12px}input[type=number].svelte-1sudym3{max-width:150px}.style-settings-form.svelte-18xkd56{padding:15px 20px;background:#f8f9fa;border-radius:8px;margin-bottom:0}h2.svelte-18xkd56{margin:0 0 15px;color:#333;font-size:1.3rem}h3.svelte-18xkd56{margin:0 0 12px;color:#555;font-size:1.1rem;padding-bottom:6px;border-bottom:1px solid #e9ecef}.section.svelte-18xkd56{margin-bottom:0;padding:15px 0;border-bottom:1px solid #e9ecef}.section.svelte-18xkd56:last-child{border-bottom:none}.form-group.svelte-18xkd56{margin-bottom:12px}.form-row.svelte-18xkd56{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;margin-bottom:12px}label.svelte-18xkd56{display:block;margin-bottom:4px;font-weight:500;color:#555;font-size:14px}input.svelte-18xkd56,select.svelte-18xkd56,textarea.svelte-18xkd56{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;transition:border-color .2s}input.svelte-18xkd56:focus,select.svelte-18xkd56:focus,textarea.svelte-18xkd56:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}input[type=color].svelte-18xkd56{height:40px;padding:4px;cursor:pointer}textarea.svelte-18xkd56{resize:vertical;min-height:80px}small.svelte-18xkd56{display:block;margin-top:4px;color:#666;font-size:12px;line-height:1.4}@media (max-width: 768px){.form-row.svelte-18xkd56{grid-template-columns:1fr}}.popup-container.svelte-filn8i{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;pointer-events:none;z-index:10000;padding:40px;box-sizing:border-box}.popup-container.position-center.svelte-filn8i{justify-content:center;align-items:center}.popup-container.position-top.svelte-filn8i{justify-content:center;align-items:flex-start}.popup-container.position-top-left.svelte-filn8i{justify-content:flex-start;align-items:flex-start}.popup-container.position-top-right.svelte-filn8i{justify-content:flex-end;align-items:flex-start}.popup-container.position-bottom.svelte-filn8i{justify-content:center;align-items:flex-end}.popup-container.position-middle-left.svelte-filn8i{justify-content:flex-start;align-items:center}.popup-container.position-middle-right.svelte-filn8i{justify-content:flex-end;align-items:center}.popup-container.position-bottom-left.svelte-filn8i{justify-content:flex-start;align-items:flex-end}.popup-container.position-bottom-right.svelte-filn8i{justify-content:flex-end;align-items:flex-end}.popup-container.svelte-filn8i:not([class*=position-]){justify-content:center;align-items:flex-start}.popup-banner.svelte-filn8i{border-radius:8px;box-shadow:0 2px 8px #00000026;padding:40px 0 20px;max-width:400px;width:90%;box-sizing:border-box;background:#fff;pointer-events:auto;position:relative;overflow:hidden}@media (max-width: 600px){.popup-container.svelte-filn8i{padding:8px}.popup-banner.svelte-filn8i{max-width:100%;width:100%;padding:8px}}.close-btn.svelte-filn8i{position:absolute;top:8px;right:8px;background:transparent;border:none;font-size:20px;cursor:pointer}.banner-image.svelte-filn8i{display:block;max-width:100%;margin:0 auto}.banner-image.clickable.svelte-filn8i{cursor:pointer}.banner-image.clickable.svelte-filn8i:hover{opacity:.8;transition:opacity .2s ease}.banner-text.svelte-filn8i{margin:16px;font-size:1.1em;text-align:center}.banner-btn.svelte-filn8i{display:block;margin:0 auto;padding:8px 24px;font-size:1em;border-radius:4px;border:none;background:#0070f3;color:#fff;cursor:pointer}.banner-btn.clickable.svelte-filn8i:hover{opacity:.8;transition:opacity .2s ease}.under-btn-text.svelte-filn8i{margin:8px 16px;font-size:.9em;text-align:center}.dim-bg.svelte-filn8i{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:9999}.popup-banner.svelte-filn8i{--animation-duration: .3s;--animation-easing: ease-out}.popup-banner.animate-fade-in-up.svelte-filn8i{animation:svelte-filn8i-fadeInUp var(--animation-duration) var(--animation-easing) forwards}.popup-banner.animate-fade-in-down.svelte-filn8i{animation:svelte-filn8i-fadeInDown var(--animation-duration) var(--animation-easing) forwards}.popup-banner.animate-fade-in.svelte-filn8i{animation:svelte-filn8i-fadeIn var(--animation-duration) var(--animation-easing) forwards}.popup-banner.animate-scale-in.svelte-filn8i{animation:svelte-filn8i-scaleIn var(--animation-duration) var(--animation-easing) forwards}@keyframes svelte-filn8i-fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes svelte-filn8i-fadeInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes svelte-filn8i-fadeIn{0%{opacity:0}to{opacity:1}}@keyframes svelte-filn8i-scaleIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.banner-preview.svelte-t8pv28{padding:20px;background:#fff;border:1px solid #e0e0e0;border-radius:8px;margin-bottom:20px}h3.svelte-t8pv28{margin:0 0 16px;color:#333;font-size:1.3rem}h4.svelte-t8pv28{margin:0 0 12px;color:#555;font-size:1.1rem}.preview-info.svelte-t8pv28{margin-bottom:20px}.config-summary.svelte-t8pv28{background:#f8f9fa;padding:16px;border-radius:6px;border-left:4px solid #007bff}.config-summary.svelte-t8pv28 ul:where(.svelte-t8pv28){margin:0;padding-left:20px}.config-summary.svelte-t8pv28 li:where(.svelte-t8pv28){margin-bottom:4px;color:#666}.preview-controls.svelte-t8pv28{text-align:center}.preview-btn.svelte-t8pv28{background:#28a745;color:#fff;border:none;padding:12px 24px;border-radius:6px;font-size:16px;font-weight:500;cursor:pointer;transition:background-color .2s}.preview-btn.svelte-t8pv28:hover:not(:disabled){background:#218838}.preview-btn.svelte-t8pv28:disabled{background:#6c757d;cursor:not-allowed;opacity:.6}.validation-message.svelte-t8pv28{margin-top:10px;color:#e74c3c;font-size:14px}.settings-manager.svelte-cqbub7{background:#f8f9fa;border-radius:8px;padding:20px;margin-top:20px}.header.svelte-cqbub7{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header.svelte-cqbub7 h3:where(.svelte-cqbub7){margin:0;color:#333}.header-actions.svelte-cqbub7{display:flex;gap:10px}.duplicate-warning.svelte-cqbub7{background:#fff3cd;border:1px solid #ffeaa7;color:#856404;padding:8px 12px;border-radius:4px;margin-bottom:15px;font-size:14px;font-weight:500}.empty-state.svelte-cqbub7{text-align:center;padding:40px 20px;color:#666}.empty-state.svelte-cqbub7 .text-muted:where(.svelte-cqbub7){font-size:14px;color:#999}.configs-list.svelte-cqbub7{display:flex;flex-direction:column;gap:15px}.config-item.svelte-cqbub7{background:#fff;border:2px solid #e0e0e0;border-radius:8px;padding:15px;transition:all .2s ease}.config-item.svelte-cqbub7:hover{border-color:#007bff}.config-header.svelte-cqbub7{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.config-title.svelte-cqbub7{display:flex;align-items:center;gap:10px;flex:1}.config-header.svelte-cqbub7 h4:where(.svelte-cqbub7){margin:0;color:#333;font-size:16px}.editing-badge.svelte-cqbub7{display:inline-flex;align-items:center;gap:4px;background:#28a745;color:#fff;padding:2px 8px;border-radius:12px;font-size:12px;font-weight:500;white-space:nowrap}.editing-icon.svelte-cqbub7{font-size:14px}.config-actions.svelte-cqbub7{display:flex;gap:6px;flex-wrap:wrap;align-items:center}.config-details.svelte-cqbub7{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px}.detail-item.svelte-cqbub7{font-size:14px}.detail-item.svelte-cqbub7 .label:where(.svelte-cqbub7){font-weight:500;color:#666;margin-right:8px}.detail-item.svelte-cqbub7 .value:where(.svelte-cqbub7){color:#333}.btn.svelte-cqbub7{padding:6px 12px;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:all .2s ease;text-decoration:none;display:inline-block}.btn-primary.svelte-cqbub7{background:#007bff;color:#fff}.btn-primary.svelte-cqbub7:hover{background:#0056b3}.btn-secondary.svelte-cqbub7{background:#6c757d;color:#fff}.btn-secondary.svelte-cqbub7:hover{background:#545b62}.btn-outline-primary.svelte-cqbub7{background:transparent;color:#007bff;border:1px solid #007bff}.btn-outline-primary.svelte-cqbub7:hover{background:#007bff;color:#fff}.btn-outline-secondary.svelte-cqbub7{background:transparent;color:#6c757d;border:1px solid #6c757d}.btn-outline-secondary.svelte-cqbub7:hover{background:#6c757d;color:#fff}.btn-outline-danger.svelte-cqbub7{background:transparent;color:#dc3545;border:1px solid #dc3545}.btn-outline-danger.svelte-cqbub7:hover{background:#dc3545;color:#fff}.btn-outline-success.svelte-cqbub7{background:transparent;color:#28a745;border:1px solid #28a745}.btn-outline-success.svelte-cqbub7:hover{background:#28a745;color:#fff}.btn-danger.svelte-cqbub7{background:#dc3545;color:#fff}.btn-danger.svelte-cqbub7:hover{background:#c82333}.btn-sm.svelte-cqbub7{padding:4px 8px;font-size:12px}.modal-overlay.svelte-cqbub7{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal.svelte-cqbub7{background:#fff;border-radius:8px;min-width:400px;max-width:500px;box-shadow:0 4px 20px #00000026}.modal-header.svelte-cqbub7{display:flex;justify-content:space-between;align-items:center;padding:20px 20px 10px;border-bottom:1px solid #e0e0e0}.modal-header.svelte-cqbub7 h4:where(.svelte-cqbub7){margin:0;color:#333}.close-btn.svelte-cqbub7{background:none;border:none;font-size:24px;color:#999;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.close-btn.svelte-cqbub7:hover{color:#333}.modal-body.svelte-cqbub7{padding:20px}.modal-footer.svelte-cqbub7{display:flex;justify-content:flex-end;gap:10px;padding:10px 20px 20px;border-top:1px solid #e0e0e0}.form-group.svelte-cqbub7{margin-bottom:15px}.form-group.svelte-cqbub7 label:where(.svelte-cqbub7){display:block;margin-bottom:5px;font-weight:500;color:#333}.form-control.svelte-cqbub7{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;box-sizing:border-box}.form-control.svelte-cqbub7:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.text-muted.svelte-cqbub7{color:#6c757d;font-size:14px}@media (max-width: 768px){.config-header.svelte-cqbub7{flex-direction:column;align-items:flex-start;gap:10px}.config-actions.svelte-cqbub7{width:100%;justify-content:flex-start}.header.svelte-cqbub7{flex-direction:column;align-items:flex-start;gap:15px}.header-actions.svelte-cqbub7{width:100%;justify-content:flex-start}.modal.svelte-cqbub7{min-width:320px;margin:20px}}.code-generator.svelte-nidclr{padding:20px;background:#f8f9fa;border-radius:8px;margin-bottom:20px}h3.svelte-nidclr{margin:0 0 16px;color:#333;font-size:1.3rem}.generator-info.svelte-nidclr{margin-bottom:16px}.generator-info.svelte-nidclr p:where(.svelte-nidclr){margin:0 0 8px;color:#666;font-size:14px;line-height:1.5}.generate-btn.svelte-nidclr{background:#28a745;color:#fff;border:none;padding:12px 24px;border-radius:6px;font-size:16px;font-weight:500;cursor:pointer;transition:background-color .2s}.generate-btn.svelte-nidclr:hover:not(:disabled){background:#218838}.generate-btn.svelte-nidclr:disabled{background:#6c757d;cursor:not-allowed}.validation-message.svelte-nidclr{margin:8px 0 0;color:#dc3545;font-size:14px}.copy-success.svelte-nidclr{padding:8px 12px;background:#d4edda;color:#155724;border:1px solid #c3e6cb;border-radius:4px;font-size:14px;margin-top:12px}.code-output-modal.svelte-nidclr{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;padding:20px}.code-output-content.svelte-nidclr{background:#fff;border-radius:8px;width:100%;max-width:700px;max-height:80vh;overflow-y:auto;box-shadow:0 4px 20px #00000026}.code-output-header.svelte-nidclr{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #e9ecef}.code-output-header.svelte-nidclr h3:where(.svelte-nidclr){margin:0;font-size:1.5rem}.close-btn.svelte-nidclr{background:none;border:none;font-size:24px;cursor:pointer;color:#6c757d;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px}.close-btn.svelte-nidclr:hover{background:#f8f9fa;color:#333}.code-section.svelte-nidclr{padding:20px}.code-header.svelte-nidclr{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.code-header.svelte-nidclr h4:where(.svelte-nidclr){margin:0;color:#333;font-size:1.1rem}.copy-btn.svelte-nidclr{background:#007bff;color:#fff;border:none;padding:6px 12px;border-radius:4px;font-size:14px;cursor:pointer;transition:background-color .2s}.copy-btn.svelte-nidclr:hover{background:#0056b3}.code-block.svelte-nidclr{background:#f8f9fa;border:1px solid #e9ecef;border-radius:4px;padding:16px;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:13px;line-height:1.4;white-space:pre-wrap;word-wrap:break-word;overflow-x:auto;max-height:400px;overflow-y:auto}.code-footer.svelte-nidclr{padding:20px;border-top:1px solid #e9ecef;background:#f8f9fa}.code-footer.svelte-nidclr p:where(.svelte-nidclr){margin:0;color:#666;font-size:14px}@media (max-width: 768px){.code-output-modal.svelte-nidclr{padding:10px}.code-output-content.svelte-nidclr{max-height:90vh}.code-header.svelte-nidclr{flex-direction:column;align-items:flex-start;gap:8px}.code-block.svelte-nidclr{font-size:12px;padding:12px}}.abtest-settings-form.svelte-1v1xx86{padding:20px;background:#f8f9fa;border-radius:8px;margin-bottom:20px}h2.svelte-1v1xx86{margin:0 0 20px;color:#333;font-size:1.5rem}h3.svelte-1v1xx86{margin:0 0 16px;color:#555;font-size:1.2rem}.form-group.svelte-1v1xx86{margin-bottom:20px}.section.svelte-1v1xx86{background:#fff;padding:20px;border-radius:6px;margin-bottom:16px}.section-header.svelte-1v1xx86{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.selection-info.svelte-1v1xx86{display:flex;align-items:center;gap:12px;color:#666;font-size:14px}.btn-clear.svelte-1v1xx86{background:#6c757d;color:#fff;border:none;padding:4px 12px;border-radius:4px;font-size:12px;cursor:pointer}.btn-clear.svelte-1v1xx86:hover{background:#545b62}.empty-state.svelte-1v1xx86{text-align:center;padding:40px 20px;color:#666;background:#f8f9fa;border-radius:6px}.empty-state.svelte-1v1xx86 p:where(.svelte-1v1xx86){margin:0 0 8px;font-size:16px}.config-selection-list.svelte-1v1xx86{display:flex;flex-direction:column;gap:12px}.config-option.svelte-1v1xx86{border:2px solid #e9ecef;border-radius:6px;transition:all .2s ease}.config-option.svelte-1v1xx86:hover{border-color:#007bff}.config-option.svelte-1v1xx86:has(input:where(.svelte-1v1xx86):checked){border-color:#007bff;background:#f8f9ff}.config-label.svelte-1v1xx86{display:flex;align-items:center;gap:12px;padding:16px;cursor:pointer;margin:0}.config-info.svelte-1v1xx86{flex:1}.config-name.svelte-1v1xx86{font-weight:500;color:#333;margin-bottom:4px}.config-details.svelte-1v1xx86{display:flex;gap:12px;font-size:12px;color:#666}.config-id.svelte-1v1xx86,.config-position.svelte-1v1xx86,.config-date.svelte-1v1xx86{padding:2px 6px;background:#e9ecef;border-radius:3px}.selection-summary.svelte-1v1xx86{margin-top:20px;padding:16px;background:#e7f3ff;border-radius:6px;border-left:4px solid #007bff}.selection-summary.svelte-1v1xx86 p:where(.svelte-1v1xx86){margin:0 0 8px;color:#333}.selection-summary.svelte-1v1xx86 ul:where(.svelte-1v1xx86){margin:0 0 8px;padding-left:20px}.selection-summary.svelte-1v1xx86 li:where(.svelte-1v1xx86){color:#555;margin-bottom:4px}label.svelte-1v1xx86{display:flex;align-items:center;gap:8px;cursor:pointer;font-weight:500;color:#555}input[type=checkbox].svelte-1v1xx86{margin:0;cursor:pointer}small.svelte-1v1xx86{display:block;margin-top:4px;color:#666;font-size:12px;font-weight:400}.analytics-settings-form.svelte-1w55jw3{background:#f8f9fa;border-radius:8px;padding:15px 20px;margin-top:0}.analytics-settings-form.svelte-1w55jw3 h3:where(.svelte-1w55jw3){margin:0 0 15px;color:#333;font-size:1.3rem}.form-section.svelte-1w55jw3{display:flex;flex-direction:column;gap:15px}.parameters-grid.svelte-1w55jw3{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;padding:12px;background:#fff;border:1px solid #e0e0e0;border-radius:4px}.parameter-item.svelte-1w55jw3{display:flex;flex-direction:column;gap:5px}.parameter-item.svelte-1w55jw3 label:where(.svelte-1w55jw3){font-weight:500;color:#555;font-size:13px}.form-control.svelte-1w55jw3{padding:10px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;transition:border-color .2s;background:#fff}.form-control.svelte-1w55jw3:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.help-text.svelte-1w55jw3{color:#666;font-size:12px;line-height:1.4}@media (max-width: 768px){.parameters-grid.svelte-1w55jw3{grid-template-columns:1fr}}.config-ui.svelte-1ghaaho{min-height:100vh;background:#f5f6fa;padding:20px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}.config-header.svelte-1ghaaho{text-align:center;margin-bottom:40px;padding:30px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;color:#fff;box-shadow:0 8px 32px #667eea4d}.config-header.svelte-1ghaaho h1:where(.svelte-1ghaaho){margin:0 0 10px;font-size:2.5rem;font-weight:700}.config-header.svelte-1ghaaho p:where(.svelte-1ghaaho){margin:0;font-size:1.1rem;opacity:.9}.config-main.svelte-1ghaaho{max-width:1200px;margin:0 auto}.config-grid.svelte-1ghaaho{display:grid;grid-template-columns:1fr 1fr;gap:30px;align-items:start}.config-section.svelte-1ghaaho{display:flex;flex-direction:column}.banner-settings-section.svelte-1ghaaho{background:#fff;border-radius:12px;box-shadow:0 4px 16px #0000001a;margin-bottom:20px;overflow:hidden}.section-title.svelte-1ghaaho{background:linear-gradient(135deg,#4f46e5,#7c3aed);color:#fff;margin:0;padding:20px 30px;font-size:1.5rem;font-weight:600}.banner-settings-content.svelte-1ghaaho{padding:0}.banner-settings-content.svelte-1ghaaho .analytics-settings-form,.banner-settings-content.svelte-1ghaaho .basic-settings-form,.banner-settings-content.svelte-1ghaaho .style-settings-form{background:transparent!important;margin:0!important;border-radius:0!important;box-shadow:none!important}.preview-section.svelte-1ghaaho{position:sticky;top:20px}@media (max-width: 768px){.config-grid.svelte-1ghaaho{grid-template-columns:1fr;gap:20px}.preview-section.svelte-1ghaaho{position:static}.config-header.svelte-1ghaaho{padding:20px}.config-header.svelte-1ghaaho h1:where(.svelte-1ghaaho){font-size:2rem}.section-title.svelte-1ghaaho{padding:15px 20px;font-size:1.3rem}}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}}();
!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";var e,t=Array.isArray,n=Array.prototype.indexOf,o=Array.from,l=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyDescriptors,s=Object.prototype,a=Array.prototype,d=Object.getPrototypeOf,u=Object.isExtensible;const c=()=>{};function v(e){return e()}function p(e){for(var t=0;t<e.length;t++)e[t]()}const g=256,f=1024,b=2048,m=4096,x=8192,h=65536,k=1<<17,y=1<<21,w=Symbol("$state"),_=Symbol("legacy props");function T(e){return e===this.v}function $(e,t){return e!=e?t==t:e!==t||null!==e&&"object"==typeof e||"function"==typeof e}function C(e){return!$(e,this.v)}let B=!1;const S=Symbol();function I(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let L=null;function P(e){L=e}function q(e,t=!1,n){var o=L={p:L,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};B&&!t&&(L.l={s:null,u:null,r1:[],r2:H(!1)}),de(()=>{o.d=!0})}function W(e){const t=L;if(null!==t){void 0!==e&&(t.x=e);const r=t.e;if(null!==r){var n=Me,o=je;t.e=null;try{for(var l=0;l<r.length;l++){var i=r[l];Oe(i.effect),Fe(i.reaction),ce(i.fn)}}finally{Oe(n),Fe(o)}}L=t.p,t.m=!0}return e||{}}function A(){return!B||null!==L&&null===L.l}function z(e){if("object"!=typeof e||null===e||w in e)return e;const n=d(e);if(n!==s&&n!==a)return e;var o=new Map,l=t(e),r=J(0),u=je,c=e=>{var t=je;Fe(u);var n=e();return Fe(t),n};return l&&o.set("length",J(e.length)),new Proxy(e,{defineProperty(e,t,n){"value"in n&&!1!==n.configurable&&!1!==n.enumerable&&!1!==n.writable||function(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}();var l=o.get(t);return void 0===l?l=c(()=>{var e=J(n.value);return o.set(t,e),e}):K(l,n.value,!0),!0},deleteProperty(e,t){var n=o.get(t);if(void 0===n){if(t in e){const e=c(()=>J(S));o.set(t,e),N(r)}}else{if(l&&"string"==typeof t){var i=o.get("length"),s=Number(t);Number.isInteger(s)&&s<i.v&&K(i,s)}K(n,S),N(r)}return!0},get(t,n,l){var r;if(n===w)return e;var s=o.get(n),a=n in t;if(void 0!==s||a&&!(null==(r=i(t,n))?void 0:r.writable)||(s=c(()=>J(z(a?t[n]:S))),o.set(n,s)),void 0!==s){var d=ct(s);return d===S?void 0:d}return Reflect.get(t,n,l)},getOwnPropertyDescriptor(e,t){var n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&"value"in n){var l=o.get(t);l&&(n.value=ct(l))}else if(void 0===n){var i=o.get(t),r=null==i?void 0:i.v;if(void 0!==i&&r!==S)return{enumerable:!0,configurable:!0,value:r,writable:!0}}return n},has(e,t){var n;if(t===w)return!0;var l=o.get(t),r=void 0!==l&&l.v!==S||Reflect.has(e,t);return!((void 0!==l||null!==Me&&(!r||(null==(n=i(e,t))?void 0:n.writable)))&&(void 0===l&&(l=c(()=>J(r?z(e[t]):S)),o.set(t,l)),ct(l)===S))&&r},set(e,t,n,s){var a,d=o.get(t),u=t in e;if(l&&"length"===t)for(var v=n;v<d.v;v+=1){var p=o.get(v+"");void 0!==p?K(p,S):v in e&&(p=c(()=>J(S)),o.set(v+"",p))}void 0===d?u&&!(null==(a=i(e,t))?void 0:a.writable)||(K(d=c(()=>J(void 0)),z(n)),o.set(t,d)):(u=d.v!==S,K(d,c(()=>z(n))));var g=Reflect.getOwnPropertyDescriptor(e,t);if((null==g?void 0:g.set)&&g.set.call(s,n),!u){if(l&&"string"==typeof t){var f=o.get("length"),b=Number(t);Number.isInteger(b)&&b>=f.v&&K(f,b+1)}N(r)}return!0},ownKeys(e){ct(r);var t=Reflect.ownKeys(e).filter(e=>{var t=o.get(e);return void 0===t||t.v!==S});for(var[n,l]of o)l.v===S||n in e||t.push(n);return t},setPrototypeOf(){!function(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}()}})}function N(e,t=1){K(e,e.v+t)}function R(e){try{if(null!==e&&"object"==typeof e&&w in e)return e[w]}catch{}return e}function E(e,t){return Object.is(R(e),R(t))}function j(e){var t=2050,n=null!==je&&2&je.f?je:null;return null===Me||null!==n&&0!==(n.f&g)?t|=g:Me.f|=1048576,{ctx:L,deps:null,effects:null,equals:T,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??Me}}function D(e){const t=j(e);return t.equals=C,t}function F(e){var t=e.effects;if(null!==t){e.effects=null;for(var n=0;n<t.length;n+=1)ke(t[n])}}function M(e){var t,n=Me;Oe(function(e){for(var t=e.parent;null!==t;){if(!(2&t.f))return t;t=t.parent}return null}(e));try{F(e),t=tt(e)}finally{Oe(n)}return t}function O(e){var t=M(e);e.equals(t)||(e.v=t,e.wv=Ye()),Ne||ft(e,!Qe&&0===(e.f&g)||null===e.deps?f:m)}const U=new Map;function H(e,t){return{f:0,v:e,reactions:null,equals:T,rv:0,wv:0}}function J(e,t){const n=H(e);var o;return o=n,null!==je&&je.f&y&&(null===Ue?Ue=[je,[o]]:Ue[1].push(o)),n}function G(e,t=!1,n=!0){var o;const l=H(e);return t||(l.equals=C),B&&n&&null!==L&&null!==L.l&&((o=L.l).s??(o.s=[])).push(l),l}function K(e,t,n=!1){return null!==je&&!De&&A()&&18&je.f&&(!(null==Ue?void 0:Ue[1].includes(e))||Ue[0]!==je)&&function(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}(),V(e,n?z(t):t)}function V(e,t){if(!e.equals(t)){var n=e.v;Ne?U.set(e,t):U.set(e,n),e.v=t,2&e.f&&(0!==(e.f&b)&&M(e),ft(e,0===(e.f&g)?f:m)),e.wv=Ye(),Q(e,b),!A()||null===Me||0===(Me.f&f)||96&Me.f||(null===Ge?function(e){Ge=e}([e]):Ge.push(e))}return t}function Q(e,t){var n=e.reactions;if(null!==n)for(var o=A(),l=n.length,i=0;i<l;i++){var r=n[i],s=r.f;0===(s&b)&&(o||r!==Me)&&(ft(r,t),1280&s&&(2&s?Q(r,m):at(r)))}}var X,Y,Z,ee;function te(e=""){return document.createTextNode(e)}function ne(e){return Z.call(e)}function oe(e){return ee.call(e)}function le(e,t){return ne(e)}function ie(e,t){var n=ne(e);return n instanceof Comment&&""===n.data?oe(n):n}function re(e,t=1,n=!1){let o=e;for(;t--;)o=oe(o);return o}function se(e){null===Me&&null===je&&function(){throw new Error("https://svelte.dev/e/effect_orphan")}(),null!==je&&0!==(je.f&g)&&null===Me&&function(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}(),Ne&&function(){throw new Error("https://svelte.dev/e/effect_in_teardown")}()}function ae(e,t,n,o=!0){var l=Me,i={ctx:L,deps:null,nodes_start:null,nodes_end:null,f:e|b,first:null,fn:t,last:null,next:null,parent:l,prev:null,teardown:null,transitions:null,wv:0};if(n)try{lt(i),i.f|=32768}catch(s){throw ke(i),s}else null!==t&&at(i);if((!n||null!==i.deps||null!==i.first||null!==i.nodes_start||null!==i.teardown||1048704&i.f)&&o&&(null!==l&&function(e,t){var n=t.last;null===n?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}(i,l),null!==je&&2&je.f)){var r=je;(r.effects??(r.effects=[])).push(i)}return i}function de(e){const t=ae(8,null,!1);return ft(t,f),t.teardown=e,t}function ue(e){if(se(),!(null!==Me&&32&Me.f&&null!==L)||L.m)return ce(e);var t=L;(t.e??(t.e=[])).push({fn:e,effect:Me,reaction:je})}function ce(e){return ae(4,e,!1)}function ve(e,t){var n=L,o={effect:null,ran:!1};n.l.r1.push(o),o.effect=ge(()=>{e(),o.ran||(o.ran=!0,K(n.l.r2,!0),pt(t))})}function pe(){var e=L;ge(()=>{if(ct(e.l.r2)){for(var t of e.l.r1){var n=t.effect;0!==(n.f&f)&&ft(n,m),Ze(n)&&lt(n),t.ran=!1}e.l.r2.v=!1}})}function ge(e){return ae(8,e,!0)}function fe(e,t=[],n=j){const o=t.map(n);return be(()=>e(...o.map(ct)))}function be(e,t=0){return ae(24|t,e,!0)}function me(e,t=!0){return ae(40,e,!0,t)}function xe(e){var t=e.teardown;if(null!==t){const e=Ne,n=je;Re(!0),Fe(null);try{t.call(null)}finally{Re(e),Fe(n)}}}function he(e,t=!1){var n=e.first;for(e.first=e.last=null;null!==n;){var o=n.next;64&n.f?n.parent=null:ke(n,t),n=o}}function ke(e,t=!0){var n=!1;(t||524288&e.f)&&null!==e.nodes_start&&null!==e.nodes_end&&(function(e,t){for(;null!==e;){var n=e===t?null:oe(e);e.remove(),e=n}}(e.nodes_start,e.nodes_end),n=!0),he(e,t&&!n),ot(e,0),ft(e,16384);var o=e.transitions;if(null!==o)for(const i of o)i.stop();xe(e);var l=e.parent;null!==l&&null!==l.first&&ye(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function ye(e){var t=e.parent,n=e.prev,o=e.next;null!==n&&(n.next=o),null!==o&&(o.prev=n),null!==t&&(t.first===e&&(t.first=o),t.last===e&&(t.last=n))}function we(e,t){var n=[];Te(e,n,!0),_e(n,()=>{ke(e),t&&t()})}function _e(e,t){var n=e.length;if(n>0){var o=()=>--n||t();for(var l of e)l.out(o)}else t()}function Te(e,t,n){if(0===(e.f&x)){if(e.f^=x,null!==e.transitions)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var o=e.first;null!==o;){var l=o.next;Te(o,t,!!(0!==(o.f&h)||32&o.f)&&n),o=l}}}function $e(e){Ce(e,!0)}function Ce(e,t){if(0!==(e.f&x)){e.f^=x;for(var n=e.first;null!==n;){var o=n.next;Ce(n,!!(0!==(n.f&h)||32&n.f)&&t),n=o}if(null!==e.transitions)for(const n of e.transitions)(n.is_global||t)&&n.in()}}let Be=[],Se=[];function Ie(){var e=Be;Be=[],p(e)}function Le(e){0===Be.length&&queueMicrotask(Ie),Be.push(e)}function Pe(){var e;Be.length>0&&Ie(),Se.length>0&&(e=Se,Se=[],p(e))}function qe(e,t){for(;null!==t;){if(128&t.f)try{return void t.fn(e)}catch{}t=t.parent}throw e}let We=!1,Ae=null,ze=!1,Ne=!1;function Re(e){Ne=e}let Ee=[],je=null,De=!1;function Fe(e){je=e}let Me=null;function Oe(e){Me=e}let Ue=null,He=null,Je=0,Ge=null,Ke=1,Ve=0,Qe=!1,Xe=null;function Ye(){return++Ke}function Ze(e){var t,n=e.f;if(0!==(n&b))return!0;if(0!==(n&m)){var o=e.deps,l=0!==(n&g);if(null!==o){var i,r,s=!!(512&n),a=l&&null!==Me&&!Qe,d=o.length;if(s||a){var u=e,c=u.parent;for(i=0;i<d;i++)r=o[i],!s&&(null==(t=null==r?void 0:r.reactions)?void 0:t.includes(u))||(r.reactions??(r.reactions=[])).push(u);s&&(u.f^=512),a&&null!==c&&0===(c.f&g)&&(u.f^=g)}for(i=0;i<d;i++)if(Ze(r=o[i])&&O(r),r.wv>e.wv)return!0}l&&(null===Me||Qe)||ft(e,f)}return!1}function et(e,t,n=!0){var o=e.reactions;if(null!==o)for(var l=0;l<o.length;l++){var i=o[l];(null==Ue?void 0:Ue[1].includes(e))&&Ue[0]===je||(2&i.f?et(i,t,!1):t===i&&(n?ft(i,b):0!==(i.f&f)&&ft(i,m),at(i)))}}function tt(e){var t,n=He,o=Je,l=Ge,i=je,r=Qe,s=Ue,a=L,d=De,u=e.f;He=null,Je=0,Ge=null,Qe=0!==(u&g)&&(De||!ze||null===je),je=96&u?null:e,Ue=null,P(e.ctx),De=!1,Ve++,e.f|=y;try{var c=(0,e.fn)(),v=e.deps;if(null!==He){var p;if(ot(e,Je),null!==v&&Je>0)for(v.length=Je+He.length,p=0;p<He.length;p++)v[Je+p]=He[p];else e.deps=v=He;if(!Qe)for(p=Je;p<v.length;p++)((t=v[p]).reactions??(t.reactions=[])).push(e)}else null!==v&&Je<v.length&&(ot(e,Je),v.length=Je);if(A()&&null!==Ge&&!De&&null!==v&&!(6146&e.f))for(p=0;p<Ge.length;p++)et(Ge[p],e);return null!==i&&i!==e&&(Ve++,null!==Ge&&(null===l?l=Ge:l.push(...Ge))),c}catch(f){!function(e){var t=Me;if(32768&t.f)qe(e,t);else{if(!(128&t.f))throw e;t.fn(e)}}(f)}finally{He=n,Je=o,Ge=l,je=i,Qe=r,Ue=s,P(a),De=d,e.f^=y}}function nt(e,t){let o=t.reactions;if(null!==o){var l=n.call(o,e);if(-1!==l){var i=o.length-1;0===i?o=t.reactions=null:(o[l]=o[i],o.pop())}}null===o&&2&t.f&&(null===He||!He.includes(t))&&(ft(t,m),768&t.f||(t.f^=512),F(t),ot(t,0))}function ot(e,t){var n=e.deps;if(null!==n)for(var o=t;o<n.length;o++)nt(e,n[o])}function lt(e){var t=e.f;if(!(16384&t)){ft(e,f);var n=Me,o=ze;Me=e,ze=!0;try{16&t?function(e){for(var t=e.first;null!==t;){var n=t.next;!(32&t.f)&&ke(t),t=n}}(e):he(e),xe(e);var l=tt(e);e.teardown="function"==typeof l?l:null,e.wv=Ke}finally{ze=o,Me=n}}}function it(){try{!function(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}()}catch(e){if(null===Ae)throw e;qe(e,Ae)}}function rt(){var e=ze;try{var t=0;for(ze=!0;Ee.length>0;){t++>1e3&&it();var n=Ee,o=n.length;Ee=[];for(var l=0;l<o;l++)st(dt(n[l]));U.clear()}}finally{We=!1,ze=e,Ae=null}}function st(e){var t=e.length;if(0!==t)for(var n=0;n<t;n++){var o=e[n];24576&o.f||Ze(o)&&(lt(o),null===o.deps&&null===o.first&&null===o.nodes_start&&(null===o.teardown?ye(o):o.fn=null))}}function at(e){We||(We=!0,queueMicrotask(rt));for(var t=Ae=e;null!==t.parent;){var n=(t=t.parent).f;if(96&n){if(0===(n&f))return;t.f^=f}}Ee.push(t)}function dt(e){for(var t=[],n=e;null!==n;){var o=n.f,l=!!(96&o);if((!l||0===(o&f))&&0===(o&x)){4&o?t.push(n):l?n.f^=f:Ze(n)&&lt(n);var i=n.first;if(null!==i){n=i;continue}}var r=n.parent;for(n=n.next;null===n&&null!==r;)n=r.next,r=r.parent}return t}function ut(e){for(;;){if(Pe(),0===Ee.length)return We=!1,void(Ae=null);We=!0,rt()}}function ct(e){var t=!!(2&e.f);if(null!==Xe&&Xe.add(e),null===je||De){if(t&&null===e.deps&&null===e.effects){var n=e,o=n.parent;null!==o&&0===(o.f&g)&&(n.f^=g)}}else if(!(null==Ue?void 0:Ue[1].includes(e))||Ue[0]!==je){var l=je.deps;e.rv<Ve&&(e.rv=Ve,null===He&&null!==l&&l[Je]===e?Je++:null===He?He=[e]:Qe&&He.includes(e)||He.push(e))}return t&&Ze(n=e)&&O(n),Ne&&U.has(e)?U.get(e):e.v}function vt(e){var t=function(e){var t=Xe;Xe=new Set;var n,o=Xe;try{if(pt(e),null!==t)for(n of Xe)t.add(n)}finally{Xe=t}return o}(()=>pt(e));for(var n of t)if(0!==(n.f&k))for(const e of n.deps||[])2&e.f||V(e,e.v);else V(n,n.v)}function pt(e){var t=De;try{return De=!0,e()}finally{De=t}}const gt=-7169;function ft(e,t){e.f=e.f&gt|t}function bt(e){if("object"==typeof e&&e&&!(e instanceof EventTarget))if(w in e)mt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];"object"==typeof n&&n&&w in n&&mt(n)}}function mt(e,t=new Set){if(!("object"!=typeof e||null===e||e instanceof EventTarget||t.has(e))){t.add(e),e instanceof Date&&e.getTime();for(let l in e)try{mt(e[l],t)}catch(n){}const o=d(e);if(o!==Object.prototype&&o!==Array.prototype&&o!==Map.prototype&&o!==Set.prototype&&o!==Date.prototype){const t=r(o);for(let o in t){const l=t[o].get;if(l)try{l.call(e)}catch(n){}}}}}const xt=["touchstart","touchmove"];function ht(e){return xt.includes(e)}let kt=!1;function yt(e){var t=je,n=Me;Fe(null),Oe(null);try{return e()}finally{Fe(t),Oe(n)}}function wt(e,t,n,o=n){e.addEventListener(t,()=>yt(n));const l=e.__on_r;e.__on_r=l?()=>{l(),o(!0)}:()=>o(!0),kt||(kt=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)null==(t=n.__on_r)||t.call(n)})},{capture:!0}))}const _t=new Set,Tt=new Set;function $t(e,t,n,o,l){var i={capture:o,passive:l},r=function(e,t,n,o={}){function l(e){if(o.capture||Ct.call(t,e),!e.cancelBubble)return yt(()=>null==n?void 0:n.call(this,e))}return e.startsWith("pointer")||e.startsWith("touch")||"wheel"===e?Le(()=>{t.addEventListener(e,l,o)}):t.addEventListener(e,l,o),l}(e,t,n,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&de(()=>{t.removeEventListener(e,r,i)})}function Ct(e){var n,o=this,i=o.ownerDocument,r=e.type,s=(null==(n=e.composedPath)?void 0:n.call(e))||[],a=s[0]||e.target,d=0,u=e.__root;if(u){var c=s.indexOf(u);if(-1!==c&&(o===document||o===window))return void(e.__root=o);var v=s.indexOf(o);if(-1===v)return;c<=v&&(d=c)}if((a=s[d]||e.target)!==o){l(e,"currentTarget",{configurable:!0,get:()=>a||i});var p=je,g=Me;Fe(null),Oe(null);try{for(var f,b=[];null!==a;){var m=a.assignedSlot||a.parentNode||a.host||null;try{var x=a["__"+r];if(null!=x&&(!a.disabled||e.target===a))if(t(x)){var[h,...k]=x;h.apply(a,[e,...k])}else x.call(a,e)}catch(y){f?b.push(y):f=y}if(e.cancelBubble||m===o||null===m)break;a=m}if(f){for(let e of b)queueMicrotask(()=>{throw e});throw f}}finally{e.__root=o,delete e.currentTarget,Fe(p),Oe(g)}}}function Bt(e,t){var n=Me;null===n.nodes_start&&(n.nodes_start=e,n.nodes_end=t)}function St(e,t){var n,o=!!(1&t),l=!!(2&t),i=!e.startsWith("<!>");return()=>{var t,r;void 0===n&&(t=i?e:"<!>"+e,(r=document.createElement("template")).innerHTML=t.replaceAll("<!>","\x3c!----\x3e"),n=r.content,o||(n=ne(n)));var s=l||Y?document.importNode(n,!0):n.cloneNode(!0);return o?Bt(ne(s),s.lastChild):Bt(s,s),s}}function It(e=""){var t=te(e+"");return Bt(t,t),t}function Lt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=te();return e.append(t,n),Bt(t,n),e}function Pt(e,t){null!==e&&e.before(t)}function qt(e,t){var n=null==t?"":"object"==typeof t?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Wt(e,t){return function(e,{target:t,anchor:n,props:l={},events:r,context:s,intro:a=!0}){!function(){if(void 0===X){X=window,Y=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Z=i(t,"firstChild").get,ee=i(t,"nextSibling").get,u(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),u(n)&&(n.__t=void 0)}}();var d=new Set,c=e=>{for(var n=0;n<e.length;n++){var o=e[n];if(!d.has(o)){d.add(o);var l=ht(o);t.addEventListener(o,Ct,{passive:l});var i=At.get(o);void 0===i?(document.addEventListener(o,Ct,{passive:l}),At.set(o,1)):At.set(o,i+1)}}};c(o(_t)),Tt.add(c);var v=void 0,p=function(){const o=ae(64,()=>{var o=n??t.appendChild(te());return me(()=>{s&&(q({}),L.c=s),r&&(l.$$events=r),v=e(o,l)||{},s&&W()}),()=>{var e;for(var l of d){t.removeEventListener(l,Ct);var i=At.get(l);0===--i?(document.removeEventListener(l,Ct),At.delete(l)):At.set(l,i)}Tt.delete(c),o!==n&&(null==(e=o.parentNode)||e.removeChild(o))}},!0);return(e={})=>new Promise(t=>{e.outro?we(o,()=>{ke(o),t(void 0)}):(ke(o),t(void 0))})}();return zt.set(v,p),v}(e,t)}const At=new Map;let zt=new WeakMap;function Nt(e,t,[n,o]=[0,0]){var l=e,i=null,r=null,s=S,a=!1;const d=(e,t=!0)=>{a=!0,u(t,e)},u=(e,t)=>{s!==(s=e)&&(s?(i?$e(i):t&&(i=me(()=>t(l))),r&&we(r,()=>{r=null})):(r?$e(r):t&&(r=me(()=>t(l,[n+1,o]))),i&&we(i,()=>{i=null})))};be(()=>{a=!1,t(d),a||u(null,null)},n>0?h:0)}function Rt(e,t){return t}function Et(e,n,l,i,r,s=null){var a,d={flags:n,items:new Map,first:null};a=e.appendChild(te());var u=null,c=!1,v=D(()=>{var e=l();return t(e)?e:null==e?[]:o(e)});be(()=>{var e=ct(v),t=e.length;c&&0===t||(c=0===t,function(e,t,n,l,i,r,s){var a,d,u,c,v,p=e.length,g=t.items,f=t.first,b=null,m=[],h=[];for(v=0;v<p;v+=1)if(u=r(d=e[v],v),void 0!==(c=g.get(u))){if(jt(c,d,v),0!==(c.e.f&x)&&$e(c.e),c!==f){if(void 0!==a&&a.has(c)){if(m.length<h.length){var k,y=h[0];b=y.prev;var w=m[0],_=m[m.length-1];for(k=0;k<m.length;k+=1)Ft(m[k],y,n);for(k=0;k<h.length;k+=1)a.delete(h[k]);Mt(t,w.prev,_.next),Mt(t,b,w),Mt(t,_,y),f=y,b=_,v-=1,m=[],h=[]}else a.delete(c),Ft(c,f,n),Mt(t,c.prev,c.next),Mt(t,c,null===b?t.first:b.next),Mt(t,b,c),b=c;continue}for(m=[],h=[];null!==f&&f.k!==u;)0===(f.e.f&x)&&(a??(a=new Set)).add(f),h.push(f),f=f.next;if(null===f)continue;c=f}m.push(c),b=c,f=c.next}else b=Dt(f?f.e.nodes_start:n,t,b,null===b?t.first:b.next,d,u,v,l,i,s),g.set(u,b),m=[],h=[],f=b.next;if(null!==f||void 0!==a){for(var T=void 0===a?[]:o(a);null!==f;)0===(f.e.f&x)&&T.push(f),f=f.next;T.length>0&&function(e,t,n,o){for(var l=[],i=t.length,r=0;r<i;r++)Te(t[r].e,l,!0);var s=i>0&&0===l.length&&null!==n;if(s){var a=n.parentNode;a.textContent="",a.append(n),o.clear(),Mt(e,t[0].prev,t[i-1].next)}_e(l,()=>{for(var n=0;n<i;n++){var l=t[n];s||(o.delete(l.k),Mt(e,l.prev,l.next)),ke(l.e,!s)}})}(t,T,0===p?n:null,g)}Me.first=t.first&&t.first.e,Me.last=b&&b.e}(e,d,a,r,n,i,l),null!==s&&(0===t?u?$e(u):u=me(()=>s(a)):null!==u&&we(u,()=>{u=null})),ct(v))})}function jt(e,t,n,o){V(e.v,t),e.i=n}function Dt(e,t,n,o,l,i,r,s,a,d){var u=1&a?16&a?H(l):G(l,!1,!1):l,c=2&a?H(r):r,v={i:c,v:u,k:i,a:null,e:null,prev:n,next:o};try{return v.e=me(()=>s(e,u,c,d),!1),v.e.prev=n&&n.e,v.e.next=o&&o.e,null===n?t.first=v:(n.next=v,n.e.next=v.e),null!==o&&(o.prev=v,o.e.prev=v.e),v}finally{}}function Ft(e,t,n){for(var o=e.next?e.next.e.nodes_start:n,l=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==o;){var r=oe(i);l.before(i),i=r}}function Mt(e,t,n){null===t?e.first=n:(t.next=n,t.e.next=n&&n.e),null!==n&&(n.prev=t,n.e.prev=t&&t.e)}const Ot=[..." \t\n\r\f \v\ufeff"];function Ut(e,t,n,o,l,i){var r=e.__className;if(r!==n||void 0===r){var s=function(e,t,n){var o=null==e?"":""+e;if(t&&(o=o?o+" "+t:t),n)for(var l in n)if(n[l])o=o?o+" "+l:l;else if(o.length)for(var i=l.length,r=0;(r=o.indexOf(l,r))>=0;){var s=r+i;0!==r&&!Ot.includes(o[r-1])||s!==o.length&&!Ot.includes(o[s])?r=s:o=(0===r?"":o.substring(0,r))+o.substring(s+1)}return""===o?null:o}(n,o,i);null==s?e.removeAttribute("class"):e.className=s,e.__className=n}else if(i&&l!==i)for(var a in i){var d=!!i[a];null!=l&&d===!!l[a]||e.classList.toggle(a,d)}return i}function Ht(e,t,n,o){if(e.__style!==t){var l=function(e){return null==e?null:String(e)}(t);null==l?e.removeAttribute("style"):e.style.cssText=l,e.__style=t}return o}function Jt(e,n,o){if(e.multiple){if(null==n)return;if(!t(n))return void console.warn("https://svelte.dev/e/select_multiple_invalid_value");for(var l of e.options)l.selected=n.includes(Kt(l))}else{for(l of e.options)if(E(Kt(l),n))return void(l.selected=!0);o&&void 0===n||(e.selectedIndex=-1)}}function Gt(e,t,n=t){var o=!0;wt(e,"change",t=>{var o,l=t?"[selected]":":checked";if(e.multiple)o=[].map.call(e.querySelectorAll(l),Kt);else{var i=e.querySelector(l)??e.querySelector("option:not([disabled])");o=i&&Kt(i)}n(o)}),ce(()=>{var l=t();if(Jt(e,l,o),o&&void 0===l){var i=e.querySelector(":checked");null!==i&&(l=Kt(i),n(l))}e.__value=l,o=!1}),function(e){ce(()=>{var t=new MutationObserver(()=>{var t=e.__value;Jt(e,t)});return t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}(e)}function Kt(e){return"__value"in e?e.__value:e.value}const Vt=Symbol("is custom element"),Qt=Symbol("is html");function Xt(e,t){var n=Zt(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Yt(e,t,n,o){var l=Zt(e);l[t]!==(l[t]=n)&&(null==n?e.removeAttribute(t):"string"!=typeof n&&function(e){var t,n=en.get(e.nodeName);if(n)return n;en.set(e.nodeName,n=[]);for(var o=e,l=Element.prototype;l!==o;){for(var i in t=r(o))t[i].set&&n.push(i);o=d(o)}return n}(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Zt(e){return e.__attributes??(e.__attributes={[Vt]:e.nodeName.includes("-"),[Qt]:"http://www.w3.org/1999/xhtml"===e.namespaceURI})}var en=new Map;function tn(e,t,n=t){var o=A();wt(e,"input",l=>{var i=l?e.defaultValue:e.value;if(i=nn(e)?on(i):i,n(i),o&&i!==(i=t())){var r=e.selectionStart,s=e.selectionEnd;e.value=i??"",null!==s&&(e.selectionStart=r,e.selectionEnd=Math.min(s,e.value.length))}}),null==pt(t)&&e.value&&n(nn(e)?on(e.value):e.value),ge(()=>{var n=t();nn(e)&&n===on(e.value)||("date"!==e.type||n||e.value)&&n!==e.value&&(e.value=n??"")})}function nn(e){var t=e.type;return"number"===t||"range"===t}function on(e){return""===e?null:+e}function ln(e,t){return e===t||(null==e?void 0:e[w])===t}function rn(e){return function(...t){return t[0].stopPropagation(),null==e?void 0:e.apply(this,t)}}function sn(e=!1){const t=L,n=t.l.u;if(!n)return;let o=()=>bt(t.s);if(e){let e=0,n={};const l=j(()=>{let o=!1;const l=t.s;for(const e in l)l[e]!==n[e]&&(n[e]=l[e],o=!0);return o&&e++,e});o=()=>ct(l)}var l;n.b.length&&(l=()=>{an(t,o),p(n.b)},se(),ge(l)),ue(()=>{const e=pt(()=>n.m.map(v));return()=>{for(const t of e)"function"==typeof t&&t()}}),n.a.length&&ue(()=>{an(t,o),p(n.a)})}function an(e,t){if(e.l.s)for(const n of e.l.s)ct(n);t()}function dn(e,n){var o,l=null==(o=e.$$events)?void 0:o[n.type],i=t(l)?l.slice():null==l?[]:[l];for(var r of i)r.call(this,n)}function un(e,t,n){if(null==e)return t(void 0),c;const o=pt(()=>e.subscribe(t,n));return o.unsubscribe?()=>o.unsubscribe():o}const cn=[];function vn(e,t=c){let n=null;const o=new Set;function l(t){if($(e,t)&&(e=t,n)){const t=!cn.length;for(const n of o)n[1](),cn.push(n,e);if(t){for(let e=0;e<cn.length;e+=2)cn[e][0](cn[e+1]);cn.length=0}}}function i(t){l(t(e))}return{set:l,update:i,subscribe:function(r,s=c){const a=[r,s];return o.add(a),1===o.size&&(n=t(l,i)||c),r(e),()=>{o.delete(a),0===o.size&&n&&(n(),n=null)}}}}let pn=!1,gn=Symbol();function fn(e,t,n){const o=n[t]??(n[t]={store:null,source:G(void 0),unsubscribe:c});if(o.store!==e&&!(gn in n))if(o.unsubscribe(),o.store=e??null,null==e)o.source.v=void 0,o.unsubscribe=c;else{var l=!0;o.unsubscribe=un(e,e=>{l?o.source.v=e:K(o.source,e)}),l=!1}return e&&gn in n?function(e){let t;return un(e,e=>t=e)(),t}(e):ct(o.source)}function bn(){const e={};return[e,function(){de(()=>{for(var t in e)e[t].unsubscribe();l(e,gn,{enumerable:!1,value:!0})})}]}function mn(e,t,n){return e.set(n),t}function xn(e){var t;return(null==(t=e.ctx)?void 0:t.d)??!1}function hn(e,t,n,o){var l,r,s=!B||!!(2&n),a=!!(8&n),d=!1;[r,d]=function(){var n=pn;try{return pn=!1,[e[t],pn]}finally{pn=n}}();var u,c=w in e||_ in e,v=((null==(l=i(e,t))?void 0:l.set)??(c&&t in e&&(n=>e[t]=n)))||void 0,p=o,g=!0,f=!1,b=()=>(f=!0,g&&(g=!1,p=o),p);if(void 0===r&&void 0!==o&&(v&&s&&function(){throw new Error("https://svelte.dev/e/props_invalid_value")}(),r=b(),v&&v(r)),s)u=()=>{var n=e[t];return void 0===n?b():(g=!0,f=!1,n)};else{var m=D(()=>e[t]);m.f|=k,u=()=>{var e=ct(m);return void 0!==e&&(p=void 0),void 0===e?p:e}}if(v){var x=e.$$legacy;return function(e,t){return arguments.length>0?(s&&t&&!x&&!d||v(t?u():e),e):u()}}var h=!1,y=!1,T=G(r),$=j(()=>{var e=u(),t=ct(T);return h?(h=!1,y=!0,t):(y=!1,T.v=e)});return ct($),$.equals=C,function(e,t){if(null!==Xe&&(h=y,u(),ct(T)),arguments.length>0){const n=t?ct($):s&&a?z(e):e;if(!$.equals(n)){if(h=!0,K(T,n),f&&void 0!==p&&(p=n),xn($))return e;pt(()=>ct($))}return e}return xn($)?$.v:ct($)}}"undefined"!=typeof window&&((e=window.__svelte??(window.__svelte={})).v??(e.v=new Set)).add("5"),B=!0;const kn=vn({popupId:"test",popupName:"◯◯キャンペーン",position:"center",displayPeriod:{start:"",end:""},redisplayInterval:1,abTest:{enabled:!1,selectedConfigIds:[]},triggerConditions:{enabled:!1,pageConditions:[],userConditions:[],timingConditions:{delay:0,scrollPercent:0,exitIntent:!1}},ga4:{promotion_id:"",promotion_name:"",creative_name:"",creative_slot:"popup"},design:{background:{color:"#ffffff",imageUrl:""},text:{content:"",color:"#333333",fontSize:"16px",fontWeight:"normal",textAlign:"center",lineHeight:"1.5"},button:{text:"",buttonLink:"",textColor:"#ffffff",backgroundColor:"#007bff",fontSize:"14px",fontWeight:"normal",borderRadius:"4px"},image:{url:"https://placehold.jp/600x300.png",link:"",linkTarget:"_blank"},size:{width:"340px",padding:"0",margin:"0"},decoration:{borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",borderWidth:"0px",borderColor:"#e0e0e0",borderStyle:"solid"}}}),yn=[{value:"top-left",label:"左上"},{value:"top",label:"上中央"},{value:"top-right",label:"右上"},{value:"center",label:"中央"},{value:"bottom-left",label:"左下"},{value:"bottom",label:"下中央"},{value:"bottom-right",label:"右下"}];var wn=St("<option> </option>"),_n=St('<div class="basic-settings-form svelte-1sudym3"><h2 class="svelte-1sudym3">基本設定</h2> <div class="form-group svelte-1sudym3"><label for="popup-id" class="svelte-1sudym3">ポップアップID <span class="required svelte-1sudym3">*</span></label> <input id="popup-id" type="text" placeholder="例: summer-sale-2024" required class="svelte-1sudym3"/> <small class="svelte-1sudym3">英数字とハイフンのみ使用可能</small></div> <div class="form-group svelte-1sudym3"><label for="popup-name" class="svelte-1sudym3">ポップアップ名 <span class="required svelte-1sudym3">*</span></label> <input id="popup-name" type="text" placeholder="例: 夏季セールキャンペーン" required class="svelte-1sudym3"/> <small class="svelte-1sudym3">管理用の名前を入力してください</small></div> <div class="form-group svelte-1sudym3"><label for="position" class="svelte-1sudym3">表示位置</label> <select id="position" class="svelte-1sudym3"></select></div> <div class="form-row svelte-1sudym3"><div class="form-group svelte-1sudym3"><label for="start-date" class="svelte-1sudym3">開始日時</label> <input id="start-date" type="date" class="svelte-1sudym3"/></div> <div class="form-group svelte-1sudym3"><label for="end-date" class="svelte-1sudym3">終了日時</label> <input id="end-date" type="date" class="svelte-1sudym3"/></div></div> <div class="form-group svelte-1sudym3"><label for="redisplay-interval" class="svelte-1sudym3">再表示間隔（時間）</label> <input id="redisplay-interval" type="number" min="1" max="720" class="svelte-1sudym3"/> <small class="svelte-1sudym3">ユーザーがバナーを閉じた後、再度表示するまでの時間</small></div></div>'),Tn=St("<option> </option>"),$n=St("<option> </option>"),Cn=St("<option> </option>"),Bn=St("<option> </option>"),Sn=St('<div class="style-settings-form svelte-18xkd56"><h2 class="svelte-18xkd56">デザイン設定</h2> <div class="section svelte-18xkd56"><h3 class="svelte-18xkd56">サイズ・余白設定</h3> <div class="form-row svelte-18xkd56"><div class="form-group svelte-18xkd56"><label for="popup-width" class="svelte-18xkd56">バナー幅</label> <input id="popup-width" type="text" placeholder="400px" class="svelte-18xkd56"/></div> <div class="form-group svelte-18xkd56"><label for="padding" class="svelte-18xkd56">内側余白</label> <input id="padding" type="text" placeholder="20px" class="svelte-18xkd56"/></div> <div class="form-group svelte-18xkd56"><label for="margin" class="svelte-18xkd56">外側余白</label> <input id="margin" type="text" placeholder="10px" class="svelte-18xkd56"/></div></div></div> <div class="section svelte-18xkd56"><h3 class="svelte-18xkd56">背景設定</h3> <div class="form-row svelte-18xkd56"><div class="form-group svelte-18xkd56"><label for="bg-color" class="svelte-18xkd56">背景色</label> <input id="bg-color" type="color" class="svelte-18xkd56"/></div> <div class="form-group svelte-18xkd56"><label for="bg-image" class="svelte-18xkd56">背景画像URL</label> <input id="bg-image" type="url" placeholder="https://example.com/image.jpg" class="svelte-18xkd56"/></div></div></div> <div class="section svelte-18xkd56"><h3 class="svelte-18xkd56">テキスト設定</h3> <div class="form-group svelte-18xkd56"><label for="main-text" class="svelte-18xkd56">メインテキスト</label> <textarea id="main-text" placeholder="バナーに表示するメインテキストを入力" rows="3" class="svelte-18xkd56"></textarea></div> <div class="form-row svelte-18xkd56"><div class="form-group svelte-18xkd56"><label for="text-color" class="svelte-18xkd56">文字色</label> <input id="text-color" type="color" class="svelte-18xkd56"/></div> <div class="form-group svelte-18xkd56"><label for="font-size" class="svelte-18xkd56">フォントサイズ</label> <input id="font-size" type="text" placeholder="16px" class="svelte-18xkd56"/></div> <div class="form-group svelte-18xkd56"><label for="font-weight" class="svelte-18xkd56">フォントウェイト</label> <select id="font-weight" class="svelte-18xkd56"></select></div></div> <div class="form-row svelte-18xkd56"><div class="form-group svelte-18xkd56"><label for="text-align" class="svelte-18xkd56">テキスト配置</label> <select id="text-align" class="svelte-18xkd56"></select></div> <div class="form-group svelte-18xkd56"><label for="line-height" class="svelte-18xkd56">行間</label> <input id="line-height" type="text" placeholder="1.5" class="svelte-18xkd56"/></div></div></div> <div class="section svelte-18xkd56"><h3 class="svelte-18xkd56">ボタン設定</h3> <div class="form-group svelte-18xkd56"><label for="button-text" class="svelte-18xkd56">ボタンテキスト</label> <input id="button-text" type="text" placeholder="ボタンテキスト" class="svelte-18xkd56"/></div> <div class="form-group svelte-18xkd56"><label for="button-link-url" class="svelte-18xkd56">ボタンリンクURL:</label> <input id="button-link-url" type="url" placeholder="https://example.com/" class="svelte-18xkd56"/> <small class="svelte-18xkd56">ボタンをクリックした時のリンク先URL（任意）</small></div> <div class="form-row svelte-18xkd56"><div class="form-group svelte-18xkd56"><label for="button-color" class="svelte-18xkd56">ボタン背景色</label> <input id="button-color" type="color" class="svelte-18xkd56"/></div> <div class="form-group svelte-18xkd56"><label for="button-text-color" class="svelte-18xkd56">ボタン文字色</label> <input id="button-text-color" type="color" class="svelte-18xkd56"/></div> <div class="form-group svelte-18xkd56"><label for="button-font-size" class="svelte-18xkd56">ボタンフォントサイズ</label> <input id="button-font-size" type="text" placeholder="14px" class="svelte-18xkd56"/></div></div> <div class="form-row svelte-18xkd56"><div class="form-group svelte-18xkd56"><label for="button-font-weight" class="svelte-18xkd56">ボタンフォントウェイト</label> <select id="button-font-weight" class="svelte-18xkd56"></select></div> <div class="form-group svelte-18xkd56"><label for="button-border-radius" class="svelte-18xkd56">ボタン角丸</label> <input id="button-border-radius" type="text" placeholder="4px" class="svelte-18xkd56"/></div></div></div> <div class="section svelte-18xkd56"><h3 class="svelte-18xkd56">画像設定</h3> <div class="form-group svelte-18xkd56"><label for="image-url" class="svelte-18xkd56">画像URL</label> <input id="image-url" type="url" placeholder="https://example.com/image.jpg" class="svelte-18xkd56"/></div> <div class="form-group svelte-18xkd56"><label for="image-link" class="svelte-18xkd56">画像リンクURL</label> <input id="image-link" type="url" placeholder="https://example.com/link" class="svelte-18xkd56"/> <small class="svelte-18xkd56">画像をクリックした時のリンク先URL（任意）</small></div> <div class="form-group svelte-18xkd56"><label for="image-link-target" class="svelte-18xkd56">リンクターゲット</label> <select id="image-link-target" class="svelte-18xkd56"><option>新しいタブで開く (_blank)</option><option>同じタブで開く (_self)</option><option>親フレームで開く (_parent)</option><option>最上位フレームで開く (_top)</option></select> <small class="svelte-18xkd56">リンクの開き方を設定</small></div></div> <div class="section svelte-18xkd56"><h3 class="svelte-18xkd56">装飾設定</h3> <div class="form-row svelte-18xkd56"><div class="form-group svelte-18xkd56"><label for="border-radius" class="svelte-18xkd56">角丸</label> <input id="border-radius" type="text" placeholder="8px" class="svelte-18xkd56"/></div> <div class="form-group svelte-18xkd56"><label for="box-shadow" class="svelte-18xkd56">シャドウ</label> <input id="box-shadow" type="text" placeholder="0 4px 12px rgba(0, 0, 0, 0.15)" class="svelte-18xkd56"/></div></div> <div class="form-row svelte-18xkd56"><div class="form-group svelte-18xkd56"><label for="border-width" class="svelte-18xkd56">ボーダー幅</label> <input id="border-width" type="text" placeholder="1px" class="svelte-18xkd56"/></div> <div class="form-group svelte-18xkd56"><label for="border-color" class="svelte-18xkd56">ボーダー色</label> <input id="border-color" type="color" class="svelte-18xkd56"/></div> <div class="form-group svelte-18xkd56"><label for="border-style" class="svelte-18xkd56">ボーダースタイル</label> <select id="border-style" class="svelte-18xkd56"></select></div></div></div></div>');class In{constructor(e){this.config=e}shouldLog(e){if(!this.config.enabled)return!1;const t=["debug","info","warn","error"],n=t.indexOf(this.config.level);return t.indexOf(e)>=n}debug(e,...t){this.shouldLog("debug")&&console.log(`${this.config.prefix}[DEBUG]`,e,...t)}info(e,...t){this.shouldLog("info")&&console.info(`${this.config.prefix}[INFO]`,e,...t)}warn(e,...t){this.shouldLog("warn")&&console.warn(`${this.config.prefix}[WARN]`,e,...t)}error(e,...t){this.shouldLog("error")&&console.error(`${this.config.prefix}[ERROR]`,e,...t)}}const Ln=(e="")=>{const t="undefined"!=typeof window&&"on"===new URLSearchParams(window.location.search).get("popupBannerDebug");return new In({enabled:t,level:t?"debug":"error",prefix:e})},Pn=Ln("[PopupBanner:Image] "),qn=Ln("[PopupBanner:Animation] ");Ln("[PopupBanner:Controller] "),Ln("[PopupBanner:Trigger] "),Ln("[PopupBanner:Cookie] "),Ln("[PopupBanner:GA4] ");var Wn=St('<img alt="バナー画像" style="display: none;" class="svelte-filn8i"/>'),An=St('<div class="dim-bg svelte-filn8i" role="button" tabindex="0"></div>'),zn=St('<img class="banner-image clickable svelte-filn8i" alt="バナー画像" role="button" tabindex="0"/>'),Nn=St('<img class="banner-image svelte-filn8i" alt="バナー画像"/>'),Rn=St('<div class="banner-text svelte-filn8i"> </div>'),En=St("<button> </button>"),jn=St('<div class="under-btn-text svelte-filn8i"> </div>'),Dn=St('<!> <div><div><button class="close-btn svelte-filn8i">×</button> <!> <!> <!> <!></div></div>',1),Fn=St("<!> <!>",1);function Mn(e,n){q(n,!1);const o=G(),l=G(),i=G(),r=G(),s=G(),a=G(),d=G(),u=function(){const e=L;return null===e&&I(),(n,o,l)=>{var i;const r=null==(i=e.s.$$events)?void 0:i[n];if(r){const i=t(r)?r.slice():[r],s=function(e,t,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:o})}(n,o,l);for(const t of i)t.call(e.x,s);return!s.defaultPrevented}return!0}}();let c=hn(n,"popupId",12,"sample"),v=hn(n,"popupName",12,"サンプルバナー"),p=hn(n,"popupPosition",12,"center"),g=hn(n,"popupWidth",12,""),f=hn(n,"popupBackgroundColor",12,""),b=hn(n,"popupPadding",12,""),m=hn(n,"popupMargin",12,""),x=hn(n,"popupBorderRadius",12,""),h=hn(n,"popupBoxShadow",12,""),k=hn(n,"popupBorderWidth",12,""),y=hn(n,"popupBorderColor",12,""),w=hn(n,"popupBorderStyle",12,""),_=hn(n,"dimBackground",12,!0),T=hn(n,"closeButtonColor",12,""),$=hn(n,"closeButtonBackgroundColor",12,""),C=hn(n,"closeButtonTop",12,""),S=hn(n,"closeButtonRight",12,""),P=hn(n,"imageUrl",12,null),A=hn(n,"imagePadding",12,""),z=hn(n,"imageMargin",12,""),N=hn(n,"imageBorderRadius",12,""),R=hn(n,"imageLoadTimeout",12,5),E=hn(n,"imageLoadErrorAction",12,"show"),j=hn(n,"imageLink",12,""),D=hn(n,"imageLinkTarget",12,"_blank"),F=hn(n,"onImageClick",12,()=>{}),M=hn(n,"animationType",12,"none"),O=hn(n,"animationDuration",12,300),U=hn(n,"animationEasing",12,"ease-out"),H=hn(n,"text",12,""),J=hn(n,"middleTextAlign",12,""),V=hn(n,"middleTextLineHeight",12,""),Q=hn(n,"middleTextColor",12,""),X=hn(n,"middleTextFontSize",12,""),Y=hn(n,"middleTextFontWeight",12,""),Z=hn(n,"middleTextPadding",12,""),ee=hn(n,"middleTextMargin",12,""),te=hn(n,"buttonText",12,""),ne=hn(n,"buttonAlign",12,""),oe=hn(n,"buttonColor",12,""),se=hn(n,"buttonTextColor",12,""),ae=hn(n,"buttonFontSize",12,""),de=hn(n,"buttonFontWeight",12,""),be=hn(n,"buttonPadding",12,""),me=hn(n,"buttonMargin",12,""),xe=hn(n,"buttonBorderRadius",12,""),he=hn(n,"buttonBorderStyle",12,""),ke=hn(n,"buttonBorderWidth",12,""),ye=hn(n,"buttonBorderColor",12,""),we=hn(n,"buttonLink",12,""),_e=hn(n,"buttonLinkTarget",12,"_blank"),Te=hn(n,"underBtnText",12,""),$e=hn(n,"underBtnTextAlign",12,""),Ce=hn(n,"underBtnTextLineHeight",12,""),Be=hn(n,"underBtnTextColor",12,""),Se=hn(n,"underBtnTextFontSize",12,""),Ie=hn(n,"underBtnTextFontWeight",12,""),Pe=hn(n,"underBtnTextPadding",12,""),qe=hn(n,"underBtnTextMargin",12,""),We=hn(n,"onButtonClick",12,()=>{}),Ae=hn(n,"onClose",12,()=>{}),ze=G(!1),Ne=G(!1),Re=G(!1),Ee=G(!0),je=G(),De=G(!1),Fe=G("");function Me(){Pn.info("画像読み込み完了:",P()),K(ze,!0),K(Re,!0)}function Oe(){Pn.warn("画像読み込みエラー:",P()),K(Ne,!0),"show"===E()?(K(Ee,!1),K(Re,!0)):(Ae()(),u("close"))}function Ue(){if(P())return Pn.debug(`画像読み込み開始（タイムアウト: ${R()}秒）:`,P()),setTimeout(()=>{ct(ze)||ct(Ne)||(Pn.warn("画像読み込みタイムアウト:",P()),Oe())},1e3*R())}function He(){ct(De)||(Pn.info("画像がクリックされました",{imageUrl:P(),imageLink:j()}),F()&&F()(),j()&&window.open(j(),D()))}function Je(){ct(De)||(We()&&We()(),we()&&window.open(we(),_e()))}function Ge(){(!P()||ct(ze)||ct(Ne))&&(ct(Ne)&&"hide"===E()?Pn.info("画像読み込みエラーのためバナーを表示しません"):(ct(Ne)&&K(Ee,!1),K(Re,!0)))}let Ke=G();function Ve(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),Ae()(),u("close")),"Escape"===e.key&&(Ae()(),u("close"))}var Qe,Xe,Ye;Qe=()=>{P()?Ue():Ge()},null===L&&I(),B&&null!==L.l?(Xe=L,Ye=Xe.l,Ye.u??(Ye.u={a:[],b:[],m:[]})).m.push(Qe):ue(()=>{const e=pt(Qe);if("function"==typeof e)return e}),ve(()=>(bt(c()),bt(v())),()=>{c()&&v()}),ve(()=>(bt(P()),ct(ze),ct(Ne)),()=>{!P()||ct(ze)||ct(Ne)||K(Ke,Ue())}),ve(()=>(bt(f()),bt(g()),bt(b()),bt(m()),bt(x()),bt(h()),bt(k()),bt(y()),bt(w())),()=>{K(o,`\n    ${f()?`background:${f()};`:""}\n    ${g()?`max-width:${g()};`:""}\n    ${b()?`padding:${b()};`:""}\n    ${m()?`margin:${m()};`:""}\n    ${x()?`border-radius:${x()};`:""}\n    ${h()?`box-shadow:${h()};`:""}\n    ${k()?`border-width:${k()};`:""}\n    ${y()?`border-color:${y()};`:""}\n    ${w()?`border-style:${w()};`:""}\n  `)}),ve(()=>bt(p()),()=>{K(l,"bottom"===p()?"position-bottom":"top"===p()?"position-top":"center"===p()?"position-center":"top-left"===p()?"position-top-left":"top-right"===p()?"position-top-right":"middle-left"===p()?"position-middle-left":"middle-right"===p()?"position-middle-right":"bottom-left"===p()?"position-bottom-left":"bottom-right"===p()?"position-bottom-right":"")}),ve(()=>(bt(T()),bt($()),bt(C()),bt(S())),()=>{K(i,`\n    ${T()?`color:${T()};`:""}\n    ${$()?`background:${$()};`:""}\n    ${C()?`top:${C()};`:""}\n    ${S()?`right:${S()};`:""}\n  `)}),ve(()=>(bt(A()),bt(z()),bt(N())),()=>{K(r,`\n    ${A()?`padding:${A()};`:""}\n    ${z()?`margin:${z()};`:""}\n    ${N()?`border-radius:${N()};`:""}\n  `)}),ve(()=>(bt(Q()),bt(J()),bt(V()),bt(X()),bt(Y()),bt(Z()),bt(ee())),()=>{K(s,`\n    ${Q()?`color:${Q()};`:""}\n    ${J()?`text-align:${J()};`:""}\n    ${V()?`line-height:${V()};`:""}\n    ${X()?`font-size:${X()};`:""}\n    ${Y()?`font-weight:${Y()};`:""}\n    ${Z()?`padding:${Z()};`:""}\n    ${ee()?`margin:${ee()};`:""}\n  `)}),ve(()=>(bt(oe()),bt(se()),bt(ae()),bt(de()),bt(be()),bt(me()),bt(xe()),bt(he()),bt(ke()),bt(ye()),bt(ne())),()=>{K(a,`\n    ${oe()?`background:${oe()};`:""}\n    ${se()?`color:${se()};`:""}\n    ${ae()?`font-size:${ae()};`:""}\n    ${de()?`font-weight:${de()};`:""}\n    ${be()?`padding:${be()};`:""}\n    ${me()?`margin:${me()};`:""}\n    ${xe()?`border-radius:${xe()};`:""}\n    ${he()?`border-style:${he()};`:""}\n    ${ke()?`border-width:${ke()};`:""}\n    ${ye()?`border-color:${ye()};`:""}\n    ${ne()?`display:block;margin-left:auto;margin-right:auto;text-align:${ne()};`:""}\n  `)}),ve(()=>(bt(Be()),bt($e()),bt(Ce()),bt(Se()),bt(Ie()),bt(Pe()),bt(qe())),()=>{K(d,`\n    ${Be()?`color:${Be()};`:""}\n    ${$e()?`text-align:${$e()};`:""}\n    ${Ce()?`line-height:${Ce()};`:""}\n    ${Se()?`font-size:${Se()};`:""}\n    ${Ie()?`font-weight:${Ie()};`:""}\n    ${Pe()?`padding:${Pe()};`:""}\n    ${qe()?`margin:${qe()};`:""}\n  `)}),ve(()=>(bt(P()),ct(ze),ct(Ne)),()=>{P()&&(ct(ze)||ct(Ne))&&Ge()}),ve(()=>(ct(Re),ct(je),bt(M())),()=>{ct(Re)&&ct(je)&&requestAnimationFrame(()=>{"none"!==M()&&function(){if("fade-in-up"===M()){qn.debug("fade-in-upアニメーション初期化"),ct(je)&&(ct(je).style.setProperty("--animation-duration",`${O()}ms`),ct(je).style.setProperty("--animation-easing",U())),K(Fe,"animate-fade-in-up"),K(De,!0);const e=()=>{K(De,!1),qn.debug("アニメーション完了"),ct(je)&&ct(je).removeEventListener("animationend",e)};ct(je)&&ct(je).addEventListener("animationend",e)}else if("fade-in-down"===M()){qn.debug("fade-in-downアニメーション初期化"),ct(je)&&(ct(je).style.setProperty("--animation-duration",`${O()}ms`),ct(je).style.setProperty("--animation-easing",U())),K(Fe,"animate-fade-in-down"),K(De,!0);const e=()=>{K(De,!1),qn.debug("アニメーション完了"),ct(je)&&ct(je).removeEventListener("animationend",e)};ct(je)&&ct(je).addEventListener("animationend",e)}else if("fade-in"===M()){qn.debug("fade-inアニメーション初期化"),ct(je)&&(ct(je).style.setProperty("--animation-duration",`${O()}ms`),ct(je).style.setProperty("--animation-easing",U())),K(Fe,"animate-fade-in"),K(De,!0);const e=()=>{K(De,!1),qn.debug("アニメーション完了"),ct(je)&&ct(je).removeEventListener("animationend",e)};ct(je)&&ct(je).addEventListener("animationend",e)}else if("scale-in"===M()){qn.debug("scale-inアニメーション初期化"),ct(je)&&(ct(je).style.setProperty("--animation-duration",`${O()}ms`),ct(je).style.setProperty("--animation-easing",U())),K(Fe,"animate-scale-in"),K(De,!0);const e=()=>{K(De,!1),qn.debug("アニメーション完了"),ct(je)&&ct(je).removeEventListener("animationend",e)};ct(je)&&ct(je).addEventListener("animationend",e)}}()})}),pe(),sn();var Ze=Fn(),et=ie(Ze),tt=e=>{var t=Wn();fe(()=>Yt(t,"src",P())),$t("load",t,Me),$t("error",t,Oe),Pt(e,t)};Nt(et,e=>{!P()||ct(ze)||ct(Ne)||e(tt)});var nt=re(et,2),ot=e=>{var t=Dn(),n=ie(t),c=e=>{var t=An();$t("click",t,()=>{Ae()(),u("close")}),$t("keydown",t,Ve),Pt(e,t)};Nt(n,e=>{_()&&e(c)});var v=re(n,2),p=le(v),g=le(p),f=re(g,2),b=e=>{var t=Lt(),n=ie(t),o=e=>{var t=zn();fe(()=>{Yt(t,"src",P()),Ht(t,ct(r))}),$t("click",t,He),$t("keydown",t,e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),He())}),Pt(e,t)},l=e=>{var t=Nn();fe(()=>{Yt(t,"src",P()),Ht(t,ct(r))}),Pt(e,t)};Nt(n,e=>{j()?e(o):e(l,!1)}),Pt(e,t)};Nt(f,e=>{P()&&ct(Ee)&&e(b)});var m=re(f,2),x=e=>{var t=Rn(),n=le(t);fe(()=>{Ht(t,ct(s)),qt(n,H())}),Pt(e,t)};Nt(m,e=>{H()&&e(x)});var h=re(m,2),k=e=>{var t=En(),n=le(t);fe(()=>{Ut(t,0,"banner-btn"+(we()?" clickable":""),"svelte-filn8i"),Ht(t,ct(a)),t.disabled=ct(De),qt(n,te())}),$t("click",t,Je),Pt(e,t)};Nt(h,e=>{te()&&e(k)});var y=re(h,2),w=e=>{var t=jn(),n=le(t);fe(()=>{Ht(t,ct(d)),qt(n,Te())}),Pt(e,t)};Nt(y,e=>{Te()&&e(w)}),function(e={},t,n){ce(()=>{var o,l;return ge(()=>{o=l,l=[],pt(()=>{e!==n(...l)&&(t(e,...l),o&&ln(n(...o),e)&&t(null,...o))})}),()=>{Le(()=>{l&&ln(n(...l),e)&&t(null,...l)})}})}(p,e=>K(je,e),()=>ct(je)),fe(()=>{Ut(v,0,`popup-container ${ct(l)??""}`,"svelte-filn8i"),Ut(p,0,`popup-banner ${ct(Fe)??""}`,"svelte-filn8i"),Ht(p,ct(o)),Ht(g,ct(i)),g.disabled=ct(De)}),$t("click",g,()=>{ct(Ke)&&clearTimeout(ct(Ke)),Ae()(),u("close")}),Pt(e,t)};return Nt(nt,e=>{ct(Re)&&e(ot)}),Pt(e,Ze),W({get popupId(){return c()},set popupId(e){c(e),ut()},get popupName(){return v()},set popupName(e){v(e),ut()},get popupPosition(){return p()},set popupPosition(e){p(e),ut()},get popupWidth(){return g()},set popupWidth(e){g(e),ut()},get popupBackgroundColor(){return f()},set popupBackgroundColor(e){f(e),ut()},get popupPadding(){return b()},set popupPadding(e){b(e),ut()},get popupMargin(){return m()},set popupMargin(e){m(e),ut()},get popupBorderRadius(){return x()},set popupBorderRadius(e){x(e),ut()},get popupBoxShadow(){return h()},set popupBoxShadow(e){h(e),ut()},get popupBorderWidth(){return k()},set popupBorderWidth(e){k(e),ut()},get popupBorderColor(){return y()},set popupBorderColor(e){y(e),ut()},get popupBorderStyle(){return w()},set popupBorderStyle(e){w(e),ut()},get dimBackground(){return _()},set dimBackground(e){_(e),ut()},get closeButtonColor(){return T()},set closeButtonColor(e){T(e),ut()},get closeButtonBackgroundColor(){return $()},set closeButtonBackgroundColor(e){$(e),ut()},get closeButtonTop(){return C()},set closeButtonTop(e){C(e),ut()},get closeButtonRight(){return S()},set closeButtonRight(e){S(e),ut()},get imageUrl(){return P()},set imageUrl(e){P(e),ut()},get imagePadding(){return A()},set imagePadding(e){A(e),ut()},get imageMargin(){return z()},set imageMargin(e){z(e),ut()},get imageBorderRadius(){return N()},set imageBorderRadius(e){N(e),ut()},get imageLoadTimeout(){return R()},set imageLoadTimeout(e){R(e),ut()},get imageLoadErrorAction(){return E()},set imageLoadErrorAction(e){E(e),ut()},get imageLink(){return j()},set imageLink(e){j(e),ut()},get imageLinkTarget(){return D()},set imageLinkTarget(e){D(e),ut()},get onImageClick(){return F()},set onImageClick(e){F(e),ut()},get animationType(){return M()},set animationType(e){M(e),ut()},get animationDuration(){return O()},set animationDuration(e){O(e),ut()},get animationEasing(){return U()},set animationEasing(e){U(e),ut()},get text(){return H()},set text(e){H(e),ut()},get middleTextAlign(){return J()},set middleTextAlign(e){J(e),ut()},get middleTextLineHeight(){return V()},set middleTextLineHeight(e){V(e),ut()},get middleTextColor(){return Q()},set middleTextColor(e){Q(e),ut()},get middleTextFontSize(){return X()},set middleTextFontSize(e){X(e),ut()},get middleTextFontWeight(){return Y()},set middleTextFontWeight(e){Y(e),ut()},get middleTextPadding(){return Z()},set middleTextPadding(e){Z(e),ut()},get middleTextMargin(){return ee()},set middleTextMargin(e){ee(e),ut()},get buttonText(){return te()},set buttonText(e){te(e),ut()},get buttonAlign(){return ne()},set buttonAlign(e){ne(e),ut()},get buttonColor(){return oe()},set buttonColor(e){oe(e),ut()},get buttonTextColor(){return se()},set buttonTextColor(e){se(e),ut()},get buttonFontSize(){return ae()},set buttonFontSize(e){ae(e),ut()},get buttonFontWeight(){return de()},set buttonFontWeight(e){de(e),ut()},get buttonPadding(){return be()},set buttonPadding(e){be(e),ut()},get buttonMargin(){return me()},set buttonMargin(e){me(e),ut()},get buttonBorderRadius(){return xe()},set buttonBorderRadius(e){xe(e),ut()},get buttonBorderStyle(){return he()},set buttonBorderStyle(e){he(e),ut()},get buttonBorderWidth(){return ke()},set buttonBorderWidth(e){ke(e),ut()},get buttonBorderColor(){return ye()},set buttonBorderColor(e){ye(e),ut()},get buttonLink(){return we()},set buttonLink(e){we(e),ut()},get buttonLinkTarget(){return _e()},set buttonLinkTarget(e){_e(e),ut()},get underBtnText(){return Te()},set underBtnText(e){Te(e),ut()},get underBtnTextAlign(){return $e()},set underBtnTextAlign(e){$e(e),ut()},get underBtnTextLineHeight(){return Ce()},set underBtnTextLineHeight(e){Ce(e),ut()},get underBtnTextColor(){return Be()},set underBtnTextColor(e){Be(e),ut()},get underBtnTextFontSize(){return Se()},set underBtnTextFontSize(e){Se(e),ut()},get underBtnTextFontWeight(){return Ie()},set underBtnTextFontWeight(e){Ie(e),ut()},get underBtnTextPadding(){return Pe()},set underBtnTextPadding(e){Pe(e),ut()},get underBtnTextMargin(){return qe()},set underBtnTextMargin(e){qe(e),ut()},get onButtonClick(){return We()},set onButtonClick(e){We(e),ut()},get onClose(){return Ae()},set onClose(e){Ae(e),ut()}})}var On=St('<li class="svelte-t8pv28"><strong>画像リンク:</strong> </li>'),Un=St('<li class="svelte-t8pv28"><strong>ボタンリンク:</strong> </li>'),Hn=St('<p class="validation-message svelte-t8pv28">※ ポップアップIDと名前を入力してください</p>'),Jn=St('<div class="banner-preview svelte-t8pv28"><h3 class="svelte-t8pv28">プレビュー</h3> <div class="preview-info svelte-t8pv28"><div class="config-summary svelte-t8pv28"><h4 class="svelte-t8pv28">現在の設定</h4> <ul class="svelte-t8pv28"><li class="svelte-t8pv28"><strong>ID:</strong> </li> <li class="svelte-t8pv28"><strong>名前:</strong> </li> <li class="svelte-t8pv28"><strong>位置:</strong> </li> <li class="svelte-t8pv28"><strong>期間:</strong> </li> <li class="svelte-t8pv28"><strong>再表示間隔:</strong> </li> <!> <!></ul></div></div> <div class="preview-controls svelte-t8pv28"><button class="preview-btn svelte-t8pv28">プレビュー表示</button> <!></div></div> <!>',1);const Gn=vn([]),Kn=vn(null),Vn="popup-banner-configs";function Qn(){try{const e=localStorage.getItem(Vn);if(e){const t=JSON.parse(e);return Gn.set(t),t}}catch(e){console.error("設定の読み込みに失敗しました:",e)}return[]}function Xn(e){try{localStorage.setItem(Vn,JSON.stringify(e)),Gn.set(e)}catch(t){throw console.error("設定の保存に失敗しました:",t),new Error("設定の保存に失敗しました")}}function Yn(e){const t=Qn(),n=(new Date).toISOString(),o={...e,id:Date.now().toString(36)+Math.random().toString(36).substr(2),createdAt:n,updatedAt:n};return t.push(o),Xn(t),o}Qn();var Zn=St('<div class="duplicate-warning svelte-cqbub7"> </div>'),eo=St('<div class="empty-state svelte-cqbub7"><p>保存された設定がありません</p> <p class="text-muted svelte-cqbub7">設定を保存すると、ここに一覧表示されます</p></div>'),to=St('<span class="editing-badge svelte-cqbub7"><span class="editing-icon svelte-cqbub7">✏️</span> 設定中</span>'),no=St('<div><div class="config-header svelte-cqbub7"><div class="config-title svelte-cqbub7"><h4 class="svelte-cqbub7"> </h4> <!></div> <div class="config-actions svelte-cqbub7"><button type="button" class="btn btn-sm btn-outline-success svelte-cqbub7" title="プレビュー">プレビュー</button> <button type="button" class="btn btn-sm btn-outline-primary svelte-cqbub7" title="読み込み">読み込み</button> <button type="button" class="btn btn-sm btn-outline-secondary svelte-cqbub7" title="複製">複製</button> <button type="button" class="btn btn-sm btn-outline-danger svelte-cqbub7" title="削除">削除</button></div></div> <div class="config-details svelte-cqbub7"><div class="detail-item svelte-cqbub7"><span class="label svelte-cqbub7">ID:</span> <span class="value svelte-cqbub7"> </span></div> <div class="detail-item svelte-cqbub7"><span class="label svelte-cqbub7">表示位置:</span> <span class="value svelte-cqbub7"> </span></div> <div class="detail-item svelte-cqbub7"><span class="label svelte-cqbub7">作成日:</span> <span class="value svelte-cqbub7"> </span></div> <div class="detail-item svelte-cqbub7"><span class="label svelte-cqbub7">更新日:</span> <span class="value svelte-cqbub7"> </span></div></div></div>'),oo=St('<div class="configs-list svelte-cqbub7"></div>'),lo=St('<div class="modal-overlay svelte-cqbub7"><div class="modal svelte-cqbub7"><div class="modal-header svelte-cqbub7"><h4 class="svelte-cqbub7"> </h4> <button type="button" class="close-btn svelte-cqbub7">×</button></div> <div class="modal-body svelte-cqbub7"><div class="form-group svelte-cqbub7"><label for="configName" class="svelte-cqbub7">設定名</label> <input id="configName" type="text" placeholder="設定名を入力してください" class="form-control svelte-cqbub7" required/></div></div> <div class="modal-footer svelte-cqbub7"><button type="button" class="btn btn-secondary svelte-cqbub7">キャンセル</button> <button type="button" class="btn btn-primary svelte-cqbub7"> </button></div></div></div>'),io=St('<div class="modal-overlay svelte-cqbub7"><div class="modal svelte-cqbub7"><div class="modal-header svelte-cqbub7"><h4 class="svelte-cqbub7">設定を削除</h4> <button type="button" class="close-btn svelte-cqbub7">×</button></div> <div class="modal-body svelte-cqbub7"><p>この設定を削除してもよろしいですか？</p> <p class="text-muted svelte-cqbub7">この操作は取り消せません。</p></div> <div class="modal-footer svelte-cqbub7"><button type="button" class="btn btn-secondary svelte-cqbub7">キャンセル</button> <button type="button" class="btn btn-danger svelte-cqbub7">削除</button></div></div></div>'),ro=St('<div class="settings-manager svelte-cqbub7"><div class="header svelte-cqbub7"><h3 class="svelte-cqbub7">設定管理</h3> <div class="header-actions svelte-cqbub7"><button type="button" class="btn btn-secondary svelte-cqbub7">新規作成</button> <button type="button" class="btn btn-primary svelte-cqbub7"> </button></div></div> <!> <!></div> <!> <!> <!>',1);function so(e,t){q(t,!1);const[n,o]=bn(),l=()=>fn(Kn,"$selectedConfigId",n),i=()=>fn(kn,"$bannerConfig",n),r=()=>fn(Gn,"$savedConfigs",n);let s=G(!1),a=G(""),d=G(!1),u="",c=G(!1),v="",p=G(!1),g=G(null),f=G("");function b(e,t=null){return!!e.trim()&&r().some(n=>n.popupId===e.trim()&&n.id!==t)}function m(){if(!ct(a).trim())return void alert("設定名を入力してください");const e={...i(),popupName:ct(a).trim()};if(e.popupId.trim()){const t=ct(d)?u:null;if(b(e.popupId,t))return void alert(`ポップアップID「${e.popupId}」は既に使用されています。別のIDを指定してください。`)}try{if(ct(d)&&u)(function(e,t){const n=Qn(),o=n.findIndex(t=>t.id===e);if(-1===o)return console.error("指定されたIDの設定が見つかりません:",e),null;const l={...t,id:e,createdAt:n[o].createdAt,updatedAt:(new Date).toISOString()};return n[o]=l,Xn(n),l})(u,e)&&(alert(`「${e.popupName}」を更新しました`),kn.set(e));else{const t=Yn(e);Kn.set(t.id),kn.set(e),alert(`「${e.popupName}」を保存しました`)}x()}catch(t){alert("保存に失敗しました: "+t.message)}}function x(){K(s,!1),K(a,""),K(d,!1),u=""}function h(){const e=r().find(e=>e.id===v),t=e?e.popupName:"設定";!function(e){const t=Qn(),n=t.findIndex(t=>t.id===e);return-1===n?(console.error("指定されたIDの設定が見つかりません:",e),!1):(t.splice(n,1),Xn(t),Kn.update(t=>t===e?null:t),!0)}(v)?alert("削除に失敗しました"):alert(`「${t}」を削除しました`),k()}function k(){K(c,!1),v=""}function y(e){return new Date(e).toLocaleString("ja-JP")}function w(){K(p,!1),K(g,null)}function _(){ct(g)&&ct(g).design.button.buttonLink&&window.open(ct(g).design.button.buttonLink,"_blank")}ve(()=>(i(),l()),()=>{if(i().popupId.trim()){const e=l();b(i().popupId,e)?K(f,`⚠️ ポップアップID「${i().popupId}」は既に使用されています`):K(f,"")}else K(f,"")}),pe(),sn();var T=ro(),$=ie(T),C=le($),B=re(le(C),2),S=le(B),I=re(S,2),L=le(I),P=re(C,2),A=e=>{var t=Zn(),n=le(t);fe(()=>qt(n,ct(f))),Pt(e,t)};Nt(P,e=>{ct(f)&&e(A)});var z=re(P,2),N=e=>{Pt(e,eo())},R=e=>{var t=oo();Et(t,5,r,e=>e.id,(e,t)=>{var n=no();let o;var i=le(n),r=le(i),s=le(r),a=le(s),d=re(s,2),u=e=>{Pt(e,to())};Nt(d,e=>{l(),ct(t),pt(()=>l()===ct(t).id)&&e(u)});var f=le(re(r,2)),b=re(f,2),m=re(b,2),x=re(m,2),h=le(re(i,2)),k=re(le(h),2),w=le(k),_=re(h,2),T=re(le(_),2),$=le(T),C=re(_,2),B=re(le(C),2),S=le(B),I=re(C,2),L=re(le(I),2),P=le(L);fe((e,l,i)=>{o=Ut(n,0,"config-item svelte-cqbub7",null,o,e),qt(a,(ct(t),pt(()=>ct(t).popupName))),qt(w,(ct(t),pt(()=>ct(t).popupId||"未設定"))),qt($,(ct(t),pt(()=>ct(t).position))),qt(S,l),qt(P,i)},[()=>({selected:l()===ct(t).id}),()=>(ct(t),pt(()=>y(ct(t).createdAt))),()=>(ct(t),pt(()=>y(ct(t).updatedAt)))],D),$t("click",f,()=>function(e){K(g,e),K(p,!0)}(ct(t))),$t("click",b,()=>function(e){var t,n,o,l,i,r;const s={...e,...void 0===e.abTest&&{abTest:{enabled:!1,selectedConfigIds:[]}},...void 0===e.triggerConditions&&{triggerConditions:{enabled:!1,pageConditions:[],userConditions:[],timingConditions:{delay:0,scrollPercent:0,exitIntent:!1}}},...void 0===(null==(n=null==(t=e.design)?void 0:t.button)?void 0:n.buttonLink)&&{design:{...e.design,button:{...null==(o=e.design)?void 0:o.button,buttonLink:""}}},...void 0===(null==(i=null==(l=e.design)?void 0:l.image)?void 0:i.link)&&{design:{...e.design,image:{...null==(r=e.design)?void 0:r.image,link:"",linkTarget:"_blank"}}},...void 0===e.ga4&&{ga4:{enabled:!1,measurementId:"",events:{view:{enabled:!0,name:"view_promotion",parameters:{promotion_id:"",promotion_name:"",creative_name:"",creative_slot:"popup_banner",location_id:""}},click:{enabled:!0,name:"select_promotion",parameters:{promotion_id:"",promotion_name:"",creative_name:"",creative_slot:"popup_banner",location_id:""}},close:{enabled:!0,name:"dismiss_promotion",parameters:{promotion_id:"",promotion_name:""}}}}}};kn.set(s),Kn.set(e.id),alert(`「${e.popupName}」を読み込みました`)}(ct(t))),$t("click",m,()=>function(e){const t=function(e){const t=Qn().find(t=>t.id===e);if(!t)return console.error("指定されたIDの設定が見つかりません:",e),null;const{id:n,createdAt:o,updatedAt:l,...i}=t;return Yn({...i,popupName:`${t.popupName}のコピー`})}(e);t?alert(`「${t.popupName}」を作成しました`):alert("複製に失敗しました")}(ct(t).id)),$t("click",x,()=>{return e=ct(t).id,v=e,void K(c,!0);var e}),Pt(e,n)}),Pt(e,t)};Nt(z,e=>{r(),pt(()=>0===r().length)?e(N):e(R,!1)});var E=re($,2),j=e=>{var n=lo(),o=le(n),l=le(o),i=le(l),r=le(i),s=re(i,2),u=re(l,2),c=le(u),v=re(le(c),2),p=le(re(u,2)),g=re(p,2),f=le(g);fe(()=>{qt(r,ct(d)?"設定を更新":"設定を保存"),qt(f,ct(d)?"更新":"保存")}),$t("click",s,x),tn(v,()=>ct(a),e=>K(a,e)),$t("click",p,x),$t("click",g,m),$t("click",o,rn(function(e){dn.call(this,t,e)})),$t("click",n,x),Pt(e,n)};Nt(E,e=>{ct(s)&&e(j)});var F=re(E,2),M=e=>{var n=io(),o=le(n),l=le(o),i=re(le(l),2),r=le(re(l,4)),s=re(r,2);$t("click",i,k),$t("click",r,k),$t("click",s,h),$t("click",o,rn(function(e){dn.call(this,t,e)})),$t("click",n,k),Pt(e,n)};Nt(F,e=>{ct(c)&&e(M)});var O=re(F,2),U=e=>{const t=D(()=>(ct(g),pt(()=>ct(g).popupId||"preview-banner"))),n=D(()=>(ct(g),pt(()=>ct(g).popupName||"プレビュー"))),o=D(()=>(ct(g),pt(()=>ct(g).design.image.url?ct(g).design.image.url:null))),l=D(()=>(ct(g),pt(()=>ct(g).design.image.link||null))),i=D(()=>(ct(g),pt(()=>ct(g).design.image.linkTarget||"_blank")));Mn(e,{get popupId(){return ct(t)},get popupName(){return ct(n)},get popupPosition(){return ct(g),pt(()=>ct(g).position)},get text(){return ct(g),pt(()=>ct(g).design.text.content)},get buttonText(){return ct(g),pt(()=>ct(g).design.button.text)},get popupBackgroundColor(){return ct(g),pt(()=>ct(g).design.background.color)},get popupWidth(){return ct(g),pt(()=>ct(g).design.size.width)},get popupPadding(){return ct(g),pt(()=>ct(g).design.size.padding)},get popupMargin(){return ct(g),pt(()=>ct(g).design.size.margin)},get popupBorderRadius(){return ct(g),pt(()=>ct(g).design.decoration.borderRadius)},get popupBoxShadow(){return ct(g),pt(()=>ct(g).design.decoration.boxShadow)},get popupBorderWidth(){return ct(g),pt(()=>ct(g).design.decoration.borderWidth)},get popupBorderColor(){return ct(g),pt(()=>ct(g).design.decoration.borderColor)},get popupBorderStyle(){return ct(g),pt(()=>ct(g).design.decoration.borderStyle)},get middleTextColor(){return ct(g),pt(()=>ct(g).design.text.color)},get middleTextFontSize(){return ct(g),pt(()=>ct(g).design.text.fontSize)},get middleTextFontWeight(){return ct(g),pt(()=>ct(g).design.text.fontWeight)},get middleTextAlign(){return ct(g),pt(()=>ct(g).design.text.textAlign)},get middleTextLineHeight(){return ct(g),pt(()=>ct(g).design.text.lineHeight)},get buttonColor(){return ct(g),pt(()=>ct(g).design.button.backgroundColor)},get buttonTextColor(){return ct(g),pt(()=>ct(g).design.button.textColor)},get buttonFontSize(){return ct(g),pt(()=>ct(g).design.button.fontSize)},get buttonFontWeight(){return ct(g),pt(()=>ct(g).design.button.fontWeight)},get buttonBorderRadius(){return ct(g),pt(()=>ct(g).design.button.borderRadius)},get imageUrl(){return ct(o)},get imageLink(){return ct(l)},get imageLinkTarget(){return ct(i)},onButtonClick:_,$$events:{close:w}})};Nt(O,e=>{ct(p)&&ct(g)&&e(U)}),fe(()=>qt(L,l()?"設定を更新":"設定を保存")),$t("click",S,function(){kn.set({popupId:"",popupName:"",position:"center",displayPeriod:{start:"",end:""},redisplayInterval:1,abTest:{enabled:!1,selectedConfigIds:[]},triggerConditions:{enabled:!1,pageConditions:[],userConditions:[],timingConditions:{delay:0,scrollPercent:0,exitIntent:!1}},ga4:{enabled:!1,measurementId:"",events:{view:{enabled:!0,name:"view_promotion",parameters:{promotion_id:"",promotion_name:"",creative_name:"",creative_slot:"popup_banner",location_id:""}},click:{enabled:!0,name:"select_promotion",parameters:{promotion_id:"",promotion_name:"",creative_name:"",creative_slot:"popup_banner",location_id:""}},close:{enabled:!0,name:"dismiss_promotion",parameters:{promotion_id:"",promotion_name:""}}}},design:{background:{color:"#ffffff",imageUrl:""},text:{content:"お知らせ",color:"#333333",fontSize:"16px",fontWeight:"normal",textAlign:"center",lineHeight:"1.5"},button:{text:"OK",textColor:"#ffffff",backgroundColor:"#007bff",fontSize:"14px",fontWeight:"normal",borderRadius:"4px",buttonLink:""},image:{url:"https://placehold.jp/600x300.png",link:"",linkTarget:"_blank"},size:{width:"400px",padding:"20px",margin:"0"},decoration:{borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",borderWidth:"0px",borderColor:"#e0e0e0",borderStyle:"solid"}}}),Kn.set(null),alert("新規設定を作成しました")}),$t("click",I,function(){const e=l();e?(K(d,!0),u=e,K(a,i().popupName||"")):(K(d,!1),K(a,i().popupName||"")),K(s,!0)}),Pt(e,T),W(),o()}var ao=St('<p class="validation-message svelte-nidclr"><!></p>'),uo=St('<div class="copy-success svelte-nidclr"> </div>'),co=St('<div class="code-output-modal svelte-nidclr"><div class="code-output-content svelte-nidclr"><div class="code-output-header svelte-nidclr"><h3 class="svelte-nidclr">生成されたコード</h3> <button class="close-btn svelte-nidclr">×</button></div> <div class="code-section svelte-nidclr"><div class="code-header svelte-nidclr"><h4 class="svelte-nidclr">JavaScript実行コード</h4> <button class="copy-btn svelte-nidclr">コピー</button></div> <pre class="code-block svelte-nidclr"><code> </code></pre></div> <div class="code-footer svelte-nidclr"><p class="svelte-nidclr"><strong>使用方法:</strong> 生成されたコードをサイトのHTMLに貼り付けてください。</p></div></div></div>'),vo=St('<div class="code-generator svelte-nidclr"><h3 class="svelte-nidclr">コード出力</h3> <div class="generator-info svelte-nidclr"><p class="svelte-nidclr">設定したバナーのJavaScriptコードを生成できます。</p> <p class="svelte-nidclr">生成されたコードをコピーして、ウェブサイトに貼り付けてください。</p></div> <div class="generator-controls"><button class="generate-btn svelte-nidclr">コード生成</button> <!></div> <!></div> <!>',1);var po=St('<button class="btn-clear svelte-1v1xx86">全て解除</button>'),go=St('<div class="empty-state svelte-1v1xx86"><p class="svelte-1v1xx86">保存されたバナー設定がありません</p> <small class="svelte-1v1xx86">まず「設定管理」でバナー設定を保存してから、ここで選択してください</small></div>'),fo=St('<div class="config-option svelte-1v1xx86"><label class="config-label svelte-1v1xx86"><input type="checkbox" class="svelte-1v1xx86"/> <div class="config-info svelte-1v1xx86"><div class="config-name svelte-1v1xx86"> </div> <div class="config-details svelte-1v1xx86"><span class="config-id svelte-1v1xx86"> </span> <span class="config-position svelte-1v1xx86"> </span> <span class="config-date svelte-1v1xx86"> </span></div></div></label></div>'),bo=St('<li class="svelte-1v1xx86"> </li>'),mo=St('<div class="selection-summary svelte-1v1xx86"><p class="svelte-1v1xx86"><strong>選択された設定:</strong></p> <ul class="svelte-1v1xx86"></ul> <small class="svelte-1v1xx86">これらの設定からランダムに1つが選択されて表示されます</small></div>'),xo=St('<div class="config-selection-list svelte-1v1xx86"></div> <!>',1),ho=St('<div class="section svelte-1v1xx86"><div class="section-header svelte-1v1xx86"><h3 class="svelte-1v1xx86">テスト対象バナー選択</h3> <div class="selection-info svelte-1v1xx86"> <!></div></div> <!></div>'),ko=St('<div class="abtest-settings-form svelte-1v1xx86"><h2 class="svelte-1v1xx86">ABテスト設定</h2> <div class="form-group svelte-1v1xx86"><label class="svelte-1v1xx86"><input type="checkbox" class="svelte-1v1xx86"/> ABテストを有効にする</label> <small class="svelte-1v1xx86">複数のバナー設定からランダムに1つを表示します</small></div> <!></div>');var yo=St('<div class="analytics-settings-form svelte-1w55jw3"><h3 class="svelte-1w55jw3">計測設定（GA）</h3> <div class="form-section svelte-1w55jw3"><div class="parameters-grid svelte-1w55jw3"><div class="parameter-item svelte-1w55jw3"><label for="promotion-id" class="svelte-1w55jw3">プロモーションID</label> <input id="promotion-id" type="text" placeholder="banner_001" class="form-control svelte-1w55jw3"/> <div class="help-text svelte-1w55jw3">バナーの識別に使用します</div></div> <div class="parameter-item svelte-1w55jw3"><label for="promotion-name" class="svelte-1w55jw3">プロモーション名</label> <input id="promotion-name" type="text" placeholder="夏季セール" class="form-control svelte-1w55jw3"/> <div class="help-text svelte-1w55jw3">キャンペーン名など</div></div> <div class="parameter-item svelte-1w55jw3"><label for="creative-name" class="svelte-1w55jw3">クリエイティブ名</label> <input id="creative-name" type="text" placeholder="summer_sale_banner" class="form-control svelte-1w55jw3"/> <div class="help-text svelte-1w55jw3">バナーデザインの識別名</div></div> <div class="parameter-item svelte-1w55jw3"><label for="creative-slot" class="svelte-1w55jw3">クリエイティブスロット</label> <input id="creative-slot" type="text" placeholder="popup_banner" class="form-control svelte-1w55jw3"/> <div class="help-text svelte-1w55jw3">表示場所の識別名</div></div></div></div></div>'),wo=St('<div class="config-ui svelte-1ghaaho"><header class="config-header svelte-1ghaaho"><h1 class="svelte-1ghaaho">ポップアップバナー設定UI</h1> <p class="svelte-1ghaaho">Step 6: 基本設定・デザイン設定・計測設定・設定管理機能・ABテスト・コード出力機能</p></header> <main class="config-main svelte-1ghaaho"><div class="config-grid svelte-1ghaaho"><div class="config-section svelte-1ghaaho"><div class="banner-settings-section svelte-1ghaaho"><h2 class="section-title svelte-1ghaaho">バナー設定</h2> <div class="banner-settings-content svelte-1ghaaho"><!> <!> <!></div></div> <!> <!> <!></div> <div class="preview-section svelte-1ghaaho"><!></div></div></main></div>');function _o(e){var t=wo(),n=re(le(t),2),o=le(n),l=le(o),i=le(l),r=re(le(i),2),s=le(r);!function(e){q({},!1);const[t,n]=bn(),o=()=>fn(kn,"$bannerConfig",t);sn();var l=_n(),i=re(le(l),2),r=re(le(i),2),s=re(i,2),a=re(le(s),2),d=re(s,2),u=re(le(d),2);fe(()=>{o(),vt(()=>{})}),Et(u,5,()=>yn,Rt,(e,t)=>{var n=wn(),o={},l=le(n);fe(()=>{o!==(ct(t),o=pt(()=>ct(t).value))&&(n.value=(n.__value=(ct(t),pt(()=>ct(t).value)))??""),qt(l,(ct(t),pt(()=>ct(t).label)))}),Pt(e,n)});var c=re(d,2),v=le(c),p=re(le(v),2),g=re(v,2),f=re(le(g),2),b=re(c,2),m=re(le(b),2);tn(r,()=>o().popupId,e=>mn(kn,pt(o).popupId=e,pt(o))),tn(a,()=>o().popupName,e=>mn(kn,pt(o).popupName=e,pt(o))),Gt(u,()=>o().position,e=>mn(kn,pt(o).position=e,pt(o))),tn(p,()=>o().displayPeriod.start,e=>mn(kn,pt(o).displayPeriod.start=e,pt(o))),tn(f,()=>o().displayPeriod.end,e=>mn(kn,pt(o).displayPeriod.end=e,pt(o))),tn(m,()=>o().redisplayInterval,e=>mn(kn,pt(o).redisplayInterval=e,pt(o))),Pt(e,l),W(),n()}(s);var a=re(s,2);!function(e){q({},!1);const[t,n]=bn(),o=()=>fn(kn,"$bannerConfig",t);sn();var l=yo(),i=re(le(l),2),r=le(i),s=le(r),a=re(le(s),2),d=re(s,2),u=re(le(d),2),c=re(d,2),v=re(le(c),2),p=re(c,2),g=re(le(p),2);tn(a,()=>o().ga4.promotion_id,e=>mn(kn,pt(o).ga4.promotion_id=e,pt(o))),tn(u,()=>o().ga4.promotion_name,e=>mn(kn,pt(o).ga4.promotion_name=e,pt(o))),tn(v,()=>o().ga4.creative_name,e=>mn(kn,pt(o).ga4.creative_name=e,pt(o))),tn(g,()=>o().ga4.creative_slot,e=>mn(kn,pt(o).ga4.creative_slot=e,pt(o))),Pt(e,l),W(),n()}(a),function(e){q({},!1);const[t,n]=bn(),o=()=>fn(kn,"$bannerConfig",t),l=[{value:"normal",label:"標準"},{value:"bold",label:"太字"},{value:"100",label:"100 (Thin)"},{value:"300",label:"300 (Light)"},{value:"400",label:"400 (Normal)"},{value:"500",label:"500 (Medium)"},{value:"600",label:"600 (SemiBold)"},{value:"700",label:"700 (Bold)"},{value:"900",label:"900 (Black)"}],i=[{value:"left",label:"左寄せ"},{value:"center",label:"中央揃え"},{value:"right",label:"右寄せ"}],r=[{value:"none",label:"なし"},{value:"solid",label:"実線"},{value:"dashed",label:"破線"},{value:"dotted",label:"点線"},{value:"double",label:"二重線"}];sn();var s=Sn(),a=re(le(s),2),d=re(le(a),2),u=le(d),c=re(le(u),2),v=re(u,2),p=re(le(v),2),g=re(v,2),f=re(le(g),2),b=re(a,2),m=re(le(b),2),x=le(m),h=re(le(x),2),k=re(x,2),y=re(le(k),2),w=re(b,2),_=re(le(w),2),T=re(le(_),2),$=re(_,2),C=le($),B=re(le(C),2),S=re(C,2),I=re(le(S),2),L=re(S,2),P=re(le(L),2);fe(()=>{o(),vt(()=>{})}),Et(P,5,()=>l,Rt,(e,t)=>{var n=Tn(),o={},l=le(n);fe(()=>{o!==(ct(t),o=pt(()=>ct(t).value))&&(n.value=(n.__value=(ct(t),pt(()=>ct(t).value)))??""),qt(l,(ct(t),pt(()=>ct(t).label)))}),Pt(e,n)});var A=le(re($,2)),z=re(le(A),2);fe(()=>{o(),vt(()=>{})}),Et(z,5,()=>i,Rt,(e,t)=>{var n=$n(),o={},l=le(n);fe(()=>{o!==(ct(t),o=pt(()=>ct(t).value))&&(n.value=(n.__value=(ct(t),pt(()=>ct(t).value)))??""),qt(l,(ct(t),pt(()=>ct(t).label)))}),Pt(e,n)});var N=re(A,2),R=re(le(N),2),E=re(w,2),j=re(le(E),2),D=re(le(j),2),F=re(j,2),M=re(le(F),2),O=re(F,2),U=le(O),H=re(le(U),2),J=re(U,2),G=re(le(J),2),K=re(J,2),V=re(le(K),2),Q=le(re(O,2)),X=re(le(Q),2);fe(()=>{o(),vt(()=>{})}),Et(X,5,()=>l,Rt,(e,t)=>{var n=Cn(),o={},l=le(n);fe(()=>{o!==(ct(t),o=pt(()=>ct(t).value))&&(n.value=(n.__value=(ct(t),pt(()=>ct(t).value)))??""),qt(l,(ct(t),pt(()=>ct(t).label)))}),Pt(e,n)});var Y=re(Q,2),Z=re(le(Y),2),ee=re(E,2),te=re(le(ee),2),ne=re(le(te),2),oe=re(te,2),ie=re(le(oe),2),se=re(oe,2),ae=re(le(se),2);fe(()=>{o(),vt(()=>{})});var de=le(ae);de.value=de.__value="_blank";var ue=re(de);ue.value=ue.__value="_self";var ce=re(ue);ce.value=ce.__value="_parent";var ve=re(ce);ve.value=ve.__value="_top";var pe=re(ee,2),ge=re(le(pe),2),be=le(ge),me=re(le(be),2),xe=re(be,2),he=re(le(xe),2),ke=le(re(ge,2)),ye=re(le(ke),2),we=re(ke,2),_e=re(le(we),2),Te=re(we,2),$e=re(le(Te),2);fe(()=>{o(),vt(()=>{})}),Et($e,5,()=>r,Rt,(e,t)=>{var n=Bn(),o={},l=le(n);fe(()=>{o!==(ct(t),o=pt(()=>ct(t).value))&&(n.value=(n.__value=(ct(t),pt(()=>ct(t).value)))??""),qt(l,(ct(t),pt(()=>ct(t).label)))}),Pt(e,n)}),tn(c,()=>o().design.size.width,e=>mn(kn,pt(o).design.size.width=e,pt(o))),tn(p,()=>o().design.size.padding,e=>mn(kn,pt(o).design.size.padding=e,pt(o))),tn(f,()=>o().design.size.margin,e=>mn(kn,pt(o).design.size.margin=e,pt(o))),tn(h,()=>o().design.background.color,e=>mn(kn,pt(o).design.background.color=e,pt(o))),tn(y,()=>o().design.background.imageUrl,e=>mn(kn,pt(o).design.background.imageUrl=e,pt(o))),tn(T,()=>o().design.text.content,e=>mn(kn,pt(o).design.text.content=e,pt(o))),tn(B,()=>o().design.text.color,e=>mn(kn,pt(o).design.text.color=e,pt(o))),tn(I,()=>o().design.text.fontSize,e=>mn(kn,pt(o).design.text.fontSize=e,pt(o))),Gt(P,()=>o().design.text.fontWeight,e=>mn(kn,pt(o).design.text.fontWeight=e,pt(o))),Gt(z,()=>o().design.text.textAlign,e=>mn(kn,pt(o).design.text.textAlign=e,pt(o))),tn(R,()=>o().design.text.lineHeight,e=>mn(kn,pt(o).design.text.lineHeight=e,pt(o))),tn(D,()=>o().design.button.text,e=>mn(kn,pt(o).design.button.text=e,pt(o))),tn(M,()=>o().design.button.buttonLink,e=>mn(kn,pt(o).design.button.buttonLink=e,pt(o))),tn(H,()=>o().design.button.backgroundColor,e=>mn(kn,pt(o).design.button.backgroundColor=e,pt(o))),tn(G,()=>o().design.button.textColor,e=>mn(kn,pt(o).design.button.textColor=e,pt(o))),tn(V,()=>o().design.button.fontSize,e=>mn(kn,pt(o).design.button.fontSize=e,pt(o))),Gt(X,()=>o().design.button.fontWeight,e=>mn(kn,pt(o).design.button.fontWeight=e,pt(o))),tn(Z,()=>o().design.button.borderRadius,e=>mn(kn,pt(o).design.button.borderRadius=e,pt(o))),tn(ne,()=>o().design.image.url,e=>mn(kn,pt(o).design.image.url=e,pt(o))),tn(ie,()=>o().design.image.link,e=>mn(kn,pt(o).design.image.link=e,pt(o))),Gt(ae,()=>o().design.image.linkTarget,e=>mn(kn,pt(o).design.image.linkTarget=e,pt(o))),tn(me,()=>o().design.decoration.borderRadius,e=>mn(kn,pt(o).design.decoration.borderRadius=e,pt(o))),tn(he,()=>o().design.decoration.boxShadow,e=>mn(kn,pt(o).design.decoration.boxShadow=e,pt(o))),tn(ye,()=>o().design.decoration.borderWidth,e=>mn(kn,pt(o).design.decoration.borderWidth=e,pt(o))),tn(_e,()=>o().design.decoration.borderColor,e=>mn(kn,pt(o).design.decoration.borderColor=e,pt(o))),Gt($e,()=>o().design.decoration.borderStyle,e=>mn(kn,pt(o).design.decoration.borderStyle=e,pt(o))),Pt(e,s),W(),n()}(re(a,2));var d=re(i,2);so(d,{});var u=re(d,2);(function(e,t){q(t,!1);const[n,o]=bn(),l=()=>fn(kn,"$bannerConfig",n),i=()=>fn(Gn,"$savedConfigs",n),r=G(),s=G();function a(){kn.update(e=>{var t;return{...e,abTest:{...e.abTest,enabled:(null==(t=e.abTest)?void 0:t.enabled)||!1,selectedConfigIds:[]}}})}ve(()=>(l(),kn),()=>{l().abTest||kn.update(e=>({...e,abTest:{enabled:!1,selectedConfigIds:[]}}))}),ve(()=>l(),()=>{var e,t;K(r,(null==(t=null==(e=l().abTest)?void 0:e.selectedConfigIds)?void 0:t.length)||0)}),ve(()=>i(),()=>{K(s,i().length>0)}),pe(),sn();var d=ko(),u=re(le(d),2),c=le(u),v=le(c),p=re(u,2),g=e=>{var t=ho(),n=le(t),o=re(le(n),2),d=le(o),u=re(d),c=e=>{var t=po();$t("click",t,a),Pt(e,t)};Nt(u,e=>{ct(r)>0&&e(c)});var v=re(n,2),p=e=>{Pt(e,go())},g=e=>{var t=xo(),n=ie(t);Et(n,5,i,e=>e.id,(e,t)=>{var n=fo(),o=le(n),i=le(o),r=le(re(i,2)),s=le(r),a=le(re(r,2)),d=le(a),u=re(a,2),c=le(u),v=le(re(u,2));fe((e,n)=>{Xt(i,e),qt(s,(ct(t),pt(()=>ct(t).popupName))),qt(d,`ID: ${ct(t),pt(()=>ct(t).popupId||"未設定")??""}`),qt(c,`位置: ${ct(t),pt(()=>ct(t).position)??""}`),qt(v,`作成: ${n??""}`)},[()=>(l(),ct(t),pt(()=>{var e,n;return(null==(n=null==(e=l().abTest)?void 0:e.selectedConfigIds)?void 0:n.includes(ct(t).id))||!1})),()=>(ct(t),pt(()=>{return e=ct(t).createdAt,new Date(e).toLocaleString("ja-JP");var e}))],D),$t("change",i,()=>{return e=ct(t).id,void kn.update(t=>{var n,o;const l=(null==(n=t.abTest)?void 0:n.selectedConfigIds)||[];return{...t,abTest:{...t.abTest,enabled:(null==(o=t.abTest)?void 0:o.enabled)||!1,selectedConfigIds:l.includes(e)?l.filter(t=>t!==e):[...l,e]}}});var e}),Pt(e,n)});var o=re(n,2),s=e=>{var t=mo();Et(re(le(t),2),5,()=>(l(),pt(()=>{var e;return(null==(e=l().abTest)?void 0:e.selectedConfigIds)||[]})),Rt,(e,t)=>{var n=Lt();const o=D(()=>(i(),ct(t),pt(()=>i().find(e=>e.id===ct(t)))));var l=ie(n),r=e=>{var t=bo(),n=le(t);fe(()=>qt(n,`${bt(ct(o)),pt(()=>ct(o).popupName)??""} (ID: ${bt(ct(o)),pt(()=>ct(o).popupId||"未設定")??""})`)),Pt(e,t)};Nt(l,e=>{ct(o)&&e(r)}),Pt(e,n)}),Pt(e,t)};Nt(o,e=>{ct(r)>0&&e(s)}),Pt(e,t)};Nt(v,e=>{ct(s)?e(g,!1):e(p)}),fe(()=>qt(d,`${ct(r)??""}個選択中 `)),Pt(e,t)};Nt(p,e=>{l(),pt(()=>{var e;return null==(e=l().abTest)?void 0:e.enabled})&&e(g)}),fe(()=>Xt(v,(l(),pt(()=>{var e;return(null==(e=l().abTest)?void 0:e.enabled)||!1})))),$t("change",v,e=>{const t=e.target.checked;kn.update(e=>({...e,abTest:{...e.abTest,enabled:t}}))}),Pt(e,d),W(),o()})(u,{}),function(e,t){q(t,!1);const[n,o]=bn(),l=()=>fn(kn,"$bannerConfig",n),i=G();let r=G(!1),s=G(""),a=G("");async function d(){try{await navigator.clipboard.writeText(ct(s)),K(a,"コードをコピーしました！"),setTimeout(()=>{K(a,"")},3e3)}catch(e){console.error("コピーに失敗しました:",e),alert("コピーに失敗しました。手動でコピーしてください。")}}function u(){K(r,!1),K(s,""),K(a,"")}ve(()=>l(),()=>{var e,t;K(i,(null==(e=l().abTest)?void 0:e.enabled)?((null==(t=l().abTest.selectedConfigIds)?void 0:t.length)||0)>0:""!==l().popupId.trim()&&""!==l().popupName.trim())}),pe(),sn();var c=vo(),v=ie(c),p=re(le(v),4),g=le(p),f=re(g,2),b=e=>{var t=ao(),n=le(t),o=e=>{Pt(e,It("※ ABテスト用のバナー設定を1つ以上選択してください"))},i=e=>{Pt(e,It("※ ポップアップIDと名前を入力してください"))};Nt(n,e=>{l(),pt(()=>{var e;return null==(e=l().abTest)?void 0:e.enabled})?e(o):e(i,!1)}),Pt(e,t)};Nt(f,e=>{ct(i)||e(b)});var m=re(p,2),x=e=>{var t=uo(),n=le(t);fe(()=>qt(n,ct(a))),Pt(e,t)};Nt(m,e=>{ct(a)&&e(x)});var h=re(v,2),k=e=>{var n=co(),o=le(n),l=le(o),i=re(le(l),2),r=le(re(l,2)),a=re(le(r),2),c=le(re(r,2)),v=le(c);fe(()=>qt(v,ct(s))),$t("click",i,u),$t("click",a,d),$t("click",o,rn(function(e){dn.call(this,t,e)})),$t("click",n,u),Pt(e,n)};Nt(h,e=>{ct(r)&&e(k)}),fe(()=>g.disabled=!ct(i)),$t("click",g,function(){var e;const t=l();if(null==(e=t.abTest)?void 0:e.enabled){if(!t.abTest.selectedConfigIds||0===t.abTest.selectedConfigIds.length)return void alert("ABテスト用のバナー設定を1つ以上選択してください")}else if(!t.popupId.trim()||!t.popupName.trim())return void alert("ポップアップIDと名前を入力してください");K(s,function(e){var t,o,l;try{return(null==(t=e.abTest)?void 0:t.enabled)&&((null==(l=null==(o=e.abTest)?void 0:o.selectedConfigIds)?void 0:l.length)||0)>0?function(e){const t=fn(Gn,"$savedConfigs",n).filter(t=>{var n;return((null==(n=e.abTest)?void 0:n.selectedConfigIds)||[]).includes(t.id)});if(0===t.length)return"// ABテスト: 選択された設定が見つかりません\n// 保存済み設定から対象バナーを選択してください";console.log("ABテスト用設定:",t.length,"個選択されました");const o=t.map(e=>({popupId:e.popupId,popupName:e.popupName,popupPosition:e.position,redisplayInterval:e.redisplayInterval,...e.displayPeriod.start&&{startDate:e.displayPeriod.start},...e.displayPeriod.end&&{endDate:e.displayPeriod.end},text:e.design.text.content,buttonText:e.design.button.text,popupBackgroundColor:e.design.background.color,...e.design.background.imageUrl&&{popupBackgroundImage:e.design.background.imageUrl},middleTextColor:e.design.text.color,middleTextFontSize:e.design.text.fontSize,middleTextFontWeight:e.design.text.fontWeight,middleTextAlign:e.design.text.textAlign,middleTextLineHeight:e.design.text.lineHeight,buttonColor:e.design.button.backgroundColor,buttonTextColor:e.design.button.textColor,buttonFontSize:e.design.button.fontSize,buttonFontWeight:e.design.button.fontWeight,buttonBorderRadius:e.design.button.borderRadius,...e.design.button.buttonLink&&{buttonLink:e.design.button.buttonLink},...e.design.image.url&&{imageUrl:e.design.image.url},...e.design.image.link&&{imageLink:e.design.image.link,imageLinkTarget:e.design.image.linkTarget},popupWidth:e.design.size.width,popupPadding:e.design.size.padding,popupMargin:e.design.size.margin,popupBorderRadius:e.design.decoration.borderRadius,popupBoxShadow:e.design.decoration.boxShadow,..."0px"!==e.design.decoration.borderWidth&&{popupBorderWidth:e.design.decoration.borderWidth,popupBorderColor:e.design.decoration.borderColor,popupBorderStyle:e.design.decoration.borderStyle}})),l=t.map(e=>e.popupName).join(", "),i=JSON.stringify(o,null,2).replace(/"/g,"'");return`// ABテスト設定: ${l}\n// 生成日時: ${(new Date).toLocaleString("ja-JP")}\n// 選択された${t.length}個の設定からランダムに1つを表示\n\n// CDNから読み込む場合\n// <script src="https://your-cdn-url/popup-banner.js"><\/script>\n\n// ABテスト用バナーを表示（配列を渡すと自動的にランダム選択）\nPopupBanner.show(${i});`}(e):function(e){const t={popupId:e.popupId,popupName:e.popupName,popupPosition:e.position,redisplayInterval:e.redisplayInterval,...e.displayPeriod.start&&{startDate:e.displayPeriod.start},...e.displayPeriod.end&&{endDate:e.displayPeriod.end},text:e.design.text.content,buttonText:e.design.button.text,popupBackgroundColor:e.design.background.color,...e.design.background.imageUrl&&{popupBackgroundImage:e.design.background.imageUrl},middleTextColor:e.design.text.color,middleTextFontSize:e.design.text.fontSize,middleTextFontWeight:e.design.text.fontWeight,middleTextAlign:e.design.text.textAlign,middleTextLineHeight:e.design.text.lineHeight,buttonColor:e.design.button.backgroundColor,buttonTextColor:e.design.button.textColor,buttonFontSize:e.design.button.fontSize,buttonFontWeight:e.design.button.fontWeight,buttonBorderRadius:e.design.button.borderRadius,...e.design.button.buttonLink&&{buttonLink:e.design.button.buttonLink},...e.design.image.url&&{imageUrl:e.design.image.url},...e.design.image.link&&{imageLink:e.design.image.link,imageLinkTarget:e.design.image.linkTarget},popupWidth:e.design.size.width,popupPadding:e.design.size.padding,popupMargin:e.design.size.margin,popupBorderRadius:e.design.decoration.borderRadius,popupBoxShadow:e.design.decoration.boxShadow,..."0px"!==e.design.decoration.borderWidth&&{popupBorderWidth:e.design.decoration.borderWidth,popupBorderColor:e.design.decoration.borderColor,popupBorderStyle:e.design.decoration.borderStyle}},n=JSON.stringify(t,null,2).replace(/"/g,"'");return`// ポップアップバナー設定: ${e.popupName}\n// 生成日時: ${(new Date).toLocaleString("ja-JP")}\n\n// CDNから読み込む場合\n// <script src="https://your-cdn-url/popup-banner.js"><\/script>\n\n// バナーを表示\nPopupBanner.show(${n});`}(e)}catch(i){return console.error("コード生成エラー:",i),`// コード生成中にエラーが発生しました\n// エラー: ${i.message}\n// 設定を確認して再度お試しください`}}(t)),K(r,!0)}),Pt(e,c),W(),o()}(re(u,2),{}),function(e){q({},!1);const[t,n]=bn(),o=()=>fn(kn,"$bannerConfig",t),l=G();let i=G(!1);const r=()=>{K(i,!1)},s=()=>{o().design.button.buttonLink&&window.open(o().design.button.buttonLink,"_blank")};ve(()=>o(),()=>{K(l,""!==o().popupId.trim()&&""!==o().popupName.trim())}),pe(),sn();var a=Jn(),d=ie(a),u=re(le(d),2),c=le(u),v=re(le(c),2),p=le(v),g=re(le(p)),f=re(p,2),b=re(le(f)),m=re(f,2),x=re(le(m)),h=re(m,2),k=re(le(h)),y=re(h,2),w=re(le(y)),_=re(y,2),T=e=>{var t=On(),n=re(le(t));fe(()=>qt(n,` ${o(),pt(()=>o().design.image.link)??""} (${o(),pt(()=>o().design.image.linkTarget)??""})`)),Pt(e,t)};Nt(_,e=>{o(),pt(()=>o().design.image.link)&&e(T)});var $=re(_,2),C=e=>{var t=Un(),n=re(le(t));fe(()=>qt(n,` ${o(),pt(()=>o().design.button.buttonLink)??""}`)),Pt(e,t)};Nt($,e=>{o(),pt(()=>o().design.button.buttonLink)&&e(C)});var B=le(re(u,2)),S=re(B,2),I=e=>{Pt(e,Hn())};Nt(S,e=>{ct(l)||e(I)});var L=re(d,2),P=e=>{const t=D(()=>(o(),pt(()=>o().popupId||"preview-banner"))),n=D(()=>(o(),pt(()=>o().popupName||"プレビュー"))),l=D(()=>(o(),pt(()=>o().design.image.url?o().design.image.url:null))),i=D(()=>(o(),pt(()=>o().design.image.link||null))),a=D(()=>(o(),pt(()=>o().design.image.linkTarget||"_blank")));Mn(e,{get popupId(){return ct(t)},get popupName(){return ct(n)},get popupPosition(){return o(),pt(()=>o().position)},get text(){return o(),pt(()=>o().design.text.content)},get buttonText(){return o(),pt(()=>o().design.button.text)},get popupBackgroundColor(){return o(),pt(()=>o().design.background.color)},get popupWidth(){return o(),pt(()=>o().design.size.width)},get popupPadding(){return o(),pt(()=>o().design.size.padding)},get popupMargin(){return o(),pt(()=>o().design.size.margin)},get popupBorderRadius(){return o(),pt(()=>o().design.decoration.borderRadius)},get popupBoxShadow(){return o(),pt(()=>o().design.decoration.boxShadow)},get popupBorderWidth(){return o(),pt(()=>o().design.decoration.borderWidth)},get popupBorderColor(){return o(),pt(()=>o().design.decoration.borderColor)},get popupBorderStyle(){return o(),pt(()=>o().design.decoration.borderStyle)},get middleTextColor(){return o(),pt(()=>o().design.text.color)},get middleTextFontSize(){return o(),pt(()=>o().design.text.fontSize)},get middleTextFontWeight(){return o(),pt(()=>o().design.text.fontWeight)},get middleTextAlign(){return o(),pt(()=>o().design.text.textAlign)},get middleTextLineHeight(){return o(),pt(()=>o().design.text.lineHeight)},get buttonColor(){return o(),pt(()=>o().design.button.backgroundColor)},get buttonTextColor(){return o(),pt(()=>o().design.button.textColor)},get buttonFontSize(){return o(),pt(()=>o().design.button.fontSize)},get buttonFontWeight(){return o(),pt(()=>o().design.button.fontWeight)},get buttonBorderRadius(){return o(),pt(()=>o().design.button.borderRadius)},get imageUrl(){return ct(l)},get imageLink(){return ct(i)},get imageLinkTarget(){return ct(a)},onButtonClick:s,$$events:{close:r}})};Nt(L,e=>{ct(i)&&e(P)}),fe(()=>{qt(g,` ${o(),pt(()=>o().popupId||"未設定")??""}`),qt(b,` ${o(),pt(()=>o().popupName||"未設定")??""}`),qt(x,` ${o(),pt(()=>o().position)??""}`),qt(k,` ${o(),pt(()=>o().displayPeriod.start)??""} ～ ${o(),pt(()=>o().displayPeriod.end)??""}`),qt(w,` ${o(),pt(()=>o().redisplayInterval)??""}時間`),B.disabled=!ct(l)}),$t("click",B,()=>{K(i,!0)}),Pt(e,a),W(),n()}(le(re(l,2))),Pt(e,t)}window.initConfigUI=function(e){return"string"==typeof e&&(e=document.getElementById(e)||document.querySelector(e)),e?Wt(_o,{target:e}):(console.error("Target element not found for ConfigUI"),null)},document.addEventListener("DOMContentLoaded",function(){const e=["#app","#popup-banner-config-ui","#config-ui",".popup-banner-config-ui","[data-popup-banner-config-ui]"];let t=null;for(const n of e)if(t=document.querySelector(n),t){console.log(`PopupBanner ConfigUI: Auto-initializing with selector "${n}"`);break}t&&window.initConfigUI(t)})});
