!function(){"use strict";try{if("undefined"!=typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode(".basic-settings-form.svelte-1trd33o{padding:15px 20px;background:#f8f9fa;border-radius:8px;margin-bottom:0}h2.svelte-1trd33o{margin:0 0 15px;color:#333;font-size:1.3rem}.form-group.svelte-1trd33o{margin-bottom:12px}.form-row.svelte-1trd33o{display:grid;grid-template-columns:1fr 1fr;gap:12px}label.svelte-1trd33o{display:block;margin-bottom:4px;font-weight:500;color:#555}.required.svelte-1trd33o{color:#e74c3c}input.svelte-1trd33o,select.svelte-1trd33o{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;transition:border-color .2s}input.svelte-1trd33o::placeholder{color:#c9c9c9;opacity:1}input.svelte-1trd33o:focus,select.svelte-1trd33o:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}small.svelte-1trd33o{display:block;margin-top:4px;color:#666;font-size:12px}input[type=number].svelte-1trd33o{max-width:150px}.style-settings-form.svelte-1ocw9xz{padding:15px 20px;background:#f8f9fa;border-radius:8px;margin-bottom:0}h2.svelte-1ocw9xz{margin:0 0 15px;color:#333;font-size:1.3rem}h3.svelte-1ocw9xz{margin:0 0 12px;color:#555;font-size:1.1rem;padding-bottom:6px;border-bottom:1px solid #e9ecef}.section.svelte-1ocw9xz{margin-bottom:0;padding:15px 0;border-bottom:1px solid #e9ecef}.section.svelte-1ocw9xz:last-child{border-bottom:none}.form-group.svelte-1ocw9xz{margin-bottom:12px}.form-row.svelte-1ocw9xz{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;margin-bottom:12px}label.svelte-1ocw9xz{display:block;margin-bottom:4px;font-weight:500;color:#555;font-size:14px}input.svelte-1ocw9xz,select.svelte-1ocw9xz,textarea.svelte-1ocw9xz{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;transition:border-color .2s}input.svelte-1ocw9xz::placeholder{color:#c9c9c9;opacity:1}input.svelte-1ocw9xz:focus,select.svelte-1ocw9xz:focus,textarea.svelte-1ocw9xz:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}input[type=color].svelte-1ocw9xz{height:40px;padding:4px;cursor:pointer}textarea.svelte-1ocw9xz{resize:vertical;min-height:80px}small.svelte-1ocw9xz{display:block;margin-top:4px;color:#666;font-size:12px;line-height:1.4}@media (max-width: 768px){.form-row.svelte-1ocw9xz{grid-template-columns:1fr}}.popup-container.svelte-1wq3mwc{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;pointer-events:none;z-index:10000;padding:20px;box-sizing:border-box}.popup-container.position-center.svelte-1wq3mwc{justify-content:center;align-items:center}.popup-container.position-top.svelte-1wq3mwc{justify-content:center;align-items:flex-start}.popup-container.position-top-left.svelte-1wq3mwc{justify-content:flex-start;align-items:flex-start}.popup-container.position-top-right.svelte-1wq3mwc{justify-content:flex-end;align-items:flex-start}.popup-container.position-bottom.svelte-1wq3mwc{justify-content:center;align-items:flex-end}.popup-container.position-middle-left.svelte-1wq3mwc{justify-content:flex-start;align-items:center}.popup-container.position-middle-right.svelte-1wq3mwc{justify-content:flex-end;align-items:center}.popup-container.position-bottom-left.svelte-1wq3mwc{justify-content:flex-start;align-items:flex-end}.popup-container.position-bottom-right.svelte-1wq3mwc{justify-content:flex-end;align-items:flex-end}.popup-container.svelte-1wq3mwc:not([class*=position-]){justify-content:center;align-items:flex-start}.popup-banner.svelte-1wq3mwc{border-radius:8px;box-shadow:0 2px 8px #00000026;padding:40px 0 20px;max-width:400px;width:84%;box-sizing:border-box;background:#fff;pointer-events:auto;position:relative}@media (max-width: 600px){.popup-banner.svelte-1wq3mwc{max-width:100%;width:100%}}.close-btn.svelte-1wq3mwc{position:absolute;top:-12px;right:-12px;background:transparent;border:none;font-size:24px;cursor:pointer;z-index:1;background:#fff;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#999}.banner-image.svelte-1wq3mwc{display:block;max-width:100%;margin:0 auto}.banner-image.clickable.svelte-1wq3mwc{cursor:pointer}.banner-image.clickable.svelte-1wq3mwc:hover{opacity:.8;transition:opacity .2s ease}.banner-text.svelte-1wq3mwc{margin:16px;font-size:1.1em;text-align:center}.banner-btn.svelte-1wq3mwc{display:block;margin:0 auto;padding:8px 24px;font-size:1em;border-radius:4px;border:none;background:#0070f3;color:#fff;cursor:pointer}.banner-btn.clickable.svelte-1wq3mwc:hover{opacity:.8;transition:opacity .2s ease}.under-btn-text.svelte-1wq3mwc{margin:8px 16px;font-size:.9em;text-align:center}.dim-bg.svelte-1wq3mwc{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:9999}.popup-banner.svelte-1wq3mwc{--animation-duration: .3s;--animation-easing: ease-out}.popup-banner.animate-fade-in-up.svelte-1wq3mwc{animation:svelte-1wq3mwc-fadeInUp var(--animation-duration) var(--animation-easing) forwards}.popup-banner.animate-fade-in-down.svelte-1wq3mwc{animation:svelte-1wq3mwc-fadeInDown var(--animation-duration) var(--animation-easing) forwards}.popup-banner.animate-fade-in.svelte-1wq3mwc{animation:svelte-1wq3mwc-fadeIn var(--animation-duration) var(--animation-easing) forwards}.popup-banner.animate-scale-in.svelte-1wq3mwc{animation:svelte-1wq3mwc-scaleIn var(--animation-duration) var(--animation-easing) forwards}@keyframes svelte-1wq3mwc-fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes svelte-1wq3mwc-fadeInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes svelte-1wq3mwc-fadeIn{0%{opacity:0}to{opacity:1}}@keyframes svelte-1wq3mwc-scaleIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.banner-preview.svelte-t8pv28{padding:20px;background:#fff;border:1px solid #e0e0e0;border-radius:8px;margin-bottom:20px}h3.svelte-t8pv28{margin:0 0 16px;color:#333;font-size:1.3rem}h4.svelte-t8pv28{margin:0 0 12px;color:#555;font-size:1.1rem}.preview-info.svelte-t8pv28{margin-bottom:20px}.config-summary.svelte-t8pv28{background:#f8f9fa;padding:16px;border-radius:6px;border-left:4px solid #007bff}.config-summary.svelte-t8pv28 ul:where(.svelte-t8pv28){margin:0;padding-left:20px}.config-summary.svelte-t8pv28 li:where(.svelte-t8pv28){margin-bottom:4px;color:#666}.preview-controls.svelte-t8pv28{text-align:center}.preview-btn.svelte-t8pv28{background:#28a745;color:#fff;border:none;padding:12px 24px;border-radius:6px;font-size:16px;font-weight:500;cursor:pointer;transition:background-color .2s}.preview-btn.svelte-t8pv28:hover:not(:disabled){background:#218838}.preview-btn.svelte-t8pv28:disabled{background:#6c757d;cursor:not-allowed;opacity:.6}.validation-message.svelte-t8pv28{margin-top:10px;color:#e74c3c;font-size:14px}.settings-manager.svelte-1ttdkqe{padding:20px;margin-top:20px;margin-bottom:20px;background:#fff;border-radius:12px;box-shadow:0 4px 16px #0000001a}.header.svelte-1ttdkqe{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header.svelte-1ttdkqe h3:where(.svelte-1ttdkqe){margin:0;color:#333}.header-actions.svelte-1ttdkqe{display:flex;gap:10px}.duplicate-warning.svelte-1ttdkqe{background:#fff3cd;border:1px solid #ffeaa7;color:#856404;padding:8px 12px;border-radius:4px;margin-bottom:15px;font-size:14px;font-weight:500}.empty-state.svelte-1ttdkqe{text-align:center;padding:40px 20px;color:#666}.empty-state.svelte-1ttdkqe .text-muted:where(.svelte-1ttdkqe){font-size:14px;color:#999}.configs-list.svelte-1ttdkqe{display:flex;flex-direction:column;gap:15px}.config-item.svelte-1ttdkqe{background:#fff;border:2px solid #e0e0e0;border-radius:8px;padding:15px;transition:all .2s ease}.config-item.svelte-1ttdkqe:hover{border-color:#007bff}.config-header.svelte-1ttdkqe{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.config-title.svelte-1ttdkqe{display:flex;align-items:center;gap:10px;flex:1}.config-header.svelte-1ttdkqe h4:where(.svelte-1ttdkqe){margin:0;color:#333;font-size:16px}.editing-badge.svelte-1ttdkqe{display:inline-flex;align-items:center;gap:4px;background:#28a745;color:#fff;padding:2px 8px;border-radius:12px;font-size:12px;font-weight:500;white-space:nowrap}.editing-icon.svelte-1ttdkqe{font-size:14px}.config-actions.svelte-1ttdkqe{display:flex;gap:6px;flex-wrap:wrap;align-items:center}.config-details.svelte-1ttdkqe{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px}.detail-item.svelte-1ttdkqe{font-size:14px}.detail-item.svelte-1ttdkqe .label:where(.svelte-1ttdkqe){font-weight:500;color:#666;margin-right:8px}.detail-item.svelte-1ttdkqe .value:where(.svelte-1ttdkqe){color:#333}.btn.svelte-1ttdkqe{padding:6px 12px;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:all .2s ease;text-decoration:none;display:inline-block}.btn-primary.svelte-1ttdkqe{background:#007bff;color:#fff}.btn-primary.svelte-1ttdkqe:hover{background:#0056b3}.btn-secondary.svelte-1ttdkqe{background:#6c757d;color:#fff}.btn-secondary.svelte-1ttdkqe:hover{background:#545b62}.btn-outline-primary.svelte-1ttdkqe{background:transparent;color:#007bff;border:1px solid #007bff}.btn-outline-primary.svelte-1ttdkqe:hover{background:#007bff;color:#fff}.btn-outline-secondary.svelte-1ttdkqe{background:transparent;color:#6c757d;border:1px solid #6c757d}.btn-outline-secondary.svelte-1ttdkqe:hover{background:#6c757d;color:#fff}.btn-outline-danger.svelte-1ttdkqe{background:transparent;color:#dc3545;border:1px solid #dc3545}.btn-outline-danger.svelte-1ttdkqe:hover{background:#dc3545;color:#fff}.btn-outline-success.svelte-1ttdkqe{background:transparent;color:#28a745;border:1px solid #28a745}.btn-outline-success.svelte-1ttdkqe:hover{background:#28a745;color:#fff}.btn-danger.svelte-1ttdkqe{background:#dc3545;color:#fff}.btn-danger.svelte-1ttdkqe:hover{background:#c82333}.btn-sm.svelte-1ttdkqe{padding:4px 8px;font-size:12px}.modal-overlay.svelte-1ttdkqe{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal.svelte-1ttdkqe{background:#fff;border-radius:8px;min-width:400px;max-width:500px;box-shadow:0 4px 20px #00000026}.modal-header.svelte-1ttdkqe{display:flex;justify-content:space-between;align-items:center;padding:20px 20px 10px;border-bottom:1px solid #e0e0e0}.modal-header.svelte-1ttdkqe h4:where(.svelte-1ttdkqe){margin:0;color:#333}.close-btn.svelte-1ttdkqe{background:none;border:none;font-size:24px;color:#999;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.close-btn.svelte-1ttdkqe:hover{color:#333}.modal-body.svelte-1ttdkqe{padding:20px}.modal-footer.svelte-1ttdkqe{display:flex;justify-content:flex-end;gap:10px;padding:10px 20px 20px;border-top:1px solid #e0e0e0}.form-group.svelte-1ttdkqe{margin-bottom:15px}.form-group.svelte-1ttdkqe label:where(.svelte-1ttdkqe){display:block;margin-bottom:5px;font-weight:500;color:#333}.form-control.svelte-1ttdkqe{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;box-sizing:border-box}.form-control.svelte-1ttdkqe:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.form-control.svelte-1ttdkqe::placeholder{color:#c9c9c9;opacity:1}.text-muted.svelte-1ttdkqe{color:#6c757d;font-size:14px}@media (max-width: 768px){.config-header.svelte-1ttdkqe{flex-direction:column;align-items:flex-start;gap:10px}.config-actions.svelte-1ttdkqe{width:100%;justify-content:flex-start}.header.svelte-1ttdkqe{flex-direction:column;align-items:flex-start;gap:15px}.header-actions.svelte-1ttdkqe{width:100%;justify-content:flex-start}.modal.svelte-1ttdkqe{min-width:320px;margin:20px}}.code-generator.svelte-1kzhqbl{padding:20px;margin-top:20px;margin-bottom:20px;background:#fff;border-radius:12px;box-shadow:0 4px 16px #0000001a}h3.svelte-1kzhqbl{margin:0 0 16px;color:#333;font-size:1.3rem}.generator-info.svelte-1kzhqbl{margin-bottom:16px}.generator-info.svelte-1kzhqbl p:where(.svelte-1kzhqbl){margin:0 0 8px;color:#666;font-size:14px;line-height:1.5}.generate-btn.svelte-1kzhqbl{background:#28a745;color:#fff;border:none;padding:12px 24px;border-radius:6px;font-size:16px;font-weight:500;cursor:pointer;transition:background-color .2s}.generate-btn.svelte-1kzhqbl:hover:not(:disabled){background:#218838}.generate-btn.svelte-1kzhqbl:disabled{background:#6c757d;cursor:not-allowed}.validation-message.svelte-1kzhqbl{margin:8px 0 0;color:#dc3545;font-size:14px}.copy-success.svelte-1kzhqbl{padding:8px 12px;background:#d4edda;color:#155724;border:1px solid #c3e6cb;border-radius:4px;font-size:14px;margin-top:12px}.code-output-modal.svelte-1kzhqbl{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;padding:20px}.code-output-content.svelte-1kzhqbl{background:#fff;border-radius:8px;width:100%;max-width:700px;max-height:80vh;overflow-y:auto;box-shadow:0 4px 20px #00000026}.code-output-header.svelte-1kzhqbl{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #e9ecef}.code-output-header.svelte-1kzhqbl h3:where(.svelte-1kzhqbl){margin:0;font-size:1.5rem}.close-btn.svelte-1kzhqbl{background:none;border:none;font-size:24px;cursor:pointer;color:#6c757d;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px}.close-btn.svelte-1kzhqbl:hover{background:#f8f9fa;color:#333}.code-section.svelte-1kzhqbl{padding:20px}.code-header.svelte-1kzhqbl{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.code-header.svelte-1kzhqbl h4:where(.svelte-1kzhqbl){margin:0;color:#333;font-size:1.1rem}.copy-btn.svelte-1kzhqbl{background:#007bff;color:#fff;border:none;padding:6px 12px;border-radius:4px;font-size:14px;cursor:pointer;transition:background-color .2s}.copy-btn.svelte-1kzhqbl:hover{background:#0056b3}.code-block.svelte-1kzhqbl{background:#f8f9fa;border:1px solid #e9ecef;border-radius:4px;padding:16px;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:13px;line-height:1.4;white-space:pre-wrap;word-wrap:break-word;overflow-x:auto;max-height:400px;overflow-y:auto}.code-footer.svelte-1kzhqbl{padding:20px;border-top:1px solid #e9ecef;background:#f8f9fa}.code-footer.svelte-1kzhqbl p:where(.svelte-1kzhqbl){margin:0;color:#666;font-size:14px}@media (max-width: 768px){.code-output-modal.svelte-1kzhqbl{padding:10px}.code-output-content.svelte-1kzhqbl{max-height:90vh}.code-header.svelte-1kzhqbl{flex-direction:column;align-items:flex-start;gap:8px}.code-block.svelte-1kzhqbl{font-size:12px;padding:12px}}.abtest-settings-form.svelte-cmi9y0{padding:20px;margin-top:20px;margin-bottom:20px;background:#fff;border-radius:12px;box-shadow:0 4px 16px #0000001a}h2.svelte-cmi9y0{margin:0 0 20px;color:#333;font-size:1.5rem}h3.svelte-cmi9y0{margin:0 0 16px;color:#555;font-size:1.2rem}.form-group.svelte-cmi9y0{margin-bottom:20px}.section.svelte-cmi9y0{background:#fff;padding:20px;border-radius:6px;margin-bottom:16px}.section-header.svelte-cmi9y0{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.selection-info.svelte-cmi9y0{display:flex;align-items:center;gap:12px;color:#666;font-size:14px}.btn-clear.svelte-cmi9y0{background:#6c757d;color:#fff;border:none;padding:4px 12px;border-radius:4px;font-size:12px;cursor:pointer}.btn-clear.svelte-cmi9y0:hover{background:#545b62}.empty-state.svelte-cmi9y0{text-align:center;padding:40px 20px;color:#666;background:#f8f9fa;border-radius:6px}.empty-state.svelte-cmi9y0 p:where(.svelte-cmi9y0){margin:0 0 8px;font-size:16px}.config-selection-list.svelte-cmi9y0{display:flex;flex-direction:column;gap:12px}.config-option.svelte-cmi9y0{border:2px solid #e9ecef;border-radius:6px;transition:all .2s ease}.config-option.svelte-cmi9y0:hover{border-color:#007bff}.config-option.svelte-cmi9y0:has(input:where(.svelte-cmi9y0):checked){border-color:#007bff;background:#f8f9ff}.config-label.svelte-cmi9y0{display:flex;align-items:center;gap:12px;padding:16px;cursor:pointer;margin:0}.config-info.svelte-cmi9y0{flex:1}.config-name.svelte-cmi9y0{font-weight:500;color:#333;margin-bottom:4px}.config-details.svelte-cmi9y0{display:flex;gap:12px;font-size:12px;color:#666}.config-id.svelte-cmi9y0,.config-position.svelte-cmi9y0,.config-date.svelte-cmi9y0{padding:2px 6px;background:#e9ecef;border-radius:3px}.selection-summary.svelte-cmi9y0{margin-top:20px;padding:16px;background:#e7f3ff;border-radius:6px;border-left:4px solid #007bff}.selection-summary.svelte-cmi9y0 p:where(.svelte-cmi9y0){margin:0 0 8px;color:#333}.selection-summary.svelte-cmi9y0 ul:where(.svelte-cmi9y0){margin:0 0 8px;padding-left:20px}.selection-summary.svelte-cmi9y0 li:where(.svelte-cmi9y0){color:#555;margin-bottom:4px}label.svelte-cmi9y0{display:flex;align-items:center;gap:8px;cursor:pointer;font-weight:500;color:#555}input[type=checkbox].svelte-cmi9y0{margin:0;cursor:pointer}small.svelte-cmi9y0{display:block;margin-top:4px;color:#666;font-size:12px;font-weight:400}.analytics-settings-form.svelte-q5wxbw{background:#f8f9fa;border-radius:8px;padding:15px 20px;margin-top:0}.analytics-settings-form.svelte-q5wxbw h3:where(.svelte-q5wxbw){margin:0 0 15px;color:#333;font-size:1.3rem}.form-section.svelte-q5wxbw{display:flex;flex-direction:column;gap:15px}.parameters-grid.svelte-q5wxbw{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;padding:12px;background:#fff;border:1px solid #e0e0e0;border-radius:4px}.parameter-item.svelte-q5wxbw{display:flex;flex-direction:column;gap:5px}.parameter-item.svelte-q5wxbw label:where(.svelte-q5wxbw){font-weight:500;color:#555;font-size:13px}.form-control.svelte-q5wxbw{padding:10px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;transition:border-color .2s;background:#fff}.form-control.svelte-q5wxbw:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.form-control.svelte-q5wxbw::placeholder{color:#c9c9c9;opacity:1}.help-text.svelte-q5wxbw{color:#666;font-size:12px;line-height:1.4}@media (max-width: 768px){.parameters-grid.svelte-q5wxbw{grid-template-columns:1fr}}.config-ui.svelte-9muro{min-height:100vh;background:#fafbfc;padding:24px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;color:#333}.config-header.svelte-9muro{text-align:center;margin-bottom:32px;padding:24px;background:#fff;border:1px solid #e1e5e9;border-radius:8px;box-shadow:0 1px 3px #0000000d}.config-header.svelte-9muro h1:where(.svelte-9muro){margin:0;font-size:24px;font-weight:600;color:#2c3e50;letter-spacing:-.025em}.config-main.svelte-9muro{max-width:1200px;margin:0 auto}.config-grid.svelte-9muro{display:grid;grid-template-columns:1fr 1fr;gap:24px;align-items:start}.config-section.svelte-9muro{display:flex;flex-direction:column}.banner-settings-section.svelte-9muro{background:#fff;border:1px solid #e1e5e9;border-radius:8px;box-shadow:0 1px 3px #0000000d;margin-bottom:24px;overflow:hidden}.section-title.svelte-9muro{background:#f8f9fa;border-bottom:1px solid #e1e5e9;color:#2c3e50;margin:0;padding:20px 24px;font-size:18px;font-weight:600;letter-spacing:-.025em}.banner-settings-content.svelte-9muro{padding:0}.banner-settings-content.svelte-9muro .analytics-settings-form,.banner-settings-content.svelte-9muro .basic-settings-form,.banner-settings-content.svelte-9muro .style-settings-form{background:transparent!important;margin:0!important;border-radius:0!important;box-shadow:none!important;border:none!important}.banner-settings-content.svelte-9muro .analytics-settings-form:not(:last-child),.banner-settings-content.svelte-9muro .basic-settings-form:not(:last-child),.banner-settings-content.svelte-9muro .style-settings-form:not(:last-child){border-bottom:1px solid #f1f3f4!important}.preview-section.svelte-9muro{position:sticky;top:24px}@media (max-width: 768px){.config-ui.svelte-9muro{padding:16px}.config-grid.svelte-9muro{grid-template-columns:1fr;gap:16px}.preview-section.svelte-9muro{position:static}.config-header.svelte-9muro{padding:20px 16px;margin-bottom:24px}.config-header.svelte-9muro h1:where(.svelte-9muro){font-size:20px}.section-title.svelte-9muro{padding:16px 20px;font-size:16px}.banner-settings-section.svelte-9muro{margin-bottom:16px}}@media (max-width: 480px){.config-ui.svelte-9muro{padding:12px}.config-header.svelte-9muro{padding:16px 12px}.section-title.svelte-9muro{padding:14px 16px}}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}}();
!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";var e,t=Array.isArray,n=Array.prototype.indexOf,o=Array.from,l=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyDescriptors,s=Object.prototype,a=Array.prototype,d=Object.getPrototypeOf,u=Object.isExtensible;const c=()=>{};function v(e){return e()}function p(e){for(var t=0;t<e.length;t++)e[t]()}const g=256,f=1024,b=2048,m=4096,h=8192,x=65536,w=1<<17,y=1<<21,k=Symbol("$state"),z=Symbol("legacy props");function _(e){return e===this.v}function T(e,t){return e!=e?t==t:e!==t||null!==e&&"object"==typeof e||"function"==typeof e}function $(e){return!T(e,this.v)}let C=!1;const B=Symbol();function q(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let S=null;function I(e){S=e}function L(e,t=!1,n){var o=S={p:S,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};C&&!t&&(S.l={s:null,u:null,r1:[],r2:H(!1)}),de(()=>{o.d=!0})}function P(e){const t=S;if(null!==t){void 0!==e&&(t.x=e);const i=t.e;if(null!==i){var n=Oe,o=De;t.e=null;try{for(var l=0;l<i.length;l++){var r=i[l];Ue(r.effect),Me(r.reaction),ce(r.fn)}}finally{Ue(n),Me(o)}}S=t.p,t.m=!0}return e||{}}function W(){return!C||null!==S&&null===S.l}function A(e){if("object"!=typeof e||null===e||k in e)return e;const n=d(e);if(n!==s&&n!==a)return e;var o=new Map,l=t(e),i=J(0),u=De,c=e=>{var t=De;Me(u);var n=e();return Me(t),n};return l&&o.set("length",J(e.length)),new Proxy(e,{defineProperty(e,t,n){"value"in n&&!1!==n.configurable&&!1!==n.enumerable&&!1!==n.writable||function(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}();var l=o.get(t);return void 0===l?l=c(()=>{var e=J(n.value);return o.set(t,e),e}):K(l,n.value,!0),!0},deleteProperty(e,t){var n=o.get(t);if(void 0===n){if(t in e){const e=c(()=>J(B));o.set(t,e),N(i)}}else{if(l&&"string"==typeof t){var r=o.get("length"),s=Number(t);Number.isInteger(s)&&s<r.v&&K(r,s)}K(n,B),N(i)}return!0},get(t,n,l){var i;if(n===k)return e;var s=o.get(n),a=n in t;if(void 0!==s||a&&!(null==(i=r(t,n))?void 0:i.writable)||(s=c(()=>J(A(a?t[n]:B))),o.set(n,s)),void 0!==s){var d=ct(s);return d===B?void 0:d}return Reflect.get(t,n,l)},getOwnPropertyDescriptor(e,t){var n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&"value"in n){var l=o.get(t);l&&(n.value=ct(l))}else if(void 0===n){var r=o.get(t),i=null==r?void 0:r.v;if(void 0!==r&&i!==B)return{enumerable:!0,configurable:!0,value:i,writable:!0}}return n},has(e,t){var n;if(t===k)return!0;var l=o.get(t),i=void 0!==l&&l.v!==B||Reflect.has(e,t);return!((void 0!==l||null!==Oe&&(!i||(null==(n=r(e,t))?void 0:n.writable)))&&(void 0===l&&(l=c(()=>J(i?A(e[t]):B)),o.set(t,l)),ct(l)===B))&&i},set(e,t,n,s){var a,d=o.get(t),u=t in e;if(l&&"length"===t)for(var v=n;v<d.v;v+=1){var p=o.get(v+"");void 0!==p?K(p,B):v in e&&(p=c(()=>J(B)),o.set(v+"",p))}void 0===d?u&&!(null==(a=r(e,t))?void 0:a.writable)||(K(d=c(()=>J(void 0)),A(n)),o.set(t,d)):(u=d.v!==B,K(d,c(()=>A(n))));var g=Reflect.getOwnPropertyDescriptor(e,t);if((null==g?void 0:g.set)&&g.set.call(s,n),!u){if(l&&"string"==typeof t){var f=o.get("length"),b=Number(t);Number.isInteger(b)&&b>=f.v&&K(f,b+1)}N(i)}return!0},ownKeys(e){ct(i);var t=Reflect.ownKeys(e).filter(e=>{var t=o.get(e);return void 0===t||t.v!==B});for(var[n,l]of o)l.v===B||n in e||t.push(n);return t},setPrototypeOf(){!function(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}()}})}function N(e,t=1){K(e,e.v+t)}function R(e){try{if(null!==e&&"object"==typeof e&&k in e)return e[k]}catch{}return e}function E(e,t){return Object.is(R(e),R(t))}function D(e){var t=2050,n=null!==De&&2&De.f?De:null;return null===Oe||null!==n&&0!==(n.f&g)?t|=g:Oe.f|=1048576,{ctx:S,deps:null,effects:null,equals:_,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??Oe}}function F(e){const t=D(e);return t.equals=$,t}function M(e){var t=e.effects;if(null!==t){e.effects=null;for(var n=0;n<t.length;n+=1)we(t[n])}}function O(e){var t,n=Oe;Ue(function(e){for(var t=e.parent;null!==t;){if(!(2&t.f))return t;t=t.parent}return null}(e));try{M(e),t=tt(e)}finally{Ue(n)}return t}function U(e){var t=O(e);e.equals(t)||(e.v=t,e.wv=Ye()),Ne||ft(e,!Qe&&0===(e.f&g)||null===e.deps?f:m)}const j=new Map;function H(e,t){return{f:0,v:e,reactions:null,equals:_,rv:0,wv:0}}function J(e,t){const n=H(e);var o;return o=n,null!==De&&De.f&y&&(null===je?je=[De,[o]]:je[1].push(o)),n}function G(e,t=!1,n=!0){var o;const l=H(e);return t||(l.equals=$),C&&n&&null!==S&&null!==S.l&&((o=S.l).s??(o.s=[])).push(l),l}function K(e,t,n=!1){return null!==De&&!Fe&&W()&&18&De.f&&(!(null==je?void 0:je[1].includes(e))||je[0]!==De)&&function(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}(),V(e,n?A(t):t)}function V(e,t){if(!e.equals(t)){var n=e.v;Ne?j.set(e,t):j.set(e,n),e.v=t,2&e.f&&(0!==(e.f&b)&&O(e),ft(e,0===(e.f&g)?f:m)),e.wv=Ye(),Q(e,b),!W()||null===Oe||0===(Oe.f&f)||96&Oe.f||(null===Ge?function(e){Ge=e}([e]):Ge.push(e))}return t}function Q(e,t){var n=e.reactions;if(null!==n)for(var o=W(),l=n.length,r=0;r<l;r++){var i=n[r],s=i.f;0===(s&b)&&(o||i!==Oe)&&(ft(i,t),1280&s&&(2&s?Q(i,m):at(i)))}}var X,Y,Z,ee;function te(e=""){return document.createTextNode(e)}function ne(e){return Z.call(e)}function oe(e){return ee.call(e)}function le(e,t){return ne(e)}function re(e,t){var n=ne(e);return n instanceof Comment&&""===n.data?oe(n):n}function ie(e,t=1,n=!1){let o=e;for(;t--;)o=oe(o);return o}function se(e){null===Oe&&null===De&&function(){throw new Error("https://svelte.dev/e/effect_orphan")}(),null!==De&&0!==(De.f&g)&&null===Oe&&function(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}(),Ne&&function(){throw new Error("https://svelte.dev/e/effect_in_teardown")}()}function ae(e,t,n,o=!0){var l=Oe,r={ctx:S,deps:null,nodes_start:null,nodes_end:null,f:e|b,first:null,fn:t,last:null,next:null,parent:l,prev:null,teardown:null,transitions:null,wv:0};if(n)try{lt(r),r.f|=32768}catch(s){throw we(r),s}else null!==t&&at(r);if((!n||null!==r.deps||null!==r.first||null!==r.nodes_start||null!==r.teardown||1048704&r.f)&&o&&(null!==l&&function(e,t){var n=t.last;null===n?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}(r,l),null!==De&&2&De.f)){var i=De;(i.effects??(i.effects=[])).push(r)}return r}function de(e){const t=ae(8,null,!1);return ft(t,f),t.teardown=e,t}function ue(e){if(se(),!(null!==Oe&&32&Oe.f&&null!==S)||S.m)return ce(e);var t=S;(t.e??(t.e=[])).push({fn:e,effect:Oe,reaction:De})}function ce(e){return ae(4,e,!1)}function ve(e,t){var n=S,o={effect:null,ran:!1};n.l.r1.push(o),o.effect=ge(()=>{e(),o.ran||(o.ran=!0,K(n.l.r2,!0),pt(t))})}function pe(){var e=S;ge(()=>{if(ct(e.l.r2)){for(var t of e.l.r1){var n=t.effect;0!==(n.f&f)&&ft(n,m),Ze(n)&&lt(n),t.ran=!1}e.l.r2.v=!1}})}function ge(e){return ae(8,e,!0)}function fe(e,t=[],n=D){const o=t.map(n);return be(()=>e(...o.map(ct)))}function be(e,t=0){return ae(24|t,e,!0)}function me(e,t=!0){return ae(40,e,!0,t)}function he(e){var t=e.teardown;if(null!==t){const e=Ne,n=De;Re(!0),Me(null);try{t.call(null)}finally{Re(e),Me(n)}}}function xe(e,t=!1){var n=e.first;for(e.first=e.last=null;null!==n;){var o=n.next;64&n.f?n.parent=null:we(n,t),n=o}}function we(e,t=!0){var n=!1;(t||524288&e.f)&&null!==e.nodes_start&&null!==e.nodes_end&&(function(e,t){for(;null!==e;){var n=e===t?null:oe(e);e.remove(),e=n}}(e.nodes_start,e.nodes_end),n=!0),xe(e,t&&!n),ot(e,0),ft(e,16384);var o=e.transitions;if(null!==o)for(const r of o)r.stop();he(e);var l=e.parent;null!==l&&null!==l.first&&ye(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function ye(e){var t=e.parent,n=e.prev,o=e.next;null!==n&&(n.next=o),null!==o&&(o.prev=n),null!==t&&(t.first===e&&(t.first=o),t.last===e&&(t.last=n))}function ke(e,t){var n=[];_e(e,n,!0),ze(n,()=>{we(e),t&&t()})}function ze(e,t){var n=e.length;if(n>0){var o=()=>--n||t();for(var l of e)l.out(o)}else t()}function _e(e,t,n){if(0===(e.f&h)){if(e.f^=h,null!==e.transitions)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var o=e.first;null!==o;){var l=o.next;_e(o,t,!!(0!==(o.f&x)||32&o.f)&&n),o=l}}}function Te(e){$e(e,!0)}function $e(e,t){if(0!==(e.f&h)){e.f^=h;for(var n=e.first;null!==n;){var o=n.next;$e(n,!!(0!==(n.f&x)||32&n.f)&&t),n=o}if(null!==e.transitions)for(const n of e.transitions)(n.is_global||t)&&n.in()}}let Ce=[],Be=[];function qe(){var e=Ce;Ce=[],p(e)}function Se(e){0===Ce.length&&queueMicrotask(qe),Ce.push(e)}function Ie(){var e;Ce.length>0&&qe(),Be.length>0&&(e=Be,Be=[],p(e))}function Le(e,t){for(;null!==t;){if(128&t.f)try{return void t.fn(e)}catch{}t=t.parent}throw e}let Pe=!1,We=null,Ae=!1,Ne=!1;function Re(e){Ne=e}let Ee=[],De=null,Fe=!1;function Me(e){De=e}let Oe=null;function Ue(e){Oe=e}let je=null,He=null,Je=0,Ge=null,Ke=1,Ve=0,Qe=!1,Xe=null;function Ye(){return++Ke}function Ze(e){var t,n=e.f;if(0!==(n&b))return!0;if(0!==(n&m)){var o=e.deps,l=0!==(n&g);if(null!==o){var r,i,s=!!(512&n),a=l&&null!==Oe&&!Qe,d=o.length;if(s||a){var u=e,c=u.parent;for(r=0;r<d;r++)i=o[r],!s&&(null==(t=null==i?void 0:i.reactions)?void 0:t.includes(u))||(i.reactions??(i.reactions=[])).push(u);s&&(u.f^=512),a&&null!==c&&0===(c.f&g)&&(u.f^=g)}for(r=0;r<d;r++)if(Ze(i=o[r])&&U(i),i.wv>e.wv)return!0}l&&(null===Oe||Qe)||ft(e,f)}return!1}function et(e,t,n=!0){var o=e.reactions;if(null!==o)for(var l=0;l<o.length;l++){var r=o[l];(null==je?void 0:je[1].includes(e))&&je[0]===De||(2&r.f?et(r,t,!1):t===r&&(n?ft(r,b):0!==(r.f&f)&&ft(r,m),at(r)))}}function tt(e){var t,n=He,o=Je,l=Ge,r=De,i=Qe,s=je,a=S,d=Fe,u=e.f;He=null,Je=0,Ge=null,Qe=0!==(u&g)&&(Fe||!Ae||null===De),De=96&u?null:e,je=null,I(e.ctx),Fe=!1,Ve++,e.f|=y;try{var c=(0,e.fn)(),v=e.deps;if(null!==He){var p;if(ot(e,Je),null!==v&&Je>0)for(v.length=Je+He.length,p=0;p<He.length;p++)v[Je+p]=He[p];else e.deps=v=He;if(!Qe)for(p=Je;p<v.length;p++)((t=v[p]).reactions??(t.reactions=[])).push(e)}else null!==v&&Je<v.length&&(ot(e,Je),v.length=Je);if(W()&&null!==Ge&&!Fe&&null!==v&&!(6146&e.f))for(p=0;p<Ge.length;p++)et(Ge[p],e);return null!==r&&r!==e&&(Ve++,null!==Ge&&(null===l?l=Ge:l.push(...Ge))),c}catch(f){!function(e){var t=Oe;if(32768&t.f)Le(e,t);else{if(!(128&t.f))throw e;t.fn(e)}}(f)}finally{He=n,Je=o,Ge=l,De=r,Qe=i,je=s,I(a),Fe=d,e.f^=y}}function nt(e,t){let o=t.reactions;if(null!==o){var l=n.call(o,e);if(-1!==l){var r=o.length-1;0===r?o=t.reactions=null:(o[l]=o[r],o.pop())}}null===o&&2&t.f&&(null===He||!He.includes(t))&&(ft(t,m),768&t.f||(t.f^=512),M(t),ot(t,0))}function ot(e,t){var n=e.deps;if(null!==n)for(var o=t;o<n.length;o++)nt(e,n[o])}function lt(e){var t=e.f;if(!(16384&t)){ft(e,f);var n=Oe,o=Ae;Oe=e,Ae=!0;try{16&t?function(e){for(var t=e.first;null!==t;){var n=t.next;!(32&t.f)&&we(t),t=n}}(e):xe(e),he(e);var l=tt(e);e.teardown="function"==typeof l?l:null,e.wv=Ke}finally{Ae=o,Oe=n}}}function rt(){try{!function(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}()}catch(e){if(null===We)throw e;Le(e,We)}}function it(){var e=Ae;try{var t=0;for(Ae=!0;Ee.length>0;){t++>1e3&&rt();var n=Ee,o=n.length;Ee=[];for(var l=0;l<o;l++)st(dt(n[l]));j.clear()}}finally{Pe=!1,Ae=e,We=null}}function st(e){var t=e.length;if(0!==t)for(var n=0;n<t;n++){var o=e[n];24576&o.f||Ze(o)&&(lt(o),null===o.deps&&null===o.first&&null===o.nodes_start&&(null===o.teardown?ye(o):o.fn=null))}}function at(e){Pe||(Pe=!0,queueMicrotask(it));for(var t=We=e;null!==t.parent;){var n=(t=t.parent).f;if(96&n){if(0===(n&f))return;t.f^=f}}Ee.push(t)}function dt(e){for(var t=[],n=e;null!==n;){var o=n.f,l=!!(96&o);if((!l||0===(o&f))&&0===(o&h)){4&o?t.push(n):l?n.f^=f:Ze(n)&&lt(n);var r=n.first;if(null!==r){n=r;continue}}var i=n.parent;for(n=n.next;null===n&&null!==i;)n=i.next,i=i.parent}return t}function ut(e){for(;;){if(Ie(),0===Ee.length)return Pe=!1,void(We=null);Pe=!0,it()}}function ct(e){var t=!!(2&e.f);if(null!==Xe&&Xe.add(e),null===De||Fe){if(t&&null===e.deps&&null===e.effects){var n=e,o=n.parent;null!==o&&0===(o.f&g)&&(n.f^=g)}}else if(!(null==je?void 0:je[1].includes(e))||je[0]!==De){var l=De.deps;e.rv<Ve&&(e.rv=Ve,null===He&&null!==l&&l[Je]===e?Je++:null===He?He=[e]:Qe&&He.includes(e)||He.push(e))}return t&&Ze(n=e)&&U(n),Ne&&j.has(e)?j.get(e):e.v}function vt(e){var t=function(e){var t=Xe;Xe=new Set;var n,o=Xe;try{if(pt(e),null!==t)for(n of Xe)t.add(n)}finally{Xe=t}return o}(()=>pt(e));for(var n of t)if(0!==(n.f&w))for(const e of n.deps||[])2&e.f||V(e,e.v);else V(n,n.v)}function pt(e){var t=Fe;try{return Fe=!0,e()}finally{Fe=t}}const gt=-7169;function ft(e,t){e.f=e.f&gt|t}function bt(e){if("object"==typeof e&&e&&!(e instanceof EventTarget))if(k in e)mt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];"object"==typeof n&&n&&k in n&&mt(n)}}function mt(e,t=new Set){if(!("object"!=typeof e||null===e||e instanceof EventTarget||t.has(e))){t.add(e),e instanceof Date&&e.getTime();for(let l in e)try{mt(e[l],t)}catch(n){}const o=d(e);if(o!==Object.prototype&&o!==Array.prototype&&o!==Map.prototype&&o!==Set.prototype&&o!==Date.prototype){const t=i(o);for(let o in t){const l=t[o].get;if(l)try{l.call(e)}catch(n){}}}}}const ht=["touchstart","touchmove"];function xt(e){return ht.includes(e)}let wt=!1;function yt(e){var t=De,n=Oe;Me(null),Ue(null);try{return e()}finally{Me(t),Ue(n)}}function kt(e,t,n,o=n){e.addEventListener(t,()=>yt(n));const l=e.__on_r;e.__on_r=l?()=>{l(),o(!0)}:()=>o(!0),wt||(wt=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)null==(t=n.__on_r)||t.call(n)})},{capture:!0}))}const zt=new Set,_t=new Set;function Tt(e,t,n,o,l){var r={capture:o,passive:l},i=function(e,t,n,o={}){function l(e){if(o.capture||$t.call(t,e),!e.cancelBubble)return yt(()=>null==n?void 0:n.call(this,e))}return e.startsWith("pointer")||e.startsWith("touch")||"wheel"===e?Se(()=>{t.addEventListener(e,l,o)}):t.addEventListener(e,l,o),l}(e,t,n,r);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&de(()=>{t.removeEventListener(e,i,r)})}function $t(e){var n,o=this,r=o.ownerDocument,i=e.type,s=(null==(n=e.composedPath)?void 0:n.call(e))||[],a=s[0]||e.target,d=0,u=e.__root;if(u){var c=s.indexOf(u);if(-1!==c&&(o===document||o===window))return void(e.__root=o);var v=s.indexOf(o);if(-1===v)return;c<=v&&(d=c)}if((a=s[d]||e.target)!==o){l(e,"currentTarget",{configurable:!0,get:()=>a||r});var p=De,g=Oe;Me(null),Ue(null);try{for(var f,b=[];null!==a;){var m=a.assignedSlot||a.parentNode||a.host||null;try{var h=a["__"+i];if(null!=h&&(!a.disabled||e.target===a))if(t(h)){var[x,...w]=h;x.apply(a,[e,...w])}else h.call(a,e)}catch(y){f?b.push(y):f=y}if(e.cancelBubble||m===o||null===m)break;a=m}if(f){for(let e of b)queueMicrotask(()=>{throw e});throw f}}finally{e.__root=o,delete e.currentTarget,Me(p),Ue(g)}}}function Ct(e,t){var n=Oe;null===n.nodes_start&&(n.nodes_start=e,n.nodes_end=t)}function Bt(e,t){var n,o=!!(1&t),l=!!(2&t),r=!e.startsWith("<!>");return()=>{var t,i;void 0===n&&(t=r?e:"<!>"+e,(i=document.createElement("template")).innerHTML=t.replaceAll("<!>","\x3c!----\x3e"),n=i.content,o||(n=ne(n)));var s=l||Y?document.importNode(n,!0):n.cloneNode(!0);return o?Ct(ne(s),s.lastChild):Ct(s,s),s}}function qt(e=""){var t=te(e+"");return Ct(t,t),t}function St(){var e=document.createDocumentFragment(),t=document.createComment(""),n=te();return e.append(t,n),Ct(t,n),e}function It(e,t){null!==e&&e.before(t)}function Lt(e,t){var n=null==t?"":"object"==typeof t?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Pt(e,t){return function(e,{target:t,anchor:n,props:l={},events:i,context:s,intro:a=!0}){!function(){if(void 0===X){X=window,Y=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Z=r(t,"firstChild").get,ee=r(t,"nextSibling").get,u(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),u(n)&&(n.__t=void 0)}}();var d=new Set,c=e=>{for(var n=0;n<e.length;n++){var o=e[n];if(!d.has(o)){d.add(o);var l=xt(o);t.addEventListener(o,$t,{passive:l});var r=Wt.get(o);void 0===r?(document.addEventListener(o,$t,{passive:l}),Wt.set(o,1)):Wt.set(o,r+1)}}};c(o(zt)),_t.add(c);var v=void 0,p=function(){const o=ae(64,()=>{var o=n??t.appendChild(te());return me(()=>{s&&(L({}),S.c=s),i&&(l.$$events=i),v=e(o,l)||{},s&&P()}),()=>{var e;for(var l of d){t.removeEventListener(l,$t);var r=Wt.get(l);0===--r?(document.removeEventListener(l,$t),Wt.delete(l)):Wt.set(l,r)}_t.delete(c),o!==n&&(null==(e=o.parentNode)||e.removeChild(o))}},!0);return(e={})=>new Promise(t=>{e.outro?ke(o,()=>{we(o),t(void 0)}):(we(o),t(void 0))})}();return At.set(v,p),v}(e,t)}const Wt=new Map;let At=new WeakMap;function Nt(e,t,[n,o]=[0,0]){var l=e,r=null,i=null,s=B,a=!1;const d=(e,t=!0)=>{a=!0,u(t,e)},u=(e,t)=>{s!==(s=e)&&(s?(r?Te(r):t&&(r=me(()=>t(l))),i&&ke(i,()=>{i=null})):(i?Te(i):t&&(i=me(()=>t(l,[n+1,o]))),r&&ke(r,()=>{r=null})))};be(()=>{a=!1,t(d),a||u(null,null)},n>0?x:0)}function Rt(e,t){return t}function Et(e,n,l,r,i,s=null){var a,d={flags:n,items:new Map,first:null};a=e.appendChild(te());var u=null,c=!1,v=F(()=>{var e=l();return t(e)?e:null==e?[]:o(e)});be(()=>{var e=ct(v),t=e.length;c&&0===t||(c=0===t,function(e,t,n,l,r,i,s){var a,d,u,c,v,p=e.length,g=t.items,f=t.first,b=null,m=[],x=[];for(v=0;v<p;v+=1)if(u=i(d=e[v],v),void 0!==(c=g.get(u))){if(Dt(c,d,v),0!==(c.e.f&h)&&Te(c.e),c!==f){if(void 0!==a&&a.has(c)){if(m.length<x.length){var w,y=x[0];b=y.prev;var k=m[0],z=m[m.length-1];for(w=0;w<m.length;w+=1)Mt(m[w],y,n);for(w=0;w<x.length;w+=1)a.delete(x[w]);Ot(t,k.prev,z.next),Ot(t,b,k),Ot(t,z,y),f=y,b=z,v-=1,m=[],x=[]}else a.delete(c),Mt(c,f,n),Ot(t,c.prev,c.next),Ot(t,c,null===b?t.first:b.next),Ot(t,b,c),b=c;continue}for(m=[],x=[];null!==f&&f.k!==u;)0===(f.e.f&h)&&(a??(a=new Set)).add(f),x.push(f),f=f.next;if(null===f)continue;c=f}m.push(c),b=c,f=c.next}else b=Ft(f?f.e.nodes_start:n,t,b,null===b?t.first:b.next,d,u,v,l,r,s),g.set(u,b),m=[],x=[],f=b.next;if(null!==f||void 0!==a){for(var _=void 0===a?[]:o(a);null!==f;)0===(f.e.f&h)&&_.push(f),f=f.next;_.length>0&&function(e,t,n,o){for(var l=[],r=t.length,i=0;i<r;i++)_e(t[i].e,l,!0);var s=r>0&&0===l.length&&null!==n;if(s){var a=n.parentNode;a.textContent="",a.append(n),o.clear(),Ot(e,t[0].prev,t[r-1].next)}ze(l,()=>{for(var n=0;n<r;n++){var l=t[n];s||(o.delete(l.k),Ot(e,l.prev,l.next)),we(l.e,!s)}})}(t,_,0===p?n:null,g)}Oe.first=t.first&&t.first.e,Oe.last=b&&b.e}(e,d,a,i,n,r,l),null!==s&&(0===t?u?Te(u):u=me(()=>s(a)):null!==u&&ke(u,()=>{u=null})),ct(v))})}function Dt(e,t,n,o){V(e.v,t),e.i=n}function Ft(e,t,n,o,l,r,i,s,a,d){var u=1&a?16&a?H(l):G(l,!1,!1):l,c=2&a?H(i):i,v={i:c,v:u,k:r,a:null,e:null,prev:n,next:o};try{return v.e=me(()=>s(e,u,c,d),!1),v.e.prev=n&&n.e,v.e.next=o&&o.e,null===n?t.first=v:(n.next=v,n.e.next=v.e),null!==o&&(o.prev=v,o.e.prev=v.e),v}finally{}}function Mt(e,t,n){for(var o=e.next?e.next.e.nodes_start:n,l=t?t.e.nodes_start:n,r=e.e.nodes_start;r!==o;){var i=oe(r);l.before(r),r=i}}function Ot(e,t,n){null===t?e.first=n:(t.next=n,t.e.next=n&&n.e),null!==n&&(n.prev=t,n.e.prev=t&&t.e)}const Ut=[..." \t\n\r\f \v\ufeff"];function jt(e,t,n,o,l,r){var i=e.__className;if(i!==n||void 0===i){var s=function(e,t,n){var o=null==e?"":""+e;if(t&&(o=o?o+" "+t:t),n)for(var l in n)if(n[l])o=o?o+" "+l:l;else if(o.length)for(var r=l.length,i=0;(i=o.indexOf(l,i))>=0;){var s=i+r;0!==i&&!Ut.includes(o[i-1])||s!==o.length&&!Ut.includes(o[s])?i=s:o=(0===i?"":o.substring(0,i))+o.substring(s+1)}return""===o?null:o}(n,o,r);null==s?e.removeAttribute("class"):e.className=s,e.__className=n}else if(r&&l!==r)for(var a in r){var d=!!r[a];null!=l&&d===!!l[a]||e.classList.toggle(a,d)}return r}function Ht(e,t,n,o){if(e.__style!==t){var l=function(e){return null==e?null:String(e)}(t);null==l?e.removeAttribute("style"):e.style.cssText=l,e.__style=t}return o}function Jt(e,n,o){if(e.multiple){if(null==n)return;if(!t(n))return void console.warn("https://svelte.dev/e/select_multiple_invalid_value");for(var l of e.options)l.selected=n.includes(Kt(l))}else{for(l of e.options)if(E(Kt(l),n))return void(l.selected=!0);o&&void 0===n||(e.selectedIndex=-1)}}function Gt(e,t,n=t){var o=!0;kt(e,"change",t=>{var o,l=t?"[selected]":":checked";if(e.multiple)o=[].map.call(e.querySelectorAll(l),Kt);else{var r=e.querySelector(l)??e.querySelector("option:not([disabled])");o=r&&Kt(r)}n(o)}),ce(()=>{var l=t();if(Jt(e,l,o),o&&void 0===l){var r=e.querySelector(":checked");null!==r&&(l=Kt(r),n(l))}e.__value=l,o=!1}),function(e){ce(()=>{var t=new MutationObserver(()=>{var t=e.__value;Jt(e,t)});return t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}(e)}function Kt(e){return"__value"in e?e.__value:e.value}const Vt=Symbol("is custom element"),Qt=Symbol("is html");function Xt(e,t){var n=Zt(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Yt(e,t,n,o){var l=Zt(e);l[t]!==(l[t]=n)&&(null==n?e.removeAttribute(t):"string"!=typeof n&&function(e){var t,n=en.get(e.nodeName);if(n)return n;en.set(e.nodeName,n=[]);for(var o=e,l=Element.prototype;l!==o;){for(var r in t=i(o))t[r].set&&n.push(r);o=d(o)}return n}(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Zt(e){return e.__attributes??(e.__attributes={[Vt]:e.nodeName.includes("-"),[Qt]:"http://www.w3.org/1999/xhtml"===e.namespaceURI})}var en=new Map;function tn(e,t,n=t){var o=W();kt(e,"input",l=>{var r=l?e.defaultValue:e.value;if(r=nn(e)?on(r):r,n(r),o&&r!==(r=t())){var i=e.selectionStart,s=e.selectionEnd;e.value=r??"",null!==s&&(e.selectionStart=i,e.selectionEnd=Math.min(s,e.value.length))}}),null==pt(t)&&e.value&&n(nn(e)?on(e.value):e.value),ge(()=>{var n=t();nn(e)&&n===on(e.value)||("date"!==e.type||n||e.value)&&n!==e.value&&(e.value=n??"")})}function nn(e){var t=e.type;return"number"===t||"range"===t}function on(e){return""===e?null:+e}function ln(e,t){return e===t||(null==e?void 0:e[k])===t}function rn(e){return function(...t){return t[0].stopPropagation(),null==e?void 0:e.apply(this,t)}}function sn(e=!1){const t=S,n=t.l.u;if(!n)return;let o=()=>bt(t.s);if(e){let e=0,n={};const l=D(()=>{let o=!1;const l=t.s;for(const e in l)l[e]!==n[e]&&(n[e]=l[e],o=!0);return o&&e++,e});o=()=>ct(l)}var l;n.b.length&&(l=()=>{an(t,o),p(n.b)},se(),ge(l)),ue(()=>{const e=pt(()=>n.m.map(v));return()=>{for(const t of e)"function"==typeof t&&t()}}),n.a.length&&ue(()=>{an(t,o),p(n.a)})}function an(e,t){if(e.l.s)for(const n of e.l.s)ct(n);t()}function dn(e,n){var o,l=null==(o=e.$$events)?void 0:o[n.type],r=t(l)?l.slice():null==l?[]:[l];for(var i of r)i.call(this,n)}function un(e,t,n){if(null==e)return t(void 0),c;const o=pt(()=>e.subscribe(t,n));return o.unsubscribe?()=>o.unsubscribe():o}const cn=[];function vn(e,t=c){let n=null;const o=new Set;function l(t){if(T(e,t)&&(e=t,n)){const t=!cn.length;for(const n of o)n[1](),cn.push(n,e);if(t){for(let e=0;e<cn.length;e+=2)cn[e][0](cn[e+1]);cn.length=0}}}function r(t){l(t(e))}return{set:l,update:r,subscribe:function(i,s=c){const a=[i,s];return o.add(a),1===o.size&&(n=t(l,r)||c),i(e),()=>{o.delete(a),0===o.size&&n&&(n(),n=null)}}}}let pn=!1,gn=Symbol();function fn(e,t,n){const o=n[t]??(n[t]={store:null,source:G(void 0),unsubscribe:c});if(o.store!==e&&!(gn in n))if(o.unsubscribe(),o.store=e??null,null==e)o.source.v=void 0,o.unsubscribe=c;else{var l=!0;o.unsubscribe=un(e,e=>{l?o.source.v=e:K(o.source,e)}),l=!1}return e&&gn in n?function(e){let t;return un(e,e=>t=e)(),t}(e):ct(o.source)}function bn(){const e={};return[e,function(){de(()=>{for(var t in e)e[t].unsubscribe();l(e,gn,{enumerable:!1,value:!0})})}]}function mn(e,t,n){return e.set(n),t}function hn(e){var t;return(null==(t=e.ctx)?void 0:t.d)??!1}function xn(e,t,n,o){var l,i,s=!C||!!(2&n),a=!!(8&n),d=!1;[i,d]=function(){var n=pn;try{return pn=!1,[e[t],pn]}finally{pn=n}}();var u,c=k in e||z in e,v=((null==(l=r(e,t))?void 0:l.set)??(c&&t in e&&(n=>e[t]=n)))||void 0,p=o,g=!0,f=!1,b=()=>(f=!0,g&&(g=!1,p=o),p);if(void 0===i&&void 0!==o&&(v&&s&&function(){throw new Error("https://svelte.dev/e/props_invalid_value")}(),i=b(),v&&v(i)),s)u=()=>{var n=e[t];return void 0===n?b():(g=!0,f=!1,n)};else{var m=F(()=>e[t]);m.f|=w,u=()=>{var e=ct(m);return void 0!==e&&(p=void 0),void 0===e?p:e}}if(v){var h=e.$$legacy;return function(e,t){return arguments.length>0?(s&&t&&!h&&!d||v(t?u():e),e):u()}}var x=!1,y=!1,_=G(i),T=D(()=>{var e=u(),t=ct(_);return x?(x=!1,y=!0,t):(y=!1,_.v=e)});return ct(T),T.equals=$,function(e,t){if(null!==Xe&&(x=y,u(),ct(_)),arguments.length>0){const n=t?ct(T):s&&a?A(e):e;if(!T.equals(n)){if(x=!0,K(_,n),f&&void 0!==p&&(p=n),hn(T))return e;pt(()=>ct(T))}return e}return hn(T)?T.v:ct(T)}}"undefined"!=typeof window&&((e=window.__svelte??(window.__svelte={})).v??(e.v=new Set)).add("5"),C=!0;const wn=vn({popupId:"test",popupName:"◯◯キャンペーン",position:"center",displayPeriod:{start:"",end:""},redisplayInterval:1,abTest:{enabled:!1,selectedConfigIds:[]},triggerConditions:{enabled:!1,pageConditions:[],userConditions:[],timingConditions:{delay:0,scrollPercent:0,exitIntent:!1}},ga4:{promotion_id:"",promotion_name:"",creative_name:"",creative_slot:"popup"},design:{background:{color:"#ffffff",imageUrl:""},text:{content:"",color:"#333333",fontSize:"16px",fontWeight:"normal",textAlign:"center",lineHeight:"1.5"},button:{text:"",buttonLink:"",textColor:"#ffffff",backgroundColor:"#007bff",fontSize:"14px",fontWeight:"normal",borderRadius:"4px"},image:{url:"https://placehold.jp/600x300.png",link:"https://www.google.com",linkTarget:"_blank"},size:{width:"340px",padding:"0",margin:"0"},decoration:{borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",borderWidth:"0px",borderColor:"#e0e0e0",borderStyle:"solid"}}}),yn=[{value:"top-left",label:"左上"},{value:"top",label:"上中央"},{value:"top-right",label:"右上"},{value:"center",label:"中央"},{value:"bottom-left",label:"左下"},{value:"bottom",label:"下中央"},{value:"bottom-right",label:"右下"}];var kn=Bt("<option> </option>"),zn=Bt('<div class="basic-settings-form svelte-1trd33o"><h2 class="svelte-1trd33o">基本設定</h2> <div class="form-group svelte-1trd33o"><label for="popup-id" class="svelte-1trd33o">ポップアップID <span class="required svelte-1trd33o">*</span></label> <input id="popup-id" type="text" placeholder="例: summer-sale-2024" required class="svelte-1trd33o"/> <small class="svelte-1trd33o">英数字とハイフンのみ使用可能</small></div> <div class="form-group svelte-1trd33o"><label for="popup-name" class="svelte-1trd33o">ポップアップ名 <span class="required svelte-1trd33o">*</span></label> <input id="popup-name" type="text" placeholder="例: 夏季セールキャンペーン" required class="svelte-1trd33o"/> <small class="svelte-1trd33o">管理用の名前を入力してください</small></div> <div class="form-group svelte-1trd33o"><label for="position" class="svelte-1trd33o">表示位置</label> <select id="position" class="svelte-1trd33o"></select></div> <div class="form-row svelte-1trd33o"><div class="form-group svelte-1trd33o"><label for="start-date" class="svelte-1trd33o">開始日時</label> <input id="start-date" type="date" class="svelte-1trd33o"/></div> <div class="form-group svelte-1trd33o"><label for="end-date" class="svelte-1trd33o">終了日時</label> <input id="end-date" type="date" class="svelte-1trd33o"/></div></div> <div class="form-group svelte-1trd33o"><label for="redisplay-interval" class="svelte-1trd33o">再表示間隔（時間）</label> <input id="redisplay-interval" type="number" min="1" max="720" class="svelte-1trd33o"/> <small class="svelte-1trd33o">ユーザーがバナーを閉じた後、再度表示するまでの時間</small></div></div>'),_n=Bt("<option> </option>"),Tn=Bt("<option> </option>"),$n=Bt("<option> </option>"),Cn=Bt("<option> </option>"),Bn=Bt('<div class="style-settings-form svelte-1ocw9xz"><h2 class="svelte-1ocw9xz">デザイン設定</h2> <div class="section svelte-1ocw9xz"><h3 class="svelte-1ocw9xz">サイズ・余白設定</h3> <div class="form-row svelte-1ocw9xz"><div class="form-group svelte-1ocw9xz"><label for="popup-width" class="svelte-1ocw9xz">バナー幅</label> <input id="popup-width" type="text" placeholder="400px" class="svelte-1ocw9xz"/></div> <div class="form-group svelte-1ocw9xz"><label for="padding" class="svelte-1ocw9xz">内側余白</label> <input id="padding" type="text" placeholder="20px" class="svelte-1ocw9xz"/></div> <div class="form-group svelte-1ocw9xz"><label for="margin" class="svelte-1ocw9xz">外側余白</label> <input id="margin" type="text" placeholder="10px" class="svelte-1ocw9xz"/></div></div></div> <div class="section svelte-1ocw9xz"><h3 class="svelte-1ocw9xz">背景設定</h3> <div class="form-row svelte-1ocw9xz"><div class="form-group svelte-1ocw9xz"><label for="bg-color" class="svelte-1ocw9xz">背景色</label> <input id="bg-color" type="color" class="svelte-1ocw9xz"/></div> <div class="form-group svelte-1ocw9xz"><label for="bg-image" class="svelte-1ocw9xz">背景画像URL</label> <input id="bg-image" type="url" placeholder="https://example.com/image.jpg" class="svelte-1ocw9xz"/></div></div></div> <div class="section svelte-1ocw9xz"><h3 class="svelte-1ocw9xz">テキスト設定</h3> <div class="form-group svelte-1ocw9xz"><label for="main-text" class="svelte-1ocw9xz">メインテキスト</label> <textarea id="main-text" placeholder="バナーに表示するメインテキストを入力" rows="3" class="svelte-1ocw9xz"></textarea></div> <div class="form-row svelte-1ocw9xz"><div class="form-group svelte-1ocw9xz"><label for="text-color" class="svelte-1ocw9xz">文字色</label> <input id="text-color" type="color" class="svelte-1ocw9xz"/></div> <div class="form-group svelte-1ocw9xz"><label for="font-size" class="svelte-1ocw9xz">フォントサイズ</label> <input id="font-size" type="text" placeholder="16px" class="svelte-1ocw9xz"/></div> <div class="form-group svelte-1ocw9xz"><label for="font-weight" class="svelte-1ocw9xz">フォントウェイト</label> <select id="font-weight" class="svelte-1ocw9xz"></select></div></div> <div class="form-row svelte-1ocw9xz"><div class="form-group svelte-1ocw9xz"><label for="text-align" class="svelte-1ocw9xz">テキスト配置</label> <select id="text-align" class="svelte-1ocw9xz"></select></div> <div class="form-group svelte-1ocw9xz"><label for="line-height" class="svelte-1ocw9xz">行間</label> <input id="line-height" type="text" placeholder="1.5" class="svelte-1ocw9xz"/></div></div></div> <div class="section svelte-1ocw9xz"><h3 class="svelte-1ocw9xz">ボタン設定</h3> <div class="form-group svelte-1ocw9xz"><label for="button-text" class="svelte-1ocw9xz">ボタンテキスト</label> <input id="button-text" type="text" placeholder="ボタンテキスト" class="svelte-1ocw9xz"/></div> <div class="form-group svelte-1ocw9xz"><label for="button-link-url" class="svelte-1ocw9xz">ボタンリンクURL:</label> <input id="button-link-url" type="url" placeholder="https://example.com/" class="svelte-1ocw9xz"/> <small class="svelte-1ocw9xz">ボタンをクリックした時のリンク先URL（任意）</small></div> <div class="form-row svelte-1ocw9xz"><div class="form-group svelte-1ocw9xz"><label for="button-color" class="svelte-1ocw9xz">ボタン背景色</label> <input id="button-color" type="color" class="svelte-1ocw9xz"/></div> <div class="form-group svelte-1ocw9xz"><label for="button-text-color" class="svelte-1ocw9xz">ボタン文字色</label> <input id="button-text-color" type="color" class="svelte-1ocw9xz"/></div> <div class="form-group svelte-1ocw9xz"><label for="button-font-size" class="svelte-1ocw9xz">ボタンフォントサイズ</label> <input id="button-font-size" type="text" placeholder="14px" class="svelte-1ocw9xz"/></div></div> <div class="form-row svelte-1ocw9xz"><div class="form-group svelte-1ocw9xz"><label for="button-font-weight" class="svelte-1ocw9xz">ボタンフォントウェイト</label> <select id="button-font-weight" class="svelte-1ocw9xz"></select></div> <div class="form-group svelte-1ocw9xz"><label for="button-border-radius" class="svelte-1ocw9xz">ボタン角丸</label> <input id="button-border-radius" type="text" placeholder="4px" class="svelte-1ocw9xz"/></div></div></div> <div class="section svelte-1ocw9xz"><h3 class="svelte-1ocw9xz">画像設定</h3> <div class="form-group svelte-1ocw9xz"><label for="image-url" class="svelte-1ocw9xz">画像URL</label> <input id="image-url" type="url" placeholder="https://example.com/image.jpg" class="svelte-1ocw9xz"/></div> <div class="form-group svelte-1ocw9xz"><label for="image-link" class="svelte-1ocw9xz">画像リンクURL</label> <input id="image-link" type="url" placeholder="https://example.com/link" class="svelte-1ocw9xz"/> <small class="svelte-1ocw9xz">画像をクリックした時のリンク先URL（任意）</small></div> <div class="form-group svelte-1ocw9xz"><label for="image-link-target" class="svelte-1ocw9xz">リンクターゲット</label> <select id="image-link-target" class="svelte-1ocw9xz"><option>新しいタブで開く (_blank)</option><option>同じタブで開く (_self)</option><option>親フレームで開く (_parent)</option><option>最上位フレームで開く (_top)</option></select> <small class="svelte-1ocw9xz">リンクの開き方を設定</small></div></div> <div class="section svelte-1ocw9xz"><h3 class="svelte-1ocw9xz">装飾設定</h3> <div class="form-row svelte-1ocw9xz"><div class="form-group svelte-1ocw9xz"><label for="border-radius" class="svelte-1ocw9xz">角丸</label> <input id="border-radius" type="text" placeholder="8px" class="svelte-1ocw9xz"/></div> <div class="form-group svelte-1ocw9xz"><label for="box-shadow" class="svelte-1ocw9xz">シャドウ</label> <input id="box-shadow" type="text" placeholder="0 4px 12px rgba(0, 0, 0, 0.15)" class="svelte-1ocw9xz"/></div></div> <div class="form-row svelte-1ocw9xz"><div class="form-group svelte-1ocw9xz"><label for="border-width" class="svelte-1ocw9xz">ボーダー幅</label> <input id="border-width" type="text" placeholder="1px" class="svelte-1ocw9xz"/></div> <div class="form-group svelte-1ocw9xz"><label for="border-color" class="svelte-1ocw9xz">ボーダー色</label> <input id="border-color" type="color" class="svelte-1ocw9xz"/></div> <div class="form-group svelte-1ocw9xz"><label for="border-style" class="svelte-1ocw9xz">ボーダースタイル</label> <select id="border-style" class="svelte-1ocw9xz"></select></div></div></div></div>');class qn{constructor(e){this.config=e}shouldLog(e){if(!this.config.enabled)return!1;const t=["debug","info","warn","error"],n=t.indexOf(this.config.level);return t.indexOf(e)>=n}debug(e,...t){this.shouldLog("debug")&&console.log(`${this.config.prefix}[DEBUG]`,e,...t)}info(e,...t){this.shouldLog("info")&&console.info(`${this.config.prefix}[INFO]`,e,...t)}warn(e,...t){this.shouldLog("warn")&&console.warn(`${this.config.prefix}[WARN]`,e,...t)}error(e,...t){this.shouldLog("error")&&console.error(`${this.config.prefix}[ERROR]`,e,...t)}}const Sn=(e="")=>{const t="undefined"!=typeof window&&"on"===new URLSearchParams(window.location.search).get("popupBannerDebug");return new qn({enabled:t,level:t?"debug":"error",prefix:e})},In=Sn("[PopupBanner:Image] "),Ln=Sn("[PopupBanner:Animation] ");Sn("[PopupBanner:Controller] "),Sn("[PopupBanner:Trigger] "),Sn("[PopupBanner:Cookie] "),Sn("[PopupBanner:GA4] ");var Pn=Bt('<img alt="バナー画像" style="display: none;" class="svelte-1wq3mwc"/>'),Wn=Bt('<div class="dim-bg svelte-1wq3mwc" role="button" tabindex="0"></div>'),An=Bt('<img class="banner-image clickable svelte-1wq3mwc" alt="バナー画像" role="button" tabindex="0"/>'),Nn=Bt('<img class="banner-image svelte-1wq3mwc" alt="バナー画像"/>'),Rn=Bt('<div class="banner-text svelte-1wq3mwc"> </div>'),En=Bt("<button> </button>"),Dn=Bt('<div class="under-btn-text svelte-1wq3mwc"> </div>'),Fn=Bt('<!> <div><div><button class="close-btn svelte-1wq3mwc">×</button> <!> <!> <!> <!></div></div>',1),Mn=Bt("<!> <!>",1);function On(e,n){L(n,!1);const o=G(),l=G(),r=G(),i=G(),s=G(),a=G(),d=G(),u=function(){const e=S;return null===e&&q(),(n,o,l)=>{var r;const i=null==(r=e.s.$$events)?void 0:r[n];if(i){const r=t(i)?i.slice():[i],s=function(e,t,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:o})}(n,o,l);for(const t of r)t.call(e.x,s);return!s.defaultPrevented}return!0}}();let c=xn(n,"popupId",12,"sample"),v=xn(n,"popupName",12,"サンプルバナー"),p=xn(n,"popupPosition",12,"center"),g=xn(n,"popupWidth",12,""),f=xn(n,"popupBackgroundColor",12,""),b=xn(n,"popupPadding",12,""),m=xn(n,"popupMargin",12,""),h=xn(n,"popupBorderRadius",12,""),x=xn(n,"popupBoxShadow",12,""),w=xn(n,"popupBorderWidth",12,""),y=xn(n,"popupBorderColor",12,""),k=xn(n,"popupBorderStyle",12,""),z=xn(n,"dimBackground",12,!0),_=xn(n,"closeButtonColor",12,""),T=xn(n,"closeButtonBackgroundColor",12,""),$=xn(n,"closeButtonTop",12,""),B=xn(n,"closeButtonRight",12,""),I=xn(n,"imageUrl",12,null),W=xn(n,"imagePadding",12,""),A=xn(n,"imageMargin",12,""),N=xn(n,"imageBorderRadius",12,""),R=xn(n,"imageLoadTimeout",12,5),E=xn(n,"imageLoadErrorAction",12,"show"),D=xn(n,"imageLink",12,""),F=xn(n,"imageLinkTarget",12,"_blank"),M=xn(n,"onImageClick",12,()=>{}),O=xn(n,"animationType",12,"fade-in-up"),U=xn(n,"animationDuration",12,300),j=xn(n,"animationEasing",12,"ease-out"),H=xn(n,"text",12,""),J=xn(n,"middleTextAlign",12,""),V=xn(n,"middleTextLineHeight",12,""),Q=xn(n,"middleTextColor",12,""),X=xn(n,"middleTextFontSize",12,""),Y=xn(n,"middleTextFontWeight",12,""),Z=xn(n,"middleTextPadding",12,""),ee=xn(n,"middleTextMargin",12,""),te=xn(n,"buttonText",12,""),ne=xn(n,"buttonAlign",12,""),oe=xn(n,"buttonColor",12,""),se=xn(n,"buttonTextColor",12,""),ae=xn(n,"buttonFontSize",12,""),de=xn(n,"buttonFontWeight",12,""),be=xn(n,"buttonPadding",12,""),me=xn(n,"buttonMargin",12,""),he=xn(n,"buttonBorderRadius",12,""),xe=xn(n,"buttonBorderStyle",12,""),we=xn(n,"buttonBorderWidth",12,""),ye=xn(n,"buttonBorderColor",12,""),ke=xn(n,"buttonLink",12,""),ze=xn(n,"buttonLinkTarget",12,"_blank"),_e=xn(n,"underBtnText",12,""),Te=xn(n,"underBtnTextAlign",12,""),$e=xn(n,"underBtnTextLineHeight",12,""),Ce=xn(n,"underBtnTextColor",12,""),Be=xn(n,"underBtnTextFontSize",12,""),qe=xn(n,"underBtnTextFontWeight",12,""),Ie=xn(n,"underBtnTextPadding",12,""),Le=xn(n,"underBtnTextMargin",12,""),Pe=xn(n,"onButtonClick",12,()=>{}),We=xn(n,"onClose",12,()=>{}),Ae=G(!1),Ne=G(!1),Re=G(!1),Ee=G(!0),De=G(),Fe=G(!1),Me=G("");function Oe(){In.info("画像読み込み完了:",I()),K(Ae,!0),K(Re,!0)}function Ue(){In.warn("画像読み込みエラー:",I()),K(Ne,!0),"show"===E()?(K(Ee,!1),K(Re,!0)):(We()(),u("close"))}function je(){if(I())return In.debug(`画像読み込み開始（タイムアウト: ${R()}秒）:`,I()),setTimeout(()=>{ct(Ae)||ct(Ne)||(In.warn("画像読み込みタイムアウト:",I()),Ue())},1e3*R())}function He(){ct(Fe)||(In.info("画像がクリックされました",{imageUrl:I(),imageLink:D()}),M()&&M()(),D()&&window.open(D(),F()))}function Je(){ct(Fe)||(Pe()&&Pe()(),ke()&&window.open(ke(),ze()))}function Ge(){(!I()||ct(Ae)||ct(Ne))&&(ct(Ne)&&"hide"===E()?In.info("画像読み込みエラーのためバナーを表示しません"):(ct(Ne)&&K(Ee,!1),K(Re,!0)))}let Ke=G();function Ve(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),We()(),u("close")),"Escape"===e.key&&(We()(),u("close"))}var Qe,Xe,Ye;Qe=()=>{I()?je():Ge()},null===S&&q(),C&&null!==S.l?(Xe=S,Ye=Xe.l,Ye.u??(Ye.u={a:[],b:[],m:[]})).m.push(Qe):ue(()=>{const e=pt(Qe);if("function"==typeof e)return e}),ve(()=>(bt(c()),bt(v())),()=>{c()&&v()}),ve(()=>(bt(I()),ct(Ae),ct(Ne)),()=>{!I()||ct(Ae)||ct(Ne)||K(Ke,je())}),ve(()=>(bt(f()),bt(g()),bt(b()),bt(m()),bt(h()),bt(x()),bt(w()),bt(y()),bt(k())),()=>{K(o,`\n    ${f()?`background:${f()};`:""}\n    ${g()?`max-width:${g()};`:""}\n    ${b()?`padding:${b()};`:""}\n    ${m()?`margin:${m()};`:""}\n    ${h()?`border-radius:${h()};`:""}\n    ${x()?`box-shadow:${x()};`:""}\n    ${w()?`border-width:${w()};`:""}\n    ${y()?`border-color:${y()};`:""}\n    ${k()?`border-style:${k()};`:""}\n  `)}),ve(()=>bt(p()),()=>{K(l,"bottom"===p()?"position-bottom":"top"===p()?"position-top":"center"===p()?"position-center":"top-left"===p()?"position-top-left":"top-right"===p()?"position-top-right":"middle-left"===p()?"position-middle-left":"middle-right"===p()?"position-middle-right":"bottom-left"===p()?"position-bottom-left":"bottom-right"===p()?"position-bottom-right":"")}),ve(()=>(bt(_()),bt(T()),bt($()),bt(B())),()=>{K(r,`\n    ${_()?`color:${_()};`:""}\n    ${T()?`background:${T()};`:""}\n    ${$()?`top:${$()};`:""}\n    ${B()?`right:${B()};`:""}\n  `)}),ve(()=>(bt(W()),bt(A()),bt(N())),()=>{K(i,`\n    ${W()?`padding:${W()};`:""}\n    ${A()?`margin:${A()};`:""}\n    ${N()?`border-radius:${N()};`:""}\n  `)}),ve(()=>(bt(Q()),bt(J()),bt(V()),bt(X()),bt(Y()),bt(Z()),bt(ee())),()=>{K(s,`\n    ${Q()?`color:${Q()};`:""}\n    ${J()?`text-align:${J()};`:""}\n    ${V()?`line-height:${V()};`:""}\n    ${X()?`font-size:${X()};`:""}\n    ${Y()?`font-weight:${Y()};`:""}\n    ${Z()?`padding:${Z()};`:""}\n    ${ee()?`margin:${ee()};`:""}\n  `)}),ve(()=>(bt(oe()),bt(se()),bt(ae()),bt(de()),bt(be()),bt(me()),bt(he()),bt(xe()),bt(we()),bt(ye()),bt(ne())),()=>{K(a,`\n    ${oe()?`background:${oe()};`:""}\n    ${se()?`color:${se()};`:""}\n    ${ae()?`font-size:${ae()};`:""}\n    ${de()?`font-weight:${de()};`:""}\n    ${be()?`padding:${be()};`:""}\n    ${me()?`margin:${me()};`:""}\n    ${he()?`border-radius:${he()};`:""}\n    ${xe()?`border-style:${xe()};`:""}\n    ${we()?`border-width:${we()};`:""}\n    ${ye()?`border-color:${ye()};`:""}\n    ${ne()?`display:block;margin-left:auto;margin-right:auto;text-align:${ne()};`:""}\n  `)}),ve(()=>(bt(Ce()),bt(Te()),bt($e()),bt(Be()),bt(qe()),bt(Ie()),bt(Le())),()=>{K(d,`\n    ${Ce()?`color:${Ce()};`:""}\n    ${Te()?`text-align:${Te()};`:""}\n    ${$e()?`line-height:${$e()};`:""}\n    ${Be()?`font-size:${Be()};`:""}\n    ${qe()?`font-weight:${qe()};`:""}\n    ${Ie()?`padding:${Ie()};`:""}\n    ${Le()?`margin:${Le()};`:""}\n  `)}),ve(()=>(bt(I()),ct(Ae),ct(Ne)),()=>{I()&&(ct(Ae)||ct(Ne))&&Ge()}),ve(()=>(ct(Re),ct(De),bt(O())),()=>{ct(Re)&&ct(De)&&requestAnimationFrame(()=>{"none"!==O()&&function(){if("fade-in-up"===O()){Ln.debug("fade-in-upアニメーション初期化"),ct(De)&&(ct(De).style.setProperty("--animation-duration",`${U()}ms`),ct(De).style.setProperty("--animation-easing",j())),K(Me,"animate-fade-in-up"),K(Fe,!0);const e=()=>{K(Fe,!1),Ln.debug("アニメーション完了"),ct(De)&&ct(De).removeEventListener("animationend",e)};ct(De)&&ct(De).addEventListener("animationend",e)}else if("fade-in-down"===O()){Ln.debug("fade-in-downアニメーション初期化"),ct(De)&&(ct(De).style.setProperty("--animation-duration",`${U()}ms`),ct(De).style.setProperty("--animation-easing",j())),K(Me,"animate-fade-in-down"),K(Fe,!0);const e=()=>{K(Fe,!1),Ln.debug("アニメーション完了"),ct(De)&&ct(De).removeEventListener("animationend",e)};ct(De)&&ct(De).addEventListener("animationend",e)}else if("fade-in"===O()){Ln.debug("fade-inアニメーション初期化"),ct(De)&&(ct(De).style.setProperty("--animation-duration",`${U()}ms`),ct(De).style.setProperty("--animation-easing",j())),K(Me,"animate-fade-in"),K(Fe,!0);const e=()=>{K(Fe,!1),Ln.debug("アニメーション完了"),ct(De)&&ct(De).removeEventListener("animationend",e)};ct(De)&&ct(De).addEventListener("animationend",e)}else if("scale-in"===O()){Ln.debug("scale-inアニメーション初期化"),ct(De)&&(ct(De).style.setProperty("--animation-duration",`${U()}ms`),ct(De).style.setProperty("--animation-easing",j())),K(Me,"animate-scale-in"),K(Fe,!0);const e=()=>{K(Fe,!1),Ln.debug("アニメーション完了"),ct(De)&&ct(De).removeEventListener("animationend",e)};ct(De)&&ct(De).addEventListener("animationend",e)}}()})}),pe(),sn();var Ze=Mn(),et=re(Ze),tt=e=>{var t=Pn();fe(()=>Yt(t,"src",I())),Tt("load",t,Oe),Tt("error",t,Ue),It(e,t)};Nt(et,e=>{!I()||ct(Ae)||ct(Ne)||e(tt)});var nt=ie(et,2),ot=e=>{var t=Fn(),n=re(t),c=e=>{var t=Wn();Tt("click",t,()=>{We()(),u("close")}),Tt("keydown",t,Ve),It(e,t)};Nt(n,e=>{z()&&e(c)});var v=ie(n,2),p=le(v),g=le(p),f=ie(g,2),b=e=>{var t=St(),n=re(t),o=e=>{var t=An();fe(()=>{Yt(t,"src",I()),Ht(t,ct(i))}),Tt("click",t,He),Tt("keydown",t,e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),He())}),It(e,t)},l=e=>{var t=Nn();fe(()=>{Yt(t,"src",I()),Ht(t,ct(i))}),It(e,t)};Nt(n,e=>{D()?e(o):e(l,!1)}),It(e,t)};Nt(f,e=>{I()&&ct(Ee)&&e(b)});var m=ie(f,2),h=e=>{var t=Rn(),n=le(t);fe(()=>{Ht(t,ct(s)),Lt(n,H())}),It(e,t)};Nt(m,e=>{H()&&e(h)});var x=ie(m,2),w=e=>{var t=En(),n=le(t);fe(()=>{jt(t,0,"banner-btn"+(ke()?" clickable":""),"svelte-1wq3mwc"),Ht(t,ct(a)),t.disabled=ct(Fe),Lt(n,te())}),Tt("click",t,Je),It(e,t)};Nt(x,e=>{te()&&e(w)});var y=ie(x,2),k=e=>{var t=Dn(),n=le(t);fe(()=>{Ht(t,ct(d)),Lt(n,_e())}),It(e,t)};Nt(y,e=>{_e()&&e(k)}),function(e={},t,n){ce(()=>{var o,l;return ge(()=>{o=l,l=[],pt(()=>{e!==n(...l)&&(t(e,...l),o&&ln(n(...o),e)&&t(null,...o))})}),()=>{Se(()=>{l&&ln(n(...l),e)&&t(null,...l)})}})}(p,e=>K(De,e),()=>ct(De)),fe(()=>{jt(v,0,`popup-container ${ct(l)??""}`,"svelte-1wq3mwc"),jt(p,0,`popup-banner ${ct(Me)??""}`,"svelte-1wq3mwc"),Ht(p,ct(o)),Ht(g,ct(r)),g.disabled=ct(Fe)}),Tt("click",g,()=>{ct(Ke)&&clearTimeout(ct(Ke)),We()(),u("close")}),It(e,t)};return Nt(nt,e=>{ct(Re)&&e(ot)}),It(e,Ze),P({get popupId(){return c()},set popupId(e){c(e),ut()},get popupName(){return v()},set popupName(e){v(e),ut()},get popupPosition(){return p()},set popupPosition(e){p(e),ut()},get popupWidth(){return g()},set popupWidth(e){g(e),ut()},get popupBackgroundColor(){return f()},set popupBackgroundColor(e){f(e),ut()},get popupPadding(){return b()},set popupPadding(e){b(e),ut()},get popupMargin(){return m()},set popupMargin(e){m(e),ut()},get popupBorderRadius(){return h()},set popupBorderRadius(e){h(e),ut()},get popupBoxShadow(){return x()},set popupBoxShadow(e){x(e),ut()},get popupBorderWidth(){return w()},set popupBorderWidth(e){w(e),ut()},get popupBorderColor(){return y()},set popupBorderColor(e){y(e),ut()},get popupBorderStyle(){return k()},set popupBorderStyle(e){k(e),ut()},get dimBackground(){return z()},set dimBackground(e){z(e),ut()},get closeButtonColor(){return _()},set closeButtonColor(e){_(e),ut()},get closeButtonBackgroundColor(){return T()},set closeButtonBackgroundColor(e){T(e),ut()},get closeButtonTop(){return $()},set closeButtonTop(e){$(e),ut()},get closeButtonRight(){return B()},set closeButtonRight(e){B(e),ut()},get imageUrl(){return I()},set imageUrl(e){I(e),ut()},get imagePadding(){return W()},set imagePadding(e){W(e),ut()},get imageMargin(){return A()},set imageMargin(e){A(e),ut()},get imageBorderRadius(){return N()},set imageBorderRadius(e){N(e),ut()},get imageLoadTimeout(){return R()},set imageLoadTimeout(e){R(e),ut()},get imageLoadErrorAction(){return E()},set imageLoadErrorAction(e){E(e),ut()},get imageLink(){return D()},set imageLink(e){D(e),ut()},get imageLinkTarget(){return F()},set imageLinkTarget(e){F(e),ut()},get onImageClick(){return M()},set onImageClick(e){M(e),ut()},get animationType(){return O()},set animationType(e){O(e),ut()},get animationDuration(){return U()},set animationDuration(e){U(e),ut()},get animationEasing(){return j()},set animationEasing(e){j(e),ut()},get text(){return H()},set text(e){H(e),ut()},get middleTextAlign(){return J()},set middleTextAlign(e){J(e),ut()},get middleTextLineHeight(){return V()},set middleTextLineHeight(e){V(e),ut()},get middleTextColor(){return Q()},set middleTextColor(e){Q(e),ut()},get middleTextFontSize(){return X()},set middleTextFontSize(e){X(e),ut()},get middleTextFontWeight(){return Y()},set middleTextFontWeight(e){Y(e),ut()},get middleTextPadding(){return Z()},set middleTextPadding(e){Z(e),ut()},get middleTextMargin(){return ee()},set middleTextMargin(e){ee(e),ut()},get buttonText(){return te()},set buttonText(e){te(e),ut()},get buttonAlign(){return ne()},set buttonAlign(e){ne(e),ut()},get buttonColor(){return oe()},set buttonColor(e){oe(e),ut()},get buttonTextColor(){return se()},set buttonTextColor(e){se(e),ut()},get buttonFontSize(){return ae()},set buttonFontSize(e){ae(e),ut()},get buttonFontWeight(){return de()},set buttonFontWeight(e){de(e),ut()},get buttonPadding(){return be()},set buttonPadding(e){be(e),ut()},get buttonMargin(){return me()},set buttonMargin(e){me(e),ut()},get buttonBorderRadius(){return he()},set buttonBorderRadius(e){he(e),ut()},get buttonBorderStyle(){return xe()},set buttonBorderStyle(e){xe(e),ut()},get buttonBorderWidth(){return we()},set buttonBorderWidth(e){we(e),ut()},get buttonBorderColor(){return ye()},set buttonBorderColor(e){ye(e),ut()},get buttonLink(){return ke()},set buttonLink(e){ke(e),ut()},get buttonLinkTarget(){return ze()},set buttonLinkTarget(e){ze(e),ut()},get underBtnText(){return _e()},set underBtnText(e){_e(e),ut()},get underBtnTextAlign(){return Te()},set underBtnTextAlign(e){Te(e),ut()},get underBtnTextLineHeight(){return $e()},set underBtnTextLineHeight(e){$e(e),ut()},get underBtnTextColor(){return Ce()},set underBtnTextColor(e){Ce(e),ut()},get underBtnTextFontSize(){return Be()},set underBtnTextFontSize(e){Be(e),ut()},get underBtnTextFontWeight(){return qe()},set underBtnTextFontWeight(e){qe(e),ut()},get underBtnTextPadding(){return Ie()},set underBtnTextPadding(e){Ie(e),ut()},get underBtnTextMargin(){return Le()},set underBtnTextMargin(e){Le(e),ut()},get onButtonClick(){return Pe()},set onButtonClick(e){Pe(e),ut()},get onClose(){return We()},set onClose(e){We(e),ut()}})}var Un=Bt('<li class="svelte-t8pv28"><strong>画像リンク:</strong> </li>'),jn=Bt('<li class="svelte-t8pv28"><strong>ボタンリンク:</strong> </li>'),Hn=Bt('<p class="validation-message svelte-t8pv28">※ ポップアップIDと名前を入力してください</p>'),Jn=Bt('<div class="banner-preview svelte-t8pv28"><h3 class="svelte-t8pv28">プレビュー</h3> <div class="preview-info svelte-t8pv28"><div class="config-summary svelte-t8pv28"><h4 class="svelte-t8pv28">現在の設定</h4> <ul class="svelte-t8pv28"><li class="svelte-t8pv28"><strong>ID:</strong> </li> <li class="svelte-t8pv28"><strong>名前:</strong> </li> <li class="svelte-t8pv28"><strong>位置:</strong> </li> <li class="svelte-t8pv28"><strong>期間:</strong> </li> <li class="svelte-t8pv28"><strong>再表示間隔:</strong> </li> <!> <!></ul></div></div> <div class="preview-controls svelte-t8pv28"><button class="preview-btn svelte-t8pv28">プレビュー表示</button> <!></div></div> <!>',1);const Gn=vn([]),Kn=vn(null),Vn="popup-banner-configs";function Qn(){try{const e=localStorage.getItem(Vn);if(e){const t=JSON.parse(e);return Gn.set(t),t}}catch(e){console.error("設定の読み込みに失敗しました:",e)}return[]}function Xn(e){try{localStorage.setItem(Vn,JSON.stringify(e)),Gn.set(e)}catch(t){throw console.error("設定の保存に失敗しました:",t),new Error("設定の保存に失敗しました")}}function Yn(e){const t=Qn(),n=(new Date).toISOString(),o={...e,id:Date.now().toString(36)+Math.random().toString(36).substr(2),createdAt:n,updatedAt:n};return t.push(o),Xn(t),o}Qn();var Zn=Bt('<div class="duplicate-warning svelte-1ttdkqe"> </div>'),eo=Bt('<div class="empty-state svelte-1ttdkqe"><p>保存された設定がありません</p> <p class="text-muted svelte-1ttdkqe">設定を保存すると、ここに一覧表示されます</p></div>'),to=Bt('<span class="editing-badge svelte-1ttdkqe"><span class="editing-icon svelte-1ttdkqe">✏️</span> 設定中</span>'),no=Bt('<div><div class="config-header svelte-1ttdkqe"><div class="config-title svelte-1ttdkqe"><h4 class="svelte-1ttdkqe"> </h4> <!></div> <div class="config-actions svelte-1ttdkqe"><button type="button" class="btn btn-sm btn-outline-success svelte-1ttdkqe" title="プレビュー">プレビュー</button> <button type="button" class="btn btn-sm btn-outline-primary svelte-1ttdkqe" title="読み込み">読み込み</button> <button type="button" class="btn btn-sm btn-outline-secondary svelte-1ttdkqe" title="複製">複製</button> <button type="button" class="btn btn-sm btn-outline-danger svelte-1ttdkqe" title="削除">削除</button></div></div> <div class="config-details svelte-1ttdkqe"><div class="detail-item svelte-1ttdkqe"><span class="label svelte-1ttdkqe">ID:</span> <span class="value svelte-1ttdkqe"> </span></div> <div class="detail-item svelte-1ttdkqe"><span class="label svelte-1ttdkqe">表示位置:</span> <span class="value svelte-1ttdkqe"> </span></div> <div class="detail-item svelte-1ttdkqe"><span class="label svelte-1ttdkqe">作成日:</span> <span class="value svelte-1ttdkqe"> </span></div> <div class="detail-item svelte-1ttdkqe"><span class="label svelte-1ttdkqe">更新日:</span> <span class="value svelte-1ttdkqe"> </span></div></div></div>'),oo=Bt('<div class="configs-list svelte-1ttdkqe"></div>'),lo=Bt('<div class="modal-overlay svelte-1ttdkqe"><div class="modal svelte-1ttdkqe"><div class="modal-header svelte-1ttdkqe"><h4 class="svelte-1ttdkqe"> </h4> <button type="button" class="close-btn svelte-1ttdkqe">×</button></div> <div class="modal-body svelte-1ttdkqe"><div class="form-group svelte-1ttdkqe"><label for="configName" class="svelte-1ttdkqe">設定名</label> <input id="configName" type="text" placeholder="設定名を入力してください" class="form-control svelte-1ttdkqe" required/></div></div> <div class="modal-footer svelte-1ttdkqe"><button type="button" class="btn btn-secondary svelte-1ttdkqe">キャンセル</button> <button type="button" class="btn btn-primary svelte-1ttdkqe"> </button></div></div></div>'),ro=Bt('<div class="modal-overlay svelte-1ttdkqe"><div class="modal svelte-1ttdkqe"><div class="modal-header svelte-1ttdkqe"><h4 class="svelte-1ttdkqe">設定を削除</h4> <button type="button" class="close-btn svelte-1ttdkqe">×</button></div> <div class="modal-body svelte-1ttdkqe"><p>この設定を削除してもよろしいですか？</p> <p class="text-muted svelte-1ttdkqe">この操作は取り消せません。</p></div> <div class="modal-footer svelte-1ttdkqe"><button type="button" class="btn btn-secondary svelte-1ttdkqe">キャンセル</button> <button type="button" class="btn btn-danger svelte-1ttdkqe">削除</button></div></div></div>'),io=Bt('<div class="settings-manager svelte-1ttdkqe"><div class="header svelte-1ttdkqe"><h3 class="svelte-1ttdkqe">設定管理</h3> <div class="header-actions svelte-1ttdkqe"><button type="button" class="btn btn-secondary svelte-1ttdkqe">新規作成</button> <button type="button" class="btn btn-primary svelte-1ttdkqe"> </button></div></div> <!> <!></div> <!> <!> <!>',1);function so(e,t){L(t,!1);const[n,o]=bn(),l=()=>fn(Kn,"$selectedConfigId",n),r=()=>fn(wn,"$bannerConfig",n),i=()=>fn(Gn,"$savedConfigs",n);let s=G(!1),a=G(""),d=G(!1),u="",c=G(!1),v="",p=G(!1),g=G(null),f=G("");function b(e,t=null){return!!e.trim()&&i().some(n=>n.popupId===e.trim()&&n.id!==t)}function m(){if(!ct(a).trim())return void alert("設定名を入力してください");const e={...r(),popupName:ct(a).trim()};if(e.popupId.trim()){const t=ct(d)?u:null;if(b(e.popupId,t))return void alert(`ポップアップID「${e.popupId}」は既に使用されています。別のIDを指定してください。`)}try{if(ct(d)&&u)(function(e,t){const n=Qn(),o=n.findIndex(t=>t.id===e);if(-1===o)return console.error("指定されたIDの設定が見つかりません:",e),null;const l={...t,id:e,createdAt:n[o].createdAt,updatedAt:(new Date).toISOString()};return n[o]=l,Xn(n),l})(u,e)&&(alert(`「${e.popupName}」を更新しました`),wn.set(e));else{const t=Yn(e);Kn.set(t.id),wn.set(e),alert(`「${e.popupName}」を保存しました`)}h()}catch(t){alert("保存に失敗しました: "+t.message)}}function h(){K(s,!1),K(a,""),K(d,!1),u=""}function x(){const e=i().find(e=>e.id===v),t=e?e.popupName:"設定";!function(e){const t=Qn(),n=t.findIndex(t=>t.id===e);return-1===n?(console.error("指定されたIDの設定が見つかりません:",e),!1):(t.splice(n,1),Xn(t),Kn.update(t=>t===e?null:t),!0)}(v)?alert("削除に失敗しました"):alert(`「${t}」を削除しました`),w()}function w(){K(c,!1),v=""}function y(e){return new Date(e).toLocaleString("ja-JP")}function k(){K(p,!1),K(g,null)}function z(){ct(g)&&ct(g).design.button.buttonLink&&window.open(ct(g).design.button.buttonLink,"_blank")}ve(()=>(r(),l()),()=>{if(r().popupId.trim()){const e=l();b(r().popupId,e)?K(f,`⚠️ ポップアップID「${r().popupId}」は既に使用されています`):K(f,"")}else K(f,"")}),pe(),sn();var _=io(),T=re(_),$=le(T),C=ie(le($),2),B=le(C),q=ie(B,2),S=le(q),I=ie($,2),W=e=>{var t=Zn(),n=le(t);fe(()=>Lt(n,ct(f))),It(e,t)};Nt(I,e=>{ct(f)&&e(W)});var A=ie(I,2),N=e=>{It(e,eo())},R=e=>{var t=oo();Et(t,5,i,e=>e.id,(e,t)=>{var n=no();let o;var r=le(n),i=le(r),s=le(i),a=le(s),d=ie(s,2),u=e=>{It(e,to())};Nt(d,e=>{l(),ct(t),pt(()=>l()===ct(t).id)&&e(u)});var f=le(ie(i,2)),b=ie(f,2),m=ie(b,2),h=ie(m,2),x=le(ie(r,2)),w=ie(le(x),2),k=le(w),z=ie(x,2),_=ie(le(z),2),T=le(_),$=ie(z,2),C=ie(le($),2),B=le(C),q=ie($,2),S=ie(le(q),2),I=le(S);fe((e,l,r)=>{o=jt(n,0,"config-item svelte-1ttdkqe",null,o,e),Lt(a,(ct(t),pt(()=>ct(t).popupName))),Lt(k,(ct(t),pt(()=>ct(t).popupId||"未設定"))),Lt(T,(ct(t),pt(()=>ct(t).position))),Lt(B,l),Lt(I,r)},[()=>({selected:l()===ct(t).id}),()=>(ct(t),pt(()=>y(ct(t).createdAt))),()=>(ct(t),pt(()=>y(ct(t).updatedAt)))],F),Tt("click",f,()=>function(e){K(g,e),K(p,!0)}(ct(t))),Tt("click",b,()=>function(e){var t,n,o,l,r,i;const s={...e,...void 0===e.abTest&&{abTest:{enabled:!1,selectedConfigIds:[]}},...void 0===e.triggerConditions&&{triggerConditions:{enabled:!1,pageConditions:[],userConditions:[],timingConditions:{delay:0,scrollPercent:0,exitIntent:!1}}},...void 0===(null==(n=null==(t=e.design)?void 0:t.button)?void 0:n.buttonLink)&&{design:{...e.design,button:{...null==(o=e.design)?void 0:o.button,buttonLink:""}}},...void 0===(null==(r=null==(l=e.design)?void 0:l.image)?void 0:r.link)&&{design:{...e.design,image:{...null==(i=e.design)?void 0:i.image,link:"",linkTarget:"_blank"}}},...void 0===e.ga4&&{ga4:{enabled:!1,measurementId:"",events:{view:{enabled:!0,name:"view_promotion",parameters:{promotion_id:"",promotion_name:"",creative_name:"",creative_slot:"popup_banner",location_id:""}},click:{enabled:!0,name:"select_promotion",parameters:{promotion_id:"",promotion_name:"",creative_name:"",creative_slot:"popup_banner",location_id:""}},close:{enabled:!0,name:"dismiss_promotion",parameters:{promotion_id:"",promotion_name:""}}}}}};wn.set(s),Kn.set(e.id),alert(`「${e.popupName}」を読み込みました`)}(ct(t))),Tt("click",m,()=>function(e){const t=function(e){const t=Qn().find(t=>t.id===e);if(!t)return console.error("指定されたIDの設定が見つかりません:",e),null;const{id:n,createdAt:o,updatedAt:l,...r}=t;return Yn({...r,popupName:`${t.popupName}のコピー`})}(e);t?alert(`「${t.popupName}」を作成しました`):alert("複製に失敗しました")}(ct(t).id)),Tt("click",h,()=>{return e=ct(t).id,v=e,void K(c,!0);var e}),It(e,n)}),It(e,t)};Nt(A,e=>{i(),pt(()=>0===i().length)?e(N):e(R,!1)});var E=ie(T,2),D=e=>{var n=lo(),o=le(n),l=le(o),r=le(l),i=le(r),s=ie(r,2),u=ie(l,2),c=le(u),v=ie(le(c),2),p=le(ie(u,2)),g=ie(p,2),f=le(g);fe(()=>{Lt(i,ct(d)?"設定を更新":"設定を保存"),Lt(f,ct(d)?"更新":"保存")}),Tt("click",s,h),tn(v,()=>ct(a),e=>K(a,e)),Tt("click",p,h),Tt("click",g,m),Tt("click",o,rn(function(e){dn.call(this,t,e)})),Tt("click",n,h),It(e,n)};Nt(E,e=>{ct(s)&&e(D)});var M=ie(E,2),O=e=>{var n=ro(),o=le(n),l=le(o),r=ie(le(l),2),i=le(ie(l,4)),s=ie(i,2);Tt("click",r,w),Tt("click",i,w),Tt("click",s,x),Tt("click",o,rn(function(e){dn.call(this,t,e)})),Tt("click",n,w),It(e,n)};Nt(M,e=>{ct(c)&&e(O)});var U=ie(M,2),j=e=>{const t=F(()=>(ct(g),pt(()=>ct(g).popupId||"preview-banner"))),n=F(()=>(ct(g),pt(()=>ct(g).popupName||"プレビュー"))),o=F(()=>(ct(g),pt(()=>ct(g).design.image.url?ct(g).design.image.url:null))),l=F(()=>(ct(g),pt(()=>ct(g).design.image.link||null))),r=F(()=>(ct(g),pt(()=>ct(g).design.image.linkTarget||"_blank")));On(e,{get popupId(){return ct(t)},get popupName(){return ct(n)},get popupPosition(){return ct(g),pt(()=>ct(g).position)},get text(){return ct(g),pt(()=>ct(g).design.text.content)},get buttonText(){return ct(g),pt(()=>ct(g).design.button.text)},get popupBackgroundColor(){return ct(g),pt(()=>ct(g).design.background.color)},get popupWidth(){return ct(g),pt(()=>ct(g).design.size.width)},get popupPadding(){return ct(g),pt(()=>ct(g).design.size.padding)},get popupMargin(){return ct(g),pt(()=>ct(g).design.size.margin)},get popupBorderRadius(){return ct(g),pt(()=>ct(g).design.decoration.borderRadius)},get popupBoxShadow(){return ct(g),pt(()=>ct(g).design.decoration.boxShadow)},get popupBorderWidth(){return ct(g),pt(()=>ct(g).design.decoration.borderWidth)},get popupBorderColor(){return ct(g),pt(()=>ct(g).design.decoration.borderColor)},get popupBorderStyle(){return ct(g),pt(()=>ct(g).design.decoration.borderStyle)},get middleTextColor(){return ct(g),pt(()=>ct(g).design.text.color)},get middleTextFontSize(){return ct(g),pt(()=>ct(g).design.text.fontSize)},get middleTextFontWeight(){return ct(g),pt(()=>ct(g).design.text.fontWeight)},get middleTextAlign(){return ct(g),pt(()=>ct(g).design.text.textAlign)},get middleTextLineHeight(){return ct(g),pt(()=>ct(g).design.text.lineHeight)},get buttonColor(){return ct(g),pt(()=>ct(g).design.button.backgroundColor)},get buttonTextColor(){return ct(g),pt(()=>ct(g).design.button.textColor)},get buttonFontSize(){return ct(g),pt(()=>ct(g).design.button.fontSize)},get buttonFontWeight(){return ct(g),pt(()=>ct(g).design.button.fontWeight)},get buttonBorderRadius(){return ct(g),pt(()=>ct(g).design.button.borderRadius)},get imageUrl(){return ct(o)},get imageLink(){return ct(l)},get imageLinkTarget(){return ct(r)},onButtonClick:z,$$events:{close:k}})};Nt(U,e=>{ct(p)&&ct(g)&&e(j)}),fe(()=>Lt(S,l()?"設定を更新":"設定を保存")),Tt("click",B,function(){wn.set({popupId:"",popupName:"",position:"center",displayPeriod:{start:"",end:""},redisplayInterval:1,abTest:{enabled:!1,selectedConfigIds:[]},triggerConditions:{enabled:!1,pageConditions:[],userConditions:[],timingConditions:{delay:0,scrollPercent:0,exitIntent:!1}},ga4:{enabled:!1,measurementId:"",events:{view:{enabled:!0,name:"view_promotion",parameters:{promotion_id:"",promotion_name:"",creative_name:"",creative_slot:"popup_banner",location_id:""}},click:{enabled:!0,name:"select_promotion",parameters:{promotion_id:"",promotion_name:"",creative_name:"",creative_slot:"popup_banner",location_id:""}},close:{enabled:!0,name:"dismiss_promotion",parameters:{promotion_id:"",promotion_name:""}}}},design:{background:{color:"#ffffff",imageUrl:""},text:{content:"お知らせ",color:"#333333",fontSize:"16px",fontWeight:"normal",textAlign:"center",lineHeight:"1.5"},button:{text:"OK",textColor:"#ffffff",backgroundColor:"#007bff",fontSize:"14px",fontWeight:"normal",borderRadius:"4px",buttonLink:""},image:{url:"https://placehold.jp/600x300.png",link:"",linkTarget:"_blank"},size:{width:"400px",padding:"20px",margin:"0"},decoration:{borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",borderWidth:"0px",borderColor:"#e0e0e0",borderStyle:"solid"}}}),Kn.set(null),alert("新規設定を作成しました")}),Tt("click",q,function(){const e=l();e?(K(d,!0),u=e,K(a,r().popupName||"")):(K(d,!1),K(a,r().popupName||"")),K(s,!0)}),It(e,_),P(),o()}var ao=Bt('<p class="validation-message svelte-1kzhqbl"><!></p>'),uo=Bt('<div class="copy-success svelte-1kzhqbl"> </div>'),co=Bt('<div class="code-output-modal svelte-1kzhqbl"><div class="code-output-content svelte-1kzhqbl"><div class="code-output-header svelte-1kzhqbl"><h3 class="svelte-1kzhqbl">生成されたコード</h3> <button class="close-btn svelte-1kzhqbl">×</button></div> <div class="code-section svelte-1kzhqbl"><div class="code-header svelte-1kzhqbl"><h4 class="svelte-1kzhqbl">JavaScript実行コード</h4> <button class="copy-btn svelte-1kzhqbl">コピー</button></div> <pre class="code-block svelte-1kzhqbl"><code> </code></pre></div> <div class="code-footer svelte-1kzhqbl"><p class="svelte-1kzhqbl"><strong>使用方法:</strong> 生成されたコードをサイトのHTMLに貼り付けてください。</p></div></div></div>'),vo=Bt('<div class="code-generator svelte-1kzhqbl"><h3 class="svelte-1kzhqbl">コード出力</h3> <div class="generator-info svelte-1kzhqbl"><p class="svelte-1kzhqbl">設定したバナーのJavaScriptコードを生成できます。</p> <p class="svelte-1kzhqbl">生成されたコードをコピーして、ウェブサイトに貼り付けてください。</p></div> <div class="generator-controls"><button class="generate-btn svelte-1kzhqbl">コード生成</button> <!></div> <!></div> <!>',1);var po=Bt('<button class="btn-clear svelte-cmi9y0">全て解除</button>'),go=Bt('<div class="empty-state svelte-cmi9y0"><p class="svelte-cmi9y0">保存されたバナー設定がありません</p> <small class="svelte-cmi9y0">まず「設定管理」でバナー設定を保存してから、ここで選択してください</small></div>'),fo=Bt('<div class="config-option svelte-cmi9y0"><label class="config-label svelte-cmi9y0"><input type="checkbox" class="svelte-cmi9y0"/> <div class="config-info svelte-cmi9y0"><div class="config-name svelte-cmi9y0"> </div> <div class="config-details svelte-cmi9y0"><span class="config-id svelte-cmi9y0"> </span> <span class="config-position svelte-cmi9y0"> </span> <span class="config-date svelte-cmi9y0"> </span></div></div></label></div>'),bo=Bt('<li class="svelte-cmi9y0"> </li>'),mo=Bt('<div class="selection-summary svelte-cmi9y0"><p class="svelte-cmi9y0"><strong>選択された設定:</strong></p> <ul class="svelte-cmi9y0"></ul> <small class="svelte-cmi9y0">これらの設定からランダムに1つが選択されて表示されます</small></div>'),ho=Bt('<div class="config-selection-list svelte-cmi9y0"></div> <!>',1),xo=Bt('<div class="section svelte-cmi9y0"><div class="section-header svelte-cmi9y0"><h3 class="svelte-cmi9y0">テスト対象バナー選択</h3> <div class="selection-info svelte-cmi9y0"> <!></div></div> <!></div>'),wo=Bt('<div class="abtest-settings-form svelte-cmi9y0"><h2 class="svelte-cmi9y0">ABテスト設定</h2> <div class="form-group svelte-cmi9y0"><label class="svelte-cmi9y0"><input type="checkbox" class="svelte-cmi9y0"/> ABテストを有効にする</label> <small class="svelte-cmi9y0">複数のバナー設定からランダムに1つを表示します</small></div> <!></div>');var yo=Bt('<div class="analytics-settings-form svelte-q5wxbw"><h3 class="svelte-q5wxbw">計測設定（GA）</h3> <div class="form-section svelte-q5wxbw"><div class="parameters-grid svelte-q5wxbw"><div class="parameter-item svelte-q5wxbw"><label for="promotion-id" class="svelte-q5wxbw">プロモーションID</label> <input id="promotion-id" type="text" placeholder="banner_001" class="form-control svelte-q5wxbw"/> <div class="help-text svelte-q5wxbw">バナーの識別に使用します</div></div> <div class="parameter-item svelte-q5wxbw"><label for="promotion-name" class="svelte-q5wxbw">プロモーション名</label> <input id="promotion-name" type="text" placeholder="夏季セール" class="form-control svelte-q5wxbw"/> <div class="help-text svelte-q5wxbw">キャンペーン名など</div></div> <div class="parameter-item svelte-q5wxbw"><label for="creative-name" class="svelte-q5wxbw">クリエイティブ名</label> <input id="creative-name" type="text" placeholder="summer_sale_banner" class="form-control svelte-q5wxbw"/> <div class="help-text svelte-q5wxbw">バナーデザインの識別名</div></div> <div class="parameter-item svelte-q5wxbw"><label for="creative-slot" class="svelte-q5wxbw">クリエイティブスロット</label> <input id="creative-slot" type="text" placeholder="popup_banner" class="form-control svelte-q5wxbw"/> <div class="help-text svelte-q5wxbw">表示場所の識別名</div></div></div></div></div>'),ko=Bt('<div class="config-ui svelte-9muro"><header class="config-header svelte-9muro"><h1 class="svelte-9muro">ポップアップバナー設定UI</h1></header> <main class="config-main svelte-9muro"><div class="config-grid svelte-9muro"><div class="config-section svelte-9muro"><div class="banner-settings-section svelte-9muro"><h2 class="section-title svelte-9muro">バナー設定</h2> <div class="banner-settings-content svelte-9muro"><!> <!> <!></div></div></div> <div class="preview-section svelte-9muro"><!></div></div> <!> <!> <!></main></div>');function zo(e){var t=ko(),n=ie(le(t),2),o=le(n),l=le(o),r=le(l),i=ie(le(r),2),s=le(i);!function(e){L({},!1);const[t,n]=bn(),o=()=>fn(wn,"$bannerConfig",t);sn();var l=zn(),r=ie(le(l),2),i=ie(le(r),2),s=ie(r,2),a=ie(le(s),2),d=ie(s,2),u=ie(le(d),2);fe(()=>{o(),vt(()=>{})}),Et(u,5,()=>yn,Rt,(e,t)=>{var n=kn(),o={},l=le(n);fe(()=>{o!==(ct(t),o=pt(()=>ct(t).value))&&(n.value=(n.__value=(ct(t),pt(()=>ct(t).value)))??""),Lt(l,(ct(t),pt(()=>ct(t).label)))}),It(e,n)});var c=ie(d,2),v=le(c),p=ie(le(v),2),g=ie(v,2),f=ie(le(g),2),b=ie(c,2),m=ie(le(b),2);tn(i,()=>o().popupId,e=>mn(wn,pt(o).popupId=e,pt(o))),tn(a,()=>o().popupName,e=>mn(wn,pt(o).popupName=e,pt(o))),Gt(u,()=>o().position,e=>mn(wn,pt(o).position=e,pt(o))),tn(p,()=>o().displayPeriod.start,e=>mn(wn,pt(o).displayPeriod.start=e,pt(o))),tn(f,()=>o().displayPeriod.end,e=>mn(wn,pt(o).displayPeriod.end=e,pt(o))),tn(m,()=>o().redisplayInterval,e=>mn(wn,pt(o).redisplayInterval=e,pt(o))),It(e,l),P(),n()}(s);var a=ie(s,2);!function(e){L({},!1);const[t,n]=bn(),o=()=>fn(wn,"$bannerConfig",t);sn();var l=yo(),r=ie(le(l),2),i=le(r),s=le(i),a=ie(le(s),2),d=ie(s,2),u=ie(le(d),2),c=ie(d,2),v=ie(le(c),2),p=ie(c,2),g=ie(le(p),2);tn(a,()=>o().ga4.promotion_id,e=>mn(wn,pt(o).ga4.promotion_id=e,pt(o))),tn(u,()=>o().ga4.promotion_name,e=>mn(wn,pt(o).ga4.promotion_name=e,pt(o))),tn(v,()=>o().ga4.creative_name,e=>mn(wn,pt(o).ga4.creative_name=e,pt(o))),tn(g,()=>o().ga4.creative_slot,e=>mn(wn,pt(o).ga4.creative_slot=e,pt(o))),It(e,l),P(),n()}(a),function(e){L({},!1);const[t,n]=bn(),o=()=>fn(wn,"$bannerConfig",t),l=[{value:"normal",label:"標準"},{value:"bold",label:"太字"},{value:"100",label:"100 (Thin)"},{value:"300",label:"300 (Light)"},{value:"400",label:"400 (Normal)"},{value:"500",label:"500 (Medium)"},{value:"600",label:"600 (SemiBold)"},{value:"700",label:"700 (Bold)"},{value:"900",label:"900 (Black)"}],r=[{value:"left",label:"左寄せ"},{value:"center",label:"中央揃え"},{value:"right",label:"右寄せ"}],i=[{value:"none",label:"なし"},{value:"solid",label:"実線"},{value:"dashed",label:"破線"},{value:"dotted",label:"点線"},{value:"double",label:"二重線"}];sn();var s=Bn(),a=ie(le(s),2),d=ie(le(a),2),u=le(d),c=ie(le(u),2),v=ie(u,2),p=ie(le(v),2),g=ie(v,2),f=ie(le(g),2),b=ie(a,2),m=ie(le(b),2),h=le(m),x=ie(le(h),2),w=ie(h,2),y=ie(le(w),2),k=ie(b,2),z=ie(le(k),2),_=ie(le(z),2),T=ie(z,2),$=le(T),C=ie(le($),2),B=ie($,2),q=ie(le(B),2),S=ie(B,2),I=ie(le(S),2);fe(()=>{o(),vt(()=>{})}),Et(I,5,()=>l,Rt,(e,t)=>{var n=_n(),o={},l=le(n);fe(()=>{o!==(ct(t),o=pt(()=>ct(t).value))&&(n.value=(n.__value=(ct(t),pt(()=>ct(t).value)))??""),Lt(l,(ct(t),pt(()=>ct(t).label)))}),It(e,n)});var W=le(ie(T,2)),A=ie(le(W),2);fe(()=>{o(),vt(()=>{})}),Et(A,5,()=>r,Rt,(e,t)=>{var n=Tn(),o={},l=le(n);fe(()=>{o!==(ct(t),o=pt(()=>ct(t).value))&&(n.value=(n.__value=(ct(t),pt(()=>ct(t).value)))??""),Lt(l,(ct(t),pt(()=>ct(t).label)))}),It(e,n)});var N=ie(W,2),R=ie(le(N),2),E=ie(k,2),D=ie(le(E),2),F=ie(le(D),2),M=ie(D,2),O=ie(le(M),2),U=ie(M,2),j=le(U),H=ie(le(j),2),J=ie(j,2),G=ie(le(J),2),K=ie(J,2),V=ie(le(K),2),Q=le(ie(U,2)),X=ie(le(Q),2);fe(()=>{o(),vt(()=>{})}),Et(X,5,()=>l,Rt,(e,t)=>{var n=$n(),o={},l=le(n);fe(()=>{o!==(ct(t),o=pt(()=>ct(t).value))&&(n.value=(n.__value=(ct(t),pt(()=>ct(t).value)))??""),Lt(l,(ct(t),pt(()=>ct(t).label)))}),It(e,n)});var Y=ie(Q,2),Z=ie(le(Y),2),ee=ie(E,2),te=ie(le(ee),2),ne=ie(le(te),2),oe=ie(te,2),re=ie(le(oe),2),se=ie(oe,2),ae=ie(le(se),2);fe(()=>{o(),vt(()=>{})});var de=le(ae);de.value=de.__value="_blank";var ue=ie(de);ue.value=ue.__value="_self";var ce=ie(ue);ce.value=ce.__value="_parent";var ve=ie(ce);ve.value=ve.__value="_top";var pe=ie(ee,2),ge=ie(le(pe),2),be=le(ge),me=ie(le(be),2),he=ie(be,2),xe=ie(le(he),2),we=le(ie(ge,2)),ye=ie(le(we),2),ke=ie(we,2),ze=ie(le(ke),2),_e=ie(ke,2),Te=ie(le(_e),2);fe(()=>{o(),vt(()=>{})}),Et(Te,5,()=>i,Rt,(e,t)=>{var n=Cn(),o={},l=le(n);fe(()=>{o!==(ct(t),o=pt(()=>ct(t).value))&&(n.value=(n.__value=(ct(t),pt(()=>ct(t).value)))??""),Lt(l,(ct(t),pt(()=>ct(t).label)))}),It(e,n)}),tn(c,()=>o().design.size.width,e=>mn(wn,pt(o).design.size.width=e,pt(o))),tn(p,()=>o().design.size.padding,e=>mn(wn,pt(o).design.size.padding=e,pt(o))),tn(f,()=>o().design.size.margin,e=>mn(wn,pt(o).design.size.margin=e,pt(o))),tn(x,()=>o().design.background.color,e=>mn(wn,pt(o).design.background.color=e,pt(o))),tn(y,()=>o().design.background.imageUrl,e=>mn(wn,pt(o).design.background.imageUrl=e,pt(o))),tn(_,()=>o().design.text.content,e=>mn(wn,pt(o).design.text.content=e,pt(o))),tn(C,()=>o().design.text.color,e=>mn(wn,pt(o).design.text.color=e,pt(o))),tn(q,()=>o().design.text.fontSize,e=>mn(wn,pt(o).design.text.fontSize=e,pt(o))),Gt(I,()=>o().design.text.fontWeight,e=>mn(wn,pt(o).design.text.fontWeight=e,pt(o))),Gt(A,()=>o().design.text.textAlign,e=>mn(wn,pt(o).design.text.textAlign=e,pt(o))),tn(R,()=>o().design.text.lineHeight,e=>mn(wn,pt(o).design.text.lineHeight=e,pt(o))),tn(F,()=>o().design.button.text,e=>mn(wn,pt(o).design.button.text=e,pt(o))),tn(O,()=>o().design.button.buttonLink,e=>mn(wn,pt(o).design.button.buttonLink=e,pt(o))),tn(H,()=>o().design.button.backgroundColor,e=>mn(wn,pt(o).design.button.backgroundColor=e,pt(o))),tn(G,()=>o().design.button.textColor,e=>mn(wn,pt(o).design.button.textColor=e,pt(o))),tn(V,()=>o().design.button.fontSize,e=>mn(wn,pt(o).design.button.fontSize=e,pt(o))),Gt(X,()=>o().design.button.fontWeight,e=>mn(wn,pt(o).design.button.fontWeight=e,pt(o))),tn(Z,()=>o().design.button.borderRadius,e=>mn(wn,pt(o).design.button.borderRadius=e,pt(o))),tn(ne,()=>o().design.image.url,e=>mn(wn,pt(o).design.image.url=e,pt(o))),tn(re,()=>o().design.image.link,e=>mn(wn,pt(o).design.image.link=e,pt(o))),Gt(ae,()=>o().design.image.linkTarget,e=>mn(wn,pt(o).design.image.linkTarget=e,pt(o))),tn(me,()=>o().design.decoration.borderRadius,e=>mn(wn,pt(o).design.decoration.borderRadius=e,pt(o))),tn(xe,()=>o().design.decoration.boxShadow,e=>mn(wn,pt(o).design.decoration.boxShadow=e,pt(o))),tn(ye,()=>o().design.decoration.borderWidth,e=>mn(wn,pt(o).design.decoration.borderWidth=e,pt(o))),tn(ze,()=>o().design.decoration.borderColor,e=>mn(wn,pt(o).design.decoration.borderColor=e,pt(o))),Gt(Te,()=>o().design.decoration.borderStyle,e=>mn(wn,pt(o).design.decoration.borderStyle=e,pt(o))),It(e,s),P(),n()}(ie(a,2)),function(e){L({},!1);const[t,n]=bn(),o=()=>fn(wn,"$bannerConfig",t),l=G();let r=G(!1);const i=()=>{K(r,!1)},s=()=>{o().design.button.buttonLink&&window.open(o().design.button.buttonLink,"_blank")};ve(()=>o(),()=>{K(l,""!==o().popupId.trim()&&""!==o().popupName.trim())}),pe(),sn();var a=Jn(),d=re(a),u=ie(le(d),2),c=le(u),v=ie(le(c),2),p=le(v),g=ie(le(p)),f=ie(p,2),b=ie(le(f)),m=ie(f,2),h=ie(le(m)),x=ie(m,2),w=ie(le(x)),y=ie(x,2),k=ie(le(y)),z=ie(y,2),_=e=>{var t=Un(),n=ie(le(t));fe(()=>Lt(n,` ${o(),pt(()=>o().design.image.link)??""} (${o(),pt(()=>o().design.image.linkTarget)??""})`)),It(e,t)};Nt(z,e=>{o(),pt(()=>o().design.image.link)&&e(_)});var T=ie(z,2),$=e=>{var t=jn(),n=ie(le(t));fe(()=>Lt(n,` ${o(),pt(()=>o().design.button.buttonLink)??""}`)),It(e,t)};Nt(T,e=>{o(),pt(()=>o().design.button.buttonLink)&&e($)});var C=le(ie(u,2)),B=ie(C,2),q=e=>{It(e,Hn())};Nt(B,e=>{ct(l)||e(q)});var S=ie(d,2),I=e=>{const t=F(()=>(o(),pt(()=>o().popupId||"preview-banner"))),n=F(()=>(o(),pt(()=>o().popupName||"プレビュー"))),l=F(()=>(o(),pt(()=>o().design.image.url?o().design.image.url:null))),r=F(()=>(o(),pt(()=>o().design.image.link||null))),a=F(()=>(o(),pt(()=>o().design.image.linkTarget||"_blank")));On(e,{get popupId(){return ct(t)},get popupName(){return ct(n)},get popupPosition(){return o(),pt(()=>o().position)},get text(){return o(),pt(()=>o().design.text.content)},get buttonText(){return o(),pt(()=>o().design.button.text)},get popupBackgroundColor(){return o(),pt(()=>o().design.background.color)},get popupWidth(){return o(),pt(()=>o().design.size.width)},get popupPadding(){return o(),pt(()=>o().design.size.padding)},get popupMargin(){return o(),pt(()=>o().design.size.margin)},get popupBorderRadius(){return o(),pt(()=>o().design.decoration.borderRadius)},get popupBoxShadow(){return o(),pt(()=>o().design.decoration.boxShadow)},get popupBorderWidth(){return o(),pt(()=>o().design.decoration.borderWidth)},get popupBorderColor(){return o(),pt(()=>o().design.decoration.borderColor)},get popupBorderStyle(){return o(),pt(()=>o().design.decoration.borderStyle)},get middleTextColor(){return o(),pt(()=>o().design.text.color)},get middleTextFontSize(){return o(),pt(()=>o().design.text.fontSize)},get middleTextFontWeight(){return o(),pt(()=>o().design.text.fontWeight)},get middleTextAlign(){return o(),pt(()=>o().design.text.textAlign)},get middleTextLineHeight(){return o(),pt(()=>o().design.text.lineHeight)},get buttonColor(){return o(),pt(()=>o().design.button.backgroundColor)},get buttonTextColor(){return o(),pt(()=>o().design.button.textColor)},get buttonFontSize(){return o(),pt(()=>o().design.button.fontSize)},get buttonFontWeight(){return o(),pt(()=>o().design.button.fontWeight)},get buttonBorderRadius(){return o(),pt(()=>o().design.button.borderRadius)},get imageUrl(){return ct(l)},get imageLink(){return ct(r)},get imageLinkTarget(){return ct(a)},onButtonClick:s,$$events:{close:i}})};Nt(S,e=>{ct(r)&&e(I)}),fe(()=>{Lt(g,` ${o(),pt(()=>o().popupId||"未設定")??""}`),Lt(b,` ${o(),pt(()=>o().popupName||"未設定")??""}`),Lt(h,` ${o(),pt(()=>o().position)??""}`),Lt(w,` ${o(),pt(()=>o().displayPeriod.start)??""} ～ ${o(),pt(()=>o().displayPeriod.end)??""}`),Lt(k,` ${o(),pt(()=>o().redisplayInterval)??""}時間`),C.disabled=!ct(l)}),Tt("click",C,()=>{K(r,!0)}),It(e,a),P(),n()}(le(ie(l,2)));var d=ie(o,2);so(d,{});var u=ie(d,2);(function(e,t){L(t,!1);const[n,o]=bn(),l=()=>fn(wn,"$bannerConfig",n),r=()=>fn(Gn,"$savedConfigs",n),i=G(),s=G();function a(){wn.update(e=>{var t;return{...e,abTest:{...e.abTest,enabled:(null==(t=e.abTest)?void 0:t.enabled)||!1,selectedConfigIds:[]}}})}ve(()=>(l(),wn),()=>{l().abTest||wn.update(e=>({...e,abTest:{enabled:!1,selectedConfigIds:[]}}))}),ve(()=>l(),()=>{var e,t;K(i,(null==(t=null==(e=l().abTest)?void 0:e.selectedConfigIds)?void 0:t.length)||0)}),ve(()=>r(),()=>{K(s,r().length>0)}),pe(),sn();var d=wo(),u=ie(le(d),2),c=le(u),v=le(c),p=ie(u,2),g=e=>{var t=xo(),n=le(t),o=ie(le(n),2),d=le(o),u=ie(d),c=e=>{var t=po();Tt("click",t,a),It(e,t)};Nt(u,e=>{ct(i)>0&&e(c)});var v=ie(n,2),p=e=>{It(e,go())},g=e=>{var t=ho(),n=re(t);Et(n,5,r,e=>e.id,(e,t)=>{var n=fo(),o=le(n),r=le(o),i=le(ie(r,2)),s=le(i),a=le(ie(i,2)),d=le(a),u=ie(a,2),c=le(u),v=le(ie(u,2));fe((e,n)=>{Xt(r,e),Lt(s,(ct(t),pt(()=>ct(t).popupName))),Lt(d,`ID: ${ct(t),pt(()=>ct(t).popupId||"未設定")??""}`),Lt(c,`位置: ${ct(t),pt(()=>ct(t).position)??""}`),Lt(v,`作成: ${n??""}`)},[()=>(l(),ct(t),pt(()=>{var e,n;return(null==(n=null==(e=l().abTest)?void 0:e.selectedConfigIds)?void 0:n.includes(ct(t).id))||!1})),()=>(ct(t),pt(()=>{return e=ct(t).createdAt,new Date(e).toLocaleString("ja-JP");var e}))],F),Tt("change",r,()=>{return e=ct(t).id,void wn.update(t=>{var n,o;const l=(null==(n=t.abTest)?void 0:n.selectedConfigIds)||[];return{...t,abTest:{...t.abTest,enabled:(null==(o=t.abTest)?void 0:o.enabled)||!1,selectedConfigIds:l.includes(e)?l.filter(t=>t!==e):[...l,e]}}});var e}),It(e,n)});var o=ie(n,2),s=e=>{var t=mo();Et(ie(le(t),2),5,()=>(l(),pt(()=>{var e;return(null==(e=l().abTest)?void 0:e.selectedConfigIds)||[]})),Rt,(e,t)=>{var n=St();const o=F(()=>(r(),ct(t),pt(()=>r().find(e=>e.id===ct(t)))));var l=re(n),i=e=>{var t=bo(),n=le(t);fe(()=>Lt(n,`${bt(ct(o)),pt(()=>ct(o).popupName)??""} (ID: ${bt(ct(o)),pt(()=>ct(o).popupId||"未設定")??""})`)),It(e,t)};Nt(l,e=>{ct(o)&&e(i)}),It(e,n)}),It(e,t)};Nt(o,e=>{ct(i)>0&&e(s)}),It(e,t)};Nt(v,e=>{ct(s)?e(g,!1):e(p)}),fe(()=>Lt(d,`${ct(i)??""}個選択中 `)),It(e,t)};Nt(p,e=>{l(),pt(()=>{var e;return null==(e=l().abTest)?void 0:e.enabled})&&e(g)}),fe(()=>Xt(v,(l(),pt(()=>{var e;return(null==(e=l().abTest)?void 0:e.enabled)||!1})))),Tt("change",v,e=>{const t=e.target.checked;wn.update(e=>({...e,abTest:{...e.abTest,enabled:t}}))}),It(e,d),P(),o()})(u,{}),function(e,t){L(t,!1);const[n,o]=bn(),l=()=>fn(wn,"$bannerConfig",n),r=G();let i=G(!1),s=G(""),a=G("");async function d(){try{await navigator.clipboard.writeText(ct(s)),K(a,"コードをコピーしました！"),setTimeout(()=>{K(a,"")},3e3)}catch(e){console.error("コピーに失敗しました:",e),alert("コピーに失敗しました。手動でコピーしてください。")}}function u(){K(i,!1),K(s,""),K(a,"")}ve(()=>l(),()=>{var e,t;K(r,(null==(e=l().abTest)?void 0:e.enabled)?((null==(t=l().abTest.selectedConfigIds)?void 0:t.length)||0)>0:""!==l().popupId.trim()&&""!==l().popupName.trim())}),pe(),sn();var c=vo(),v=re(c),p=ie(le(v),4),g=le(p),f=ie(g,2),b=e=>{var t=ao(),n=le(t),o=e=>{It(e,qt("※ ABテスト用のバナー設定を1つ以上選択してください"))},r=e=>{It(e,qt("※ ポップアップIDと名前を入力してください"))};Nt(n,e=>{l(),pt(()=>{var e;return null==(e=l().abTest)?void 0:e.enabled})?e(o):e(r,!1)}),It(e,t)};Nt(f,e=>{ct(r)||e(b)});var m=ie(p,2),h=e=>{var t=uo(),n=le(t);fe(()=>Lt(n,ct(a))),It(e,t)};Nt(m,e=>{ct(a)&&e(h)});var x=ie(v,2),w=e=>{var n=co(),o=le(n),l=le(o),r=ie(le(l),2),i=le(ie(l,2)),a=ie(le(i),2),c=le(ie(i,2)),v=le(c);fe(()=>Lt(v,ct(s))),Tt("click",r,u),Tt("click",a,d),Tt("click",o,rn(function(e){dn.call(this,t,e)})),Tt("click",n,u),It(e,n)};Nt(x,e=>{ct(i)&&e(w)}),fe(()=>g.disabled=!ct(r)),Tt("click",g,function(){var e;const t=l();if(null==(e=t.abTest)?void 0:e.enabled){if(!t.abTest.selectedConfigIds||0===t.abTest.selectedConfigIds.length)return void alert("ABテスト用のバナー設定を1つ以上選択してください")}else if(!t.popupId.trim()||!t.popupName.trim())return void alert("ポップアップIDと名前を入力してください");K(s,function(e){var t,o,l;try{return(null==(t=e.abTest)?void 0:t.enabled)&&((null==(l=null==(o=e.abTest)?void 0:o.selectedConfigIds)?void 0:l.length)||0)>0?function(e){const t=fn(Gn,"$savedConfigs",n).filter(t=>{var n;return((null==(n=e.abTest)?void 0:n.selectedConfigIds)||[]).includes(t.id)});if(0===t.length)return"// ABテスト: 選択された設定が見つかりません\n// 保存済み設定から対象バナーを選択してください";console.log("ABテスト用設定:",t.length,"個選択されました");const o=t.map(e=>({popupId:e.popupId,popupName:e.popupName,popupPosition:e.position,redisplayInterval:e.redisplayInterval,...e.displayPeriod.start&&{startDate:e.displayPeriod.start},...e.displayPeriod.end&&{endDate:e.displayPeriod.end},text:e.design.text.content,buttonText:e.design.button.text,popupBackgroundColor:e.design.background.color,...e.design.background.imageUrl&&{popupBackgroundImage:e.design.background.imageUrl},middleTextColor:e.design.text.color,middleTextFontSize:e.design.text.fontSize,middleTextFontWeight:e.design.text.fontWeight,middleTextAlign:e.design.text.textAlign,middleTextLineHeight:e.design.text.lineHeight,buttonColor:e.design.button.backgroundColor,buttonTextColor:e.design.button.textColor,buttonFontSize:e.design.button.fontSize,buttonFontWeight:e.design.button.fontWeight,buttonBorderRadius:e.design.button.borderRadius,...e.design.button.buttonLink&&{buttonLink:e.design.button.buttonLink},...e.design.image.url&&{imageUrl:e.design.image.url},...e.design.image.link&&{imageLink:e.design.image.link,imageLinkTarget:e.design.image.linkTarget},popupWidth:e.design.size.width,popupPadding:e.design.size.padding,popupMargin:e.design.size.margin,popupBorderRadius:e.design.decoration.borderRadius,popupBoxShadow:e.design.decoration.boxShadow,..."0px"!==e.design.decoration.borderWidth&&{popupBorderWidth:e.design.decoration.borderWidth,popupBorderColor:e.design.decoration.borderColor,popupBorderStyle:e.design.decoration.borderStyle}})),l=t.map(e=>e.popupName).join(", "),r=JSON.stringify(o,null,2).replace(/"/g,"'");return`// ABテスト設定: ${l}\n// 生成日時: ${(new Date).toLocaleString("ja-JP")}\n// 選択された${t.length}個の設定からランダムに1つを表示\n\n// CDNから読み込む場合\n// <script src="https://your-cdn-url/popup-banner.js"><\/script>\n\n// ABテスト用バナーを表示（配列を渡すと自動的にランダム選択）\nTryPopupBanner.show(${r});`}(e):function(e){const t={popupId:e.popupId,popupName:e.popupName,popupPosition:e.position,redisplayInterval:e.redisplayInterval,...e.displayPeriod.start&&{startDate:e.displayPeriod.start},...e.displayPeriod.end&&{endDate:e.displayPeriod.end},text:e.design.text.content,buttonText:e.design.button.text,popupBackgroundColor:e.design.background.color,...e.design.background.imageUrl&&{popupBackgroundImage:e.design.background.imageUrl},middleTextColor:e.design.text.color,middleTextFontSize:e.design.text.fontSize,middleTextFontWeight:e.design.text.fontWeight,middleTextAlign:e.design.text.textAlign,middleTextLineHeight:e.design.text.lineHeight,buttonColor:e.design.button.backgroundColor,buttonTextColor:e.design.button.textColor,buttonFontSize:e.design.button.fontSize,buttonFontWeight:e.design.button.fontWeight,buttonBorderRadius:e.design.button.borderRadius,...e.design.button.buttonLink&&{buttonLink:e.design.button.buttonLink},...e.design.image.url&&{imageUrl:e.design.image.url},...e.design.image.link&&{imageLink:e.design.image.link,imageLinkTarget:e.design.image.linkTarget},popupWidth:e.design.size.width,popupPadding:e.design.size.padding,popupMargin:e.design.size.margin,popupBorderRadius:e.design.decoration.borderRadius,popupBoxShadow:e.design.decoration.boxShadow,..."0px"!==e.design.decoration.borderWidth&&{popupBorderWidth:e.design.decoration.borderWidth,popupBorderColor:e.design.decoration.borderColor,popupBorderStyle:e.design.decoration.borderStyle}},n=JSON.stringify(t,null,2).replace(/"/g,"'");return`// ポップアップバナー設定: ${e.popupName}\n// 生成日時: ${(new Date).toLocaleString("ja-JP")}\n\n// CDNから読み込む場合\n// <script src="https://your-cdn-url/popup-banner.js"><\/script>\n\n// バナーを表示\nTryPopupBanner.show(${n});`}(e)}catch(r){return console.error("コード生成エラー:",r),`// コード生成中にエラーが発生しました\n// エラー: ${r.message}\n// 設定を確認して再度お試しください`}}(t)),K(i,!0)}),It(e,c),P(),o()}(ie(u,2),{}),It(e,t)}window.initConfigUI=function(e){return"string"==typeof e&&(e=document.getElementById(e)||document.querySelector(e)),e?Pt(zo,{target:e}):(console.error("Target element not found for ConfigUI"),null)},document.addEventListener("DOMContentLoaded",function(){const e=["#app","#popup-banner-config-ui","#config-ui",".popup-banner-config-ui","[data-popup-banner-config-ui]"];let t=null;for(const n of e)if(t=document.querySelector(n),t){console.log(`PopupBanner ConfigUI: Auto-initializing with selector "${n}"`);break}t&&window.initConfigUI(t)})});
