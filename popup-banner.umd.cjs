(function(){"use strict";try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".popup-banner.svelte-1ncgpv8{border-radius:8px;box-shadow:0 2px 8px #00000026;padding:40px 0 20px;max-width:400px;width:90%;margin:0 auto;position:fixed;left:50%;transform:translate(-50%);z-index:10000;box-sizing:border-box;background:#fff;top:40px}.position-bottom.svelte-1ncgpv8{top:auto;bottom:40px}.position-top.svelte-1ncgpv8{top:40px;bottom:auto}.position-center.svelte-1ncgpv8{top:50%;left:50%;bottom:auto;right:auto;transform:translate(-50%,-50%)}.position-middle-left.svelte-1ncgpv8{top:50%;left:40px;right:auto;bottom:auto;transform:translateY(-50%)}.position-middle-right.svelte-1ncgpv8{top:50%;right:40px;left:auto;bottom:auto;transform:translateY(-50%)}.position-bottom-left.svelte-1ncgpv8{bottom:40px;left:40px;right:auto;top:auto;transform:none}.position-bottom-right.svelte-1ncgpv8{bottom:40px;right:40px;left:auto;top:auto;transform:none}@media (max-width: 600px){.popup-banner.svelte-1ncgpv8{max-width:98vw;width:98vw;padding:8px}}.close-btn.svelte-1ncgpv8{position:absolute;top:8px;right:8px;background:transparent;border:none;font-size:20px;cursor:pointer}.banner-image.svelte-1ncgpv8{display:block;max-width:100%;margin:0 auto}.banner-text.svelte-1ncgpv8{margin:16px;font-size:1.1em;text-align:center}.banner-btn.svelte-1ncgpv8{display:block;margin:0 auto;padding:8px 24px;font-size:1em;border-radius:4px;border:none;background:#0070f3;color:#fff;cursor:pointer}.under-btn-text.svelte-1ncgpv8{margin:16px;font-size:.95em;text-align:center}.dim-bg.svelte-1ncgpv8{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#0006;z-index:9999}")),document.head.appendChild(t)}}catch(o){console.error("vite-plugin-css-injected-by-js",o)}})();
(function(X,ft){typeof exports=="object"&&typeof module<"u"?ft(exports):typeof define=="function"&&define.amd?define(["exports"],ft):(X=typeof globalThis<"u"?globalThis:X||self,ft(X.PopupBanner={}))})(this,function(X){"use strict";var kn;const ft="5";typeof window<"u"&&((kn=window.__svelte??(window.__svelte={})).v??(kn.v=new Set)).add(ft);let dt=!1,Rn=!1;function In(){dt=!0}In();const Ln=2,Dn=8,Wn=1,On=2,M=Symbol(),qn="http://www.w3.org/1999/xhtml",Re=!1;var Ie=Array.isArray,Hn=Array.prototype.indexOf,zn=Array.from,Un=Object.defineProperty,nt=Object.getOwnPropertyDescriptor,Le=Object.getOwnPropertyDescriptors,jn=Object.prototype,Vn=Array.prototype,fe=Object.getPrototypeOf,De=Object.isExtensible;function We(t){for(var e=0;e<t.length;e++)t[e]()}const O=2,Oe=4,Zt=8,de=16,V=32,rt=64,ce=128,I=256,Jt=512,F=1024,U=2048,G=4096,ot=8192,ge=16384,qe=32768,pe=65536,Gn=1<<17,Yn=1<<19,He=1<<20,ve=1<<21,it=Symbol("$state"),Kn=Symbol("legacy props");function ze(t){return t===this.v}function Qn(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function _e(t){return!Qn(t,this.v)}function Zn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Jn(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Xn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function $n(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function tr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let P=null;function Ue(t){P=t}function je(t,e=!1,n){var r=P={p:P,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};dt&&!e&&(P.l={s:null,u:null,r1:[],r2:be(!1)}),tn(()=>{r.d=!0})}function Ve(t){const e=P;if(e!==null){t!==void 0&&(e.x=t);const d=e.e;if(d!==null){var n=T,r=b;e.e=null;try{for(var o=0;o<d.length;o++){var i=d[o];Q(i.effect),z(i.reaction),sr(i.fn)}}finally{Q(n),z(r)}}P=e.p,e.m=!0}return t||{}}function Xt(){return!dt||P!==null&&P.l===null}function ut(t){if(typeof t!="object"||t===null||it in t)return t;const e=fe(t);if(e!==jn&&e!==Vn)return t;var n=new Map,r=Ie(t),o=Y(0),i=b,d=l=>{var a=b;z(i);var f=l();return z(a),f};return r&&n.set("length",Y(t.length)),new Proxy(t,{defineProperty(l,a,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Xn();var v=n.get(a);return v===void 0?v=d(()=>{var s=Y(f.value);return n.set(a,s),s}):E(v,f.value,!0),!0},deleteProperty(l,a){var f=n.get(a);if(f===void 0){if(a in l){const c=d(()=>Y(M));n.set(a,c),he(o)}}else{if(r&&typeof a=="string"){var v=n.get("length"),s=Number(a);Number.isInteger(s)&&s<v.v&&E(v,s)}E(f,M),he(o)}return!0},get(l,a,f){var _;if(a===it)return t;var v=n.get(a),s=a in l;if(v===void 0&&(!s||(_=nt(l,a))!=null&&_.writable)&&(v=d(()=>{var m=ut(s?l[a]:M),y=Y(m);return y}),n.set(a,v)),v!==void 0){var c=w(v);return c===M?void 0:c}return Reflect.get(l,a,f)},getOwnPropertyDescriptor(l,a){var f=Reflect.getOwnPropertyDescriptor(l,a);if(f&&"value"in f){var v=n.get(a);v&&(f.value=w(v))}else if(f===void 0){var s=n.get(a),c=s==null?void 0:s.v;if(s!==void 0&&c!==M)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return f},has(l,a){var c;if(a===it)return!0;var f=n.get(a),v=f!==void 0&&f.v!==M||Reflect.has(l,a);if(f!==void 0||T!==null&&(!v||(c=nt(l,a))!=null&&c.writable)){f===void 0&&(f=d(()=>{var _=v?ut(l[a]):M,m=Y(_);return m}),n.set(a,f));var s=w(f);if(s===M)return!1}return v},set(l,a,f,v){var x;var s=n.get(a),c=a in l;if(r&&a==="length")for(var _=f;_<s.v;_+=1){var m=n.get(_+"");m!==void 0?E(m,M):_ in l&&(m=d(()=>Y(M)),n.set(_+"",m))}if(s===void 0)(!c||(x=nt(l,a))!=null&&x.writable)&&(s=d(()=>Y(void 0)),E(s,ut(f)),n.set(a,s));else{c=s.v!==M;var y=d(()=>ut(f));E(s,y)}var D=Reflect.getOwnPropertyDescriptor(l,a);if(D!=null&&D.set&&D.set.call(v,f),!c){if(r&&typeof a=="string"){var N=n.get("length"),S=Number(a);Number.isInteger(S)&&S>=N.v&&E(N,S+1)}he(o)}return!0},ownKeys(l){w(o);var a=Reflect.ownKeys(l).filter(s=>{var c=n.get(s);return c===void 0||c.v!==M});for(var[f,v]of n)v.v!==M&&!(f in l)&&a.push(f);return a},setPrototypeOf(){$n()}})}function he(t,e=1){E(t,t.v+e)}function me(t){var e=O|U,n=b!==null&&(b.f&O)!==0?b:null;return T===null||n!==null&&(n.f&I)!==0?e|=I:T.f|=He,{ctx:P,deps:null,effects:null,equals:ze,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:n??T}}function er(t){const e=me(t);return e.equals=_e,e}function Ge(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)tt(e[n])}}function nr(t){for(var e=t.parent;e!==null;){if((e.f&O)===0)return e;e=e.parent}return null}function Ye(t){var e,n=T;Q(nr(t));try{Ge(t),e=_n(t)}finally{Q(n)}return e}function Ke(t){var e=Ye(t);if(t.equals(e)||(t.v=e,t.wv=pn()),!ht){var n=(Z||(t.f&I)!==0)&&t.deps!==null?G:F;q(t,n)}}const ct=new Map;function be(t,e){var n={f:0,v:t,reactions:null,equals:ze,rv:0,wv:0};return n}function Y(t,e){const n=be(t);return mr(n),n}function K(t,e=!1,n=!0){var o;const r=be(t);return e||(r.equals=_e),dt&&n&&P!==null&&P.l!==null&&((o=P.l).s??(o.s=[])).push(r),r}function E(t,e,n=!1){b!==null&&!H&&Xt()&&(b.f&(O|de))!==0&&!(C!=null&&C[1].includes(t)&&C[0]===b)&&tr();let r=n?ut(e):e;return rr(t,r)}function rr(t,e){if(!t.equals(e)){var n=t.v;ht?ct.set(t,e):ct.set(t,n),t.v=e,(t.f&O)!==0&&((t.f&U)!==0&&Ye(t),q(t,(t.f&I)===0?F:G)),t.wv=pn(),Qe(t,U),Xt()&&T!==null&&(T.f&F)!==0&&(T.f&(V|rt))===0&&(L===null?br([t]):L.push(t))}return e}function Qe(t,e){var n=t.reactions;if(n!==null)for(var r=Xt(),o=n.length,i=0;i<o;i++){var d=n[i],l=d.f;(l&U)===0&&(!r&&d===T||(q(d,e),(l&(F|I))!==0&&((l&O)!==0?Qe(d,G):we(d))))}}var Ze,Je,Xe,$e;function or(){if(Ze===void 0){Ze=window,Je=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Xe=nt(e,"firstChild").get,$e=nt(e,"nextSibling").get,De(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),De(n)&&(n.__t=void 0)}}function ir(t=""){return document.createTextNode(t)}function $t(t){return Xe.call(t)}function xe(t){return $e.call(t)}function te(t,e){return $t(t)}function ur(t,e){{var n=$t(t);return n instanceof Comment&&n.data===""?xe(n):n}}function gt(t,e=1,n=!1){let r=t;for(;e--;)r=xe(r);return r}function lr(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function lt(t,e,n,r=!0){var o=T,i={ctx:P,deps:null,nodes_start:null,nodes_end:null,f:t|U,first:null,fn:e,last:null,next:null,parent:o,prev:null,teardown:null,transitions:null,wv:0};if(n)try{oe(i),i.f|=qe}catch(a){throw tt(i),a}else e!==null&&we(i);var d=n&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(He|ce))===0;if(!d&&r&&(o!==null&&lr(i,o),b!==null&&(b.f&O)!==0)){var l=b;(l.effects??(l.effects=[])).push(i)}return i}function tn(t){const e=lt(Zt,null,!1);return q(e,F),e.teardown=t,e}function ar(t){const e=lt(rt,t,!0);return(n={})=>new Promise(r=>{n.outro?Te(e,()=>{tt(e),r(void 0)}):(tt(e),r(void 0))})}function sr(t){return lt(Oe,t,!1)}function $(t,e){var n=P,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=en(()=>{t(),!r.ran&&(r.ran=!0,E(n.l.r2,!0),mn(e))})}function fr(){var t=P;en(()=>{if(w(t.l.r2)){for(var e of t.l.r1){var n=e.effect;(n.f&F)!==0&&q(n,G),bt(n)&&oe(n),e.ran=!1}t.l.r2.v=!1}})}function en(t){return lt(Zt,t,!0)}function ee(t,e=[],n=me){const r=e.map(n);return nn(()=>t(...r.map(w)))}function nn(t,e=0){return lt(Zt|de|e,t,!0)}function Be(t,e=!0){return lt(Zt|V,t,!0,e)}function rn(t){var e=t.teardown;if(e!==null){const n=ht,r=b;cn(!0),z(null);try{e.call(null)}finally{cn(n),z(r)}}}function on(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){var r=n.next;(n.f&rt)!==0?n.parent=null:tt(n,e),n=r}}function dr(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&V)===0&&tt(e),e=n}}function tt(t,e=!0){var n=!1;(e||(t.f&Yn)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(cr(t.nodes_start,t.nodes_end),n=!0),on(t,e&&!n),re(t,0),q(t,ge);var r=t.transitions;if(r!==null)for(const i of r)i.stop();rn(t);var o=t.parent;o!==null&&o.first!==null&&un(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function cr(t,e){for(;t!==null;){var n=t===e?null:xe(t);t.remove(),t=n}}function un(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Te(t,e){var n=[];ln(t,n,!0),gr(n,()=>{tt(t),e&&e()})}function gr(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var o of t)o.out(r)}else e()}function ln(t,e,n){if((t.f&ot)===0){if(t.f^=ot,t.transitions!==null)for(const d of t.transitions)(d.is_global||n)&&e.push(d);for(var r=t.first;r!==null;){var o=r.next,i=(r.f&pe)!==0||(r.f&V)!==0;ln(r,e,i?n:!1),r=o}}}function an(t){sn(t,!0)}function sn(t,e){if((t.f&ot)!==0){t.f^=ot;for(var n=t.first;n!==null;){var r=n.next,o=(n.f&pe)!==0||(n.f&V)!==0;sn(n,o?e:!1),n=r}if(t.transitions!==null)for(const i of t.transitions)(i.is_global||e)&&i.in()}}let pt=[],ye=[];function fn(){var t=pt;pt=[],We(t)}function pr(){var t=ye;ye=[],We(t)}function vr(t){pt.length===0&&queueMicrotask(fn),pt.push(t)}function _r(){pt.length>0&&fn(),ye.length>0&&pr()}function hr(t){var e=T;if((e.f&qe)===0){if((e.f&ce)===0)throw t;e.fn(t)}else dn(t,e)}function dn(t,e){for(;e!==null;){if((e.f&ce)!==0)try{e.fn(t);return}catch{}e=e.parent}throw t}let vt=!1,_t=null,et=!1,ht=!1;function cn(t){ht=t}let mt=[],po=[],b=null,H=!1;function z(t){b=t}let T=null;function Q(t){T=t}let C=null;function mr(t){b!==null&&b.f&ve&&(C===null?C=[b,[t]]:C[1].push(t))}let A=null,R=0,L=null;function br(t){L=t}let gn=1,ne=0,Z=!1;function pn(){return++gn}function bt(t){var s;var e=t.f;if((e&U)!==0)return!0;if((e&G)!==0){var n=t.deps,r=(e&I)!==0;if(n!==null){var o,i,d=(e&Jt)!==0,l=r&&T!==null&&!Z,a=n.length;if(d||l){var f=t,v=f.parent;for(o=0;o<a;o++)i=n[o],(d||!((s=i==null?void 0:i.reactions)!=null&&s.includes(f)))&&(i.reactions??(i.reactions=[])).push(f);d&&(f.f^=Jt),l&&v!==null&&(v.f&I)===0&&(f.f^=I)}for(o=0;o<a;o++)if(i=n[o],bt(i)&&Ke(i),i.wv>t.wv)return!0}(!r||T!==null&&!Z)&&q(t,F)}return!1}function vn(t,e,n=!0){var r=t.reactions;if(r!==null)for(var o=0;o<r.length;o++){var i=r[o];C!=null&&C[1].includes(t)&&C[0]===b||((i.f&O)!==0?vn(i,e,!1):e===i&&(n?q(i,U):(i.f&F)!==0&&q(i,G),we(i)))}}function _n(t){var _;var e=A,n=R,r=L,o=b,i=Z,d=C,l=P,a=H,f=t.f;A=null,R=0,L=null,Z=(f&I)!==0&&(H||!et||b===null),b=(f&(V|rt))===0?t:null,C=null,Ue(t.ctx),H=!1,ne++,t.f|=ve;try{var v=(0,t.fn)(),s=t.deps;if(A!==null){var c;if(re(t,R),s!==null&&R>0)for(s.length=R+A.length,c=0;c<A.length;c++)s[R+c]=A[c];else t.deps=s=A;if(!Z)for(c=R;c<s.length;c++)((_=s[c]).reactions??(_.reactions=[])).push(t)}else s!==null&&R<s.length&&(re(t,R),s.length=R);if(Xt()&&L!==null&&!H&&s!==null&&(t.f&(O|G|U))===0)for(c=0;c<L.length;c++)vn(L[c],t);return o!==null&&o!==t&&(ne++,L!==null&&(r===null?r=L:r.push(...L))),v}catch(m){hr(m)}finally{A=e,R=n,L=r,b=o,Z=i,C=d,Ue(l),H=a,t.f^=ve}}function xr(t,e){let n=e.reactions;if(n!==null){var r=Hn.call(n,t);if(r!==-1){var o=n.length-1;o===0?n=e.reactions=null:(n[r]=n[o],n.pop())}}n===null&&(e.f&O)!==0&&(A===null||!A.includes(e))&&(q(e,G),(e.f&(I|Jt))===0&&(e.f^=Jt),Ge(e),re(e,0))}function re(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)xr(t,n[r])}function oe(t){var e=t.f;if((e&ge)===0){q(t,F);var n=T,r=et;T=t,et=!0;try{(e&de)!==0?dr(t):on(t),rn(t);var o=_n(t);t.teardown=typeof o=="function"?o:null,t.wv=gn;var i;Re&&Rn&&(t.f&U)!==0&&t.deps}finally{et=r,T=n}}}function Br(){try{Zn()}catch(t){if(_t!==null)dn(t,_t);else throw t}}function hn(){var t=et;try{var e=0;for(et=!0;mt.length>0;){e++>1e3&&Br();var n=mt,r=n.length;mt=[];for(var o=0;o<r;o++){var i=yr(n[o]);Tr(i)}ct.clear()}}finally{vt=!1,et=t,_t=null}}function Tr(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var r=t[n];(r.f&(ge|ot))===0&&bt(r)&&(oe(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?un(r):r.fn=null))}}function we(t){vt||(vt=!0,queueMicrotask(hn));for(var e=_t=t;e.parent!==null;){e=e.parent;var n=e.f;if((n&(rt|V))!==0){if((n&F)===0)return;e.f^=F}}mt.push(e)}function yr(t){for(var e=[],n=t;n!==null;){var r=n.f,o=(r&(V|rt))!==0,i=o&&(r&F)!==0;if(!i&&(r&ot)===0){(r&Oe)!==0?e.push(n):o?n.f^=F:bt(n)&&oe(n);var d=n.first;if(d!==null){n=d;continue}}var l=n.parent;for(n=n.next;n===null&&l!==null;)n=l.next,l=l.parent}return e}function g(t){for(var e;;){if(_r(),mt.length===0)return vt=!1,_t=null,e;vt=!0,hn()}}function w(t){var e=t.f,n=(e&O)!==0;if(b!==null&&!H){if(!(C!=null&&C[1].includes(t))||C[0]!==b){var r=b.deps;t.rv<ne&&(t.rv=ne,A===null&&r!==null&&r[R]===t?R++:A===null?A=[t]:(!Z||!A.includes(t))&&A.push(t))}}else if(n&&t.deps===null&&t.effects===null){var o=t,i=o.parent;i!==null&&(i.f&I)===0&&(o.f^=I)}return n&&(o=t,bt(o)&&Ke(o)),ht&&ct.has(t)?ct.get(t):t.v}function mn(t){var e=H;try{return H=!0,t()}finally{H=e}}const wr=-7169;function q(t,e){t.f=t.f&wr|e}function h(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(it in t)Ce(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&it in n&&Ce(n)}}}function Ce(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{Ce(t[r],e)}catch{}const n=fe(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Le(n);for(let o in r){const i=r[o].get;if(i)try{i.call(t)}catch{}}}}}function Cr(t){var e=b,n=T;z(null),Q(null);try{return t()}finally{z(e),Q(n)}}const Pr=new Set,bn=new Set;function Er(t,e,n,r={}){function o(i){if(r.capture||xt.call(e,i),!i.cancelBubble)return Cr(()=>n==null?void 0:n.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?vr(()=>{e.addEventListener(t,o,r)}):e.addEventListener(t,o,r),o}function xn(t,e,n,r,o){var i={capture:r,passive:o},d=Er(t,e,n,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&tn(()=>{e.removeEventListener(t,d,i)})}function xt(t){var S;var e=this,n=e.ownerDocument,r=t.type,o=((S=t.composedPath)==null?void 0:S.call(t))||[],i=o[0]||t.target,d=0,l=t.__root;if(l){var a=o.indexOf(l);if(a!==-1&&(e===document||e===window)){t.__root=e;return}var f=o.indexOf(e);if(f===-1)return;a<=f&&(d=a)}if(i=o[d]||t.target,i!==e){Un(t,"currentTarget",{configurable:!0,get(){return i||n}});var v=b,s=T;z(null),Q(null);try{for(var c,_=[];i!==null;){var m=i.assignedSlot||i.parentNode||i.host||null;try{var y=i["__"+r];if(y!=null&&(!i.disabled||t.target===i))if(Ie(y)){var[D,...N]=y;D.apply(i,[t,...N])}else y.call(i,t)}catch(x){c?_.push(x):c=x}if(t.cancelBubble||m===e||m===null)break;i=m}if(c){for(let x of _)queueMicrotask(()=>{throw x});throw c}}finally{t.__root=e,delete t.currentTarget,z(v),Q(s)}}}function kr(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Bn(t,e){var n=T;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function Bt(t,e){var n=(e&Wn)!==0,r=(e&On)!==0,o,i=!t.startsWith("<!>");return()=>{o===void 0&&(o=kr(i?t:"<!>"+t),n||(o=$t(o)));var d=r||Je?document.importNode(o,!0):o.cloneNode(!0);if(n){var l=$t(d),a=d.lastChild;Bn(l,a)}else Bn(d,d);return d}}function Tt(t,e){t!==null&&t.before(e)}const Sr=["touchstart","touchmove"];function Ar(t){return Sr.includes(t)}function Pe(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function Mr(t,e){return Nr(t,e)}const at=new Map;function Nr(t,{target:e,anchor:n,props:r={},events:o,context:i,intro:d=!0}){or();var l=new Set,a=s=>{for(var c=0;c<s.length;c++){var _=s[c];if(!l.has(_)){l.add(_);var m=Ar(_);e.addEventListener(_,xt,{passive:m});var y=at.get(_);y===void 0?(document.addEventListener(_,xt,{passive:m}),at.set(_,1)):at.set(_,y+1)}}};a(zn(Pr)),bn.add(a);var f=void 0,v=ar(()=>{var s=n??e.appendChild(ir());return Be(()=>{if(i){je({});var c=P;c.c=i}o&&(r.$$events=o),f=t(s,r)||{},i&&Ve()}),()=>{var m;for(var c of l){e.removeEventListener(c,xt);var _=at.get(c);--_===0?(document.removeEventListener(c,xt),at.delete(c)):at.set(c,_)}bn.delete(a),s!==n&&((m=s.parentNode)==null||m.removeChild(s))}});return Fr.set(f,v),f}let Fr=new WeakMap;function ie(t,e,[n,r]=[0,0]){var o=t,i=null,d=null,l=M,a=n>0?pe:0,f=!1;const v=(c,_=!0)=>{f=!0,s(_,c)},s=(c,_)=>{l!==(l=c)&&(l?(i?an(i):_&&(i=Be(()=>_(o))),d&&Te(d,()=>{d=null})):(d?an(d):_&&(d=Be(()=>_(o,[n+1,r]))),i&&Te(i,()=>{i=null})))};nn(()=>{f=!1,e(v),f||s(null,null)},a)}function Rr(t,e,n){var r=t==null?"":""+t;return r=r?r+" "+e:e,r===""?null:r}function Ir(t,e){return t==null?null:String(t)}function Lr(t,e,n,r,o,i){var d=t.__className;if(d!==n||d===void 0){var l=Rr(n,r);l==null?t.removeAttribute("class"):t.className=l,t.__className=n}return i}function st(t,e,n,r){var o=t.__style;if(o!==e){var i=Ir(e);i==null?t.removeAttribute("style"):t.style.cssText=i,t.__style=e}return r}const Dr=Symbol("is custom element"),Wr=Symbol("is html");function Or(t,e,n,r){var o=qr(t);o[e]!==(o[e]=n)&&(n==null?t.removeAttribute(e):typeof n!="string"&&Hr(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function qr(t){return t.__attributes??(t.__attributes={[Dr]:t.nodeName.includes("-"),[Wr]:t.namespaceURI===qn})}var Tn=new Map;function Hr(t){var e=Tn.get(t.nodeName);if(e)return e;Tn.set(t.nodeName,e=[]);for(var n,r=t,o=Element.prototype;o!==r;){n=Le(r);for(var i in n)n[i].set&&e.push(i);r=fe(r)}return e}let ue=!1;function zr(t){var e=ue;try{return ue=!1,[t(),ue]}finally{ue=e}}function yn(t){var e;return((e=t.ctx)==null?void 0:e.d)??!1}function p(t,e,n,r){var J;var o=!dt||(n&Ln)!==0,i=(n&Dn)!==0,d=!1,l;[l,d]=zr(()=>t[e]);var a=it in t||Kn in t,f=(((J=nt(t,e))==null?void 0:J.set)??(a&&e in t&&(B=>t[e]=B)))||void 0,v=r,s=!0,c=!1,_=()=>(c=!0,s&&(s=!1,v=r),v);l===void 0&&r!==void 0&&(f&&o&&Jn(),l=_(),f&&f(l));var m;if(o)m=()=>{var B=t[e];return B===void 0?_():(s=!0,c=!1,B)};else{var y=er(()=>t[e]);y.f|=Gn,m=()=>{var B=w(y);return B!==void 0&&(v=void 0),B===void 0?v:B}}if(f){var D=t.$$legacy;return function(B,W){return arguments.length>0?((!o||!W||D||d)&&f(W?m():B),B):m()}}var N=!1,S=K(l),x=me(()=>{var B=m(),W=w(S);return N?(N=!1,W):S.v=B});return w(x),x.equals=_e,function(B,W){if(arguments.length>0){const j=W?w(x):o&&i?ut(B):B;if(!x.equals(j)){if(N=!0,E(S,j),c&&v!==void 0&&(v=j),yn(x))return B;mn(()=>w(x))}return B}return yn(x)?x.v:w(x)}}var Ur=Bt('<div class="dim-bg svelte-1ncgpv8"></div>'),jr=Bt('<img class="banner-image svelte-1ncgpv8" alt="バナー画像"/>'),Vr=Bt('<button class="banner-btn svelte-1ncgpv8"> </button>'),Gr=Bt('<div class="under-btn-text svelte-1ncgpv8"> </div>'),Yr=Bt('<!> <div><button class="close-btn svelte-1ncgpv8">×</button> <!> <div class="banner-text svelte-1ncgpv8"> </div> <!> <!></div>',1);function Kr(t,e){je(e,!1);const n=K(),r=K(),o=K(),i=K(),d=K(),l=K(),a=K();let f=p(e,"popupId",12,"sample"),v=p(e,"popupName",12,"サンプルバナー"),s=p(e,"popupPosition",12,"center"),c=p(e,"popupWidth",12,""),_=p(e,"popupBackgroundColor",12,""),m=p(e,"popupPadding",12,""),y=p(e,"popupMargin",12,""),D=p(e,"dimBackground",12,!0),N=p(e,"closeButtonColor",12,""),S=p(e,"closeButtonBackgroundColor",12,""),x=p(e,"closeButtonTop",12,""),J=p(e,"closeButtonRight",12,""),B=p(e,"imageUrl",12,null),W=p(e,"imagePadding",12,""),j=p(e,"imageMargin",12,""),wt=p(e,"imageBorderRadius",12,""),Ee=p(e,"text",12,""),Ct=p(e,"middleTextAlign",12,""),Pt=p(e,"middleTextLineHeight",12,""),Et=p(e,"middleTextColor",12,""),kt=p(e,"middleTextFontSize",12,""),St=p(e,"middleTextFontWeight",12,""),At=p(e,"middleTextPadding",12,""),Mt=p(e,"middleTextMargin",12,""),ae=p(e,"buttonText",12,""),Nt=p(e,"buttonAlign",12,""),Ft=p(e,"buttonColor",12,""),Rt=p(e,"buttonTextColor",12,""),It=p(e,"buttonFontSize",12,""),Lt=p(e,"buttonFontWeight",12,""),Dt=p(e,"buttonPadding",12,""),Wt=p(e,"buttonMargin",12,""),Ot=p(e,"buttonBorderRadius",12,""),qt=p(e,"buttonBorderStyle",12,""),Ht=p(e,"buttonBorderWidth",12,""),zt=p(e,"buttonBorderColor",12,""),se=p(e,"underBtnText",12,""),Ut=p(e,"underBtnTextAlign",12,""),jt=p(e,"underBtnTextLineHeight",12,""),Vt=p(e,"underBtnTextColor",12,""),Gt=p(e,"underBtnTextFontSize",12,""),Yt=p(e,"underBtnTextFontWeight",12,""),Kt=p(e,"underBtnTextPadding",12,""),Qt=p(e,"underBtnTextMargin",12,""),ke=p(e,"onButtonClick",12,()=>{}),Se=p(e,"onClose",12,()=>{});$(()=>(h(_()),h(c()),h(m()),h(y())),()=>{E(n,`
    ${_()?`background:${_()};`:""}
    ${c()?`max-width:${c()};`:""}
    ${m()?`padding:${m()};`:""}
    ${y()?`margin:${y()};`:""}
  `)}),$(()=>h(s()),()=>{E(r,s()==="bottom"?"position-bottom":s()==="top"?"position-top":s()==="center"?"position-center":s()==="middle-left"?"position-middle-left":s()==="middle-right"?"position-middle-right":s()==="bottom-left"?"position-bottom-left":s()==="bottom-right"?"position-bottom-right":"")}),$(()=>(h(N()),h(S()),h(x()),h(J())),()=>{E(o,`
    ${N()?`color:${N()};`:""}
    ${S()?`background:${S()};`:""}
    ${x()?`top:${x()};`:""}
    ${J()?`right:${J()};`:""}
  `)}),$(()=>(h(W()),h(j()),h(wt())),()=>{E(i,`
    ${W()?`padding:${W()};`:""}
    ${j()?`margin:${j()};`:""}
    ${wt()?`border-radius:${wt()};`:""}
  `)}),$(()=>(h(Et()),h(Ct()),h(Pt()),h(kt()),h(St()),h(At()),h(Mt())),()=>{E(d,`
    ${Et()?`color:${Et()};`:""}
    ${Ct()?`text-align:${Ct()};`:""}
    ${Pt()?`line-height:${Pt()};`:""}
    ${kt()?`font-size:${kt()};`:""}
    ${St()?`font-weight:${St()};`:""}
    ${At()?`padding:${At()};`:""}
    ${Mt()?`margin:${Mt()};`:""}
  `)}),$(()=>(h(Ft()),h(Rt()),h(It()),h(Lt()),h(Dt()),h(Wt()),h(Ot()),h(qt()),h(Ht()),h(zt()),h(Nt())),()=>{E(l,`
    ${Ft()?`background:${Ft()};`:""}
    ${Rt()?`color:${Rt()};`:""}
    ${It()?`font-size:${It()};`:""}
    ${Lt()?`font-weight:${Lt()};`:""}
    ${Dt()?`padding:${Dt()};`:""}
    ${Wt()?`margin:${Wt()};`:""}
    ${Ot()?`border-radius:${Ot()};`:""}
    ${qt()?`border-style:${qt()};`:""}
    ${Ht()?`border-width:${Ht()};`:""}
    ${zt()?`border-color:${zt()};`:""}
    ${Nt()?`display:block;margin-left:auto;margin-right:auto;text-align:${Nt()};`:""}
  `)}),$(()=>(h(Vt()),h(Ut()),h(jt()),h(Gt()),h(Yt()),h(Kt()),h(Qt())),()=>{E(a,`
    ${Vt()?`color:${Vt()};`:""}
    ${Ut()?`text-align:${Ut()};`:""}
    ${jt()?`line-height:${jt()};`:""}
    ${Gt()?`font-size:${Gt()};`:""}
    ${Yt()?`font-weight:${Yt()};`:""}
    ${Kt()?`padding:${Kt()};`:""}
    ${Qt()?`margin:${Qt()};`:""}
  `)}),fr();var Sn=Yr(),An=ur(Sn);{var uo=u=>{var k=Ur();Tt(u,k)};ie(An,u=>{D()&&u(uo)})}var Ae=gt(An,2),Me=te(Ae),Mn=gt(Me,2);{var lo=u=>{var k=jr();ee(()=>{Or(k,"src",B()),st(k,w(i))}),Tt(u,k)};ie(Mn,u=>{B()&&u(lo)})}var Ne=gt(Mn,2),ao=te(Ne),Nn=gt(Ne,2);{var so=u=>{var k=Vr(),Fe=te(k);ee(()=>{st(k,w(l)),Pe(Fe,ae())}),xn("click",k,function(...go){var Fn;(Fn=ke())==null||Fn.apply(this,go)}),Tt(u,k)};ie(Nn,u=>{ae()&&u(so)})}var fo=gt(Nn,2);{var co=u=>{var k=Gr(),Fe=te(k);ee(()=>{st(k,w(a)),Pe(Fe,se())}),Tt(u,k)};ie(fo,u=>{se()&&u(co)})}return ee(()=>{Lr(Ae,1,`popup-banner ${w(r)??""}`,"svelte-1ncgpv8"),st(Ae,w(n)),st(Me,w(o)),st(Ne,w(d)),Pe(ao,Ee())}),xn("click",Me,function(...u){var k;(k=Se())==null||k.apply(this,u)}),Tt(t,Sn),Ve({get popupId(){return f()},set popupId(u){f(u),g()},get popupName(){return v()},set popupName(u){v(u),g()},get popupPosition(){return s()},set popupPosition(u){s(u),g()},get popupWidth(){return c()},set popupWidth(u){c(u),g()},get popupBackgroundColor(){return _()},set popupBackgroundColor(u){_(u),g()},get popupPadding(){return m()},set popupPadding(u){m(u),g()},get popupMargin(){return y()},set popupMargin(u){y(u),g()},get dimBackground(){return D()},set dimBackground(u){D(u),g()},get closeButtonColor(){return N()},set closeButtonColor(u){N(u),g()},get closeButtonBackgroundColor(){return S()},set closeButtonBackgroundColor(u){S(u),g()},get closeButtonTop(){return x()},set closeButtonTop(u){x(u),g()},get closeButtonRight(){return J()},set closeButtonRight(u){J(u),g()},get imageUrl(){return B()},set imageUrl(u){B(u),g()},get imagePadding(){return W()},set imagePadding(u){W(u),g()},get imageMargin(){return j()},set imageMargin(u){j(u),g()},get imageBorderRadius(){return wt()},set imageBorderRadius(u){wt(u),g()},get text(){return Ee()},set text(u){Ee(u),g()},get middleTextAlign(){return Ct()},set middleTextAlign(u){Ct(u),g()},get middleTextLineHeight(){return Pt()},set middleTextLineHeight(u){Pt(u),g()},get middleTextColor(){return Et()},set middleTextColor(u){Et(u),g()},get middleTextFontSize(){return kt()},set middleTextFontSize(u){kt(u),g()},get middleTextFontWeight(){return St()},set middleTextFontWeight(u){St(u),g()},get middleTextPadding(){return At()},set middleTextPadding(u){At(u),g()},get middleTextMargin(){return Mt()},set middleTextMargin(u){Mt(u),g()},get buttonText(){return ae()},set buttonText(u){ae(u),g()},get buttonAlign(){return Nt()},set buttonAlign(u){Nt(u),g()},get buttonColor(){return Ft()},set buttonColor(u){Ft(u),g()},get buttonTextColor(){return Rt()},set buttonTextColor(u){Rt(u),g()},get buttonFontSize(){return It()},set buttonFontSize(u){It(u),g()},get buttonFontWeight(){return Lt()},set buttonFontWeight(u){Lt(u),g()},get buttonPadding(){return Dt()},set buttonPadding(u){Dt(u),g()},get buttonMargin(){return Wt()},set buttonMargin(u){Wt(u),g()},get buttonBorderRadius(){return Ot()},set buttonBorderRadius(u){Ot(u),g()},get buttonBorderStyle(){return qt()},set buttonBorderStyle(u){qt(u),g()},get buttonBorderWidth(){return Ht()},set buttonBorderWidth(u){Ht(u),g()},get buttonBorderColor(){return zt()},set buttonBorderColor(u){zt(u),g()},get underBtnText(){return se()},set underBtnText(u){se(u),g()},get underBtnTextAlign(){return Ut()},set underBtnTextAlign(u){Ut(u),g()},get underBtnTextLineHeight(){return jt()},set underBtnTextLineHeight(u){jt(u),g()},get underBtnTextColor(){return Vt()},set underBtnTextColor(u){Vt(u),g()},get underBtnTextFontSize(){return Gt()},set underBtnTextFontSize(u){Gt(u),g()},get underBtnTextFontWeight(){return Yt()},set underBtnTextFontWeight(u){Yt(u),g()},get underBtnTextPadding(){return Kt()},set underBtnTextPadding(u){Kt(u),g()},get underBtnTextMargin(){return Qt()},set underBtnTextMargin(u){Qt(u),g()},get onButtonClick(){return ke()},set onButtonClick(u){ke(u),g()},get onClose(){return Se()},set onClose(u){Se(u),g()}})}function Qr(t){if(!t||!Array.isArray(t.selectors))return!1;const e=t.logic||"AND",n=t.selectors.map(r=>{const o=document.querySelector(r.selector);if(r.exists!==void 0&&(r.exists&&!o||!r.exists&&o)||r.notExists!==void 0&&(r.notExists&&o||!r.notExists&&!o))return!1;if(r.textMatches&&o){const i=o.textContent||"";if(typeof r.textMatches=="string"){if(!i.includes(r.textMatches))return!1}else if(r.textMatches instanceof RegExp&&!r.textMatches.test(i))return!1}if(r.attributeMatches&&o){const i=o.getAttribute(r.attributeMatches.attr)||"";if(r.attributeMatches.value&&i!==r.attributeMatches.value||r.attributeMatches.regex&&!r.attributeMatches.regex.test(i))return!1}return!0});return e==="AND"?n.every(Boolean):n.some(Boolean)}function Zr(t,e){if(!Array.isArray(t)||t.length===0)return!1;const n=t.reduce((r,o)=>r+o.price*o.quantity,0);switch(e.operator){case"eq":return n===e.value;case"gt":return n>e.value;case"gte":return n>=e.value;case"lt":return n<e.value;case"lte":return n<=e.value;default:return!1}}function Jr(){window.dataLayer||(window.dataLayer=[])}function wn(t){Jr(),window.dataLayer.push(t),console.log("GA4 event sent",t)}function Xr(t){wn({event:"view_promotion",...t})}function $r(t){wn({event:"select_promotion",...t})}function to(t,e="popupBannerAbTestGroupIndex"){var i,d;let n=[];const r=localStorage.getItem(e);r&&(n=r.split(",").map(l=>l.trim()).filter(Boolean));let o=n.find(l=>t.some(a=>(a==null?void 0:a.popupId)===l));if(!o){const l=Math.floor(Math.random()*t.length);if(o=(i=t[l])==null?void 0:i.popupId,o){n.push(o);const a=Array.from(new Set(n));localStorage.setItem(e,a.join(","))}}return o||((d=t[0])==null?void 0:d.popupId)}(function(t){const e=function(...n){(e.q=e.q||[]).push(n)};t.PopupBanner=t.PopupBanner||e})(typeof window<"u"?window:globalThis);function eo(t,e,n){let r=`${t}=${encodeURIComponent(e)}; path=/;`;typeof n=="number"&&n>=0&&(r+=` max-age=${n};`),console.log("[PopupBanner][setCookie] set cookie:",r),document.cookie=r}function no(t){const e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([.$?*|{}()\[\]\\\/\+^])/g,"$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):null}function ro(t){try{if(t.triggerCondition){const e=Qr(t.triggerCondition);if(console.log("[PopupBanner] triggerCondition 判定:",e,t.triggerCondition),!e)return!1}if(t.amountCondition&&t.cartItems){const e=t.cartItems,n=Zr(e,t.amountCondition);if(console.log("[PopupBanner] amountCondition 判定:",n,{items:e,amountCondition:t.amountCondition}),!n)return!1}if(t.shouldSetCookie&&t.popupCookieName){const e=no(t.popupCookieName)==="closed";if(console.log("[PopupBanner] 再表示制御 判定:",!e,"cookieName=",t.popupCookieName,"closed=",e),e)return!1}return console.log("[PopupBanner] shouldShowBanner: 全ての条件を通過しました",t),!0}catch(e){return console.error("shouldShowBanner error",e),!1}}function oo(t){if(t.shouldSetCookie&&t.popupCookieName){let e,n=t.bannerNonDisplaySpanHours;if(typeof n=="string"&&(n=Number(n)),n===0){console.log("[PopupBanner][setBannerClosed] bannerNonDisplaySpanHours is 0, not setting cookie.");return}typeof n=="number"&&!isNaN(n)&&(console.log("[PopupBanner][setBannerClosed] a"),e=Math.floor(n*3600)),console.log("[PopupBanner][setBannerClosed] bannerNonDisplaySpanHours:",t.bannerNonDisplaySpanHours,"maxAge:",e),eo(t.popupCookieName,"closed",e)}}let Cn=[],le=!1;const Pn={show(t){if(Array.isArray(t)){if(t.length===0)return;const e=to(t),n=t.find(r=>(r==null?void 0:r.popupId)===e)||t[0];n&&this.show(n);return}Cn.push(t),yt()},noConflict(){if(typeof window<"u"){const t=window,e=t.PopupBanner;return t.PopupBanner=void 0,e}}};function yt(){if(le)return;const t=Cn.shift();if(t){if(!t.popupId||!t.popupName){console.error("[PopupBanner] popupIdとpopupNameは必須です",t),yt();return}!t.popupCookieName&&t.popupId&&(t.popupCookieName="popupBanner_"+t.popupId);try{if(!ro(t)){console.log("[PopupBanner] 表示条件を満たさないためバナーを表示しません",t),yt();return}le=!0;const e=document.createElement("div");document.body.appendChild(e);const n=Mr(Kr,{target:e,props:{popupId:t.popupId,popupName:t.popupName,popupPosition:t.popupPosition,popupWidth:t.popupWidth,popupBackgroundColor:t.popupBackgroundColor,popupPadding:t.popupPadding,popupMargin:t.popupMargin,dimBackground:t.dimBackground,closeButtonColor:t.closeButtonColor,closeButtonBackgroundColor:t.closeButtonBackgroundColor,closeButtonTop:t.closeButtonTop,closeButtonRight:t.closeButtonRight,imageUrl:t.imageUrl,imagePadding:t.imagePadding,imageMargin:t.imageMargin,imageBorderRadius:t.imageBorderRadius,text:t.text,middleTextAlign:t.middleTextAlign,middleTextLineHeight:t.middleTextLineHeight,middleTextColor:t.middleTextColor,middleTextFontSize:t.middleTextFontSize,middleTextFontWeight:t.middleTextFontWeight,middleTextPadding:t.middleTextPadding,middleTextMargin:t.middleTextMargin,buttonText:t.buttonText,buttonAlign:t.buttonAlign,buttonColor:t.buttonColor,buttonTextColor:t.buttonTextColor,buttonFontSize:t.buttonFontSize,buttonFontWeight:t.buttonFontWeight,buttonPadding:t.buttonPadding,buttonMargin:t.buttonMargin,buttonBorderRadius:t.buttonBorderRadius,buttonBorderStyle:t.buttonBorderStyle,buttonBorderWidth:t.buttonBorderWidth,buttonBorderColor:t.buttonBorderColor,underBtnText:t.underBtnText,underBtnTextAlign:t.underBtnTextAlign,underBtnTextLineHeight:t.underBtnTextLineHeight,underBtnTextColor:t.underBtnTextColor,underBtnTextFontSize:t.underBtnTextFontSize,underBtnTextFontWeight:t.underBtnTextFontWeight,underBtnTextPadding:t.underBtnTextPadding,underBtnTextMargin:t.underBtnTextMargin,onButtonClick:()=>{console.log("[PopupBanner] ボタンがクリックされました",t),t.onButtonClick&&t.onButtonClick(),$r(t.ga4||{})},onClose:()=>{console.log("[PopupBanner] バナーを閉じました",t),oo(t),n&&typeof n.destroy=="function"&&n.destroy(),e.remove(),le=!1,yt(),t.onClose&&t.onClose()}}});console.log("[PopupBanner] バナーを表示しました",t),Xr(t.ga4||{})}catch(e){console.error("PopupBanner.show error",e),le=!1,yt()}}}(function(t){var r;const e=Pn,n=(r=t.PopupBanner)==null?void 0:r.q;t.PopupBanner=e,n&&n.forEach(o=>{const i=o[0];typeof e[i]=="function"&&e[i](...o.slice(1))})})(typeof window<"u"?window:globalThis);function En(t){console.log("show options:",t),Pn.show(t)}const io={show:En};X.default=io,X.show=En,Object.defineProperties(X,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
