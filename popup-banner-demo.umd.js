(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".popup-container.svelte-filn8i{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;pointer-events:none;z-index:10000;padding:40px;box-sizing:border-box}.popup-container.position-center.svelte-filn8i{justify-content:center;align-items:center}.popup-container.position-top.svelte-filn8i{justify-content:center;align-items:flex-start}.popup-container.position-top-left.svelte-filn8i{justify-content:flex-start;align-items:flex-start}.popup-container.position-top-right.svelte-filn8i{justify-content:flex-end;align-items:flex-start}.popup-container.position-bottom.svelte-filn8i{justify-content:center;align-items:flex-end}.popup-container.position-middle-left.svelte-filn8i{justify-content:flex-start;align-items:center}.popup-container.position-middle-right.svelte-filn8i{justify-content:flex-end;align-items:center}.popup-container.position-bottom-left.svelte-filn8i{justify-content:flex-start;align-items:flex-end}.popup-container.position-bottom-right.svelte-filn8i{justify-content:flex-end;align-items:flex-end}.popup-container.svelte-filn8i:not([class*=position-]){justify-content:center;align-items:flex-start}.popup-banner.svelte-filn8i{border-radius:8px;box-shadow:0 2px 8px #00000026;padding:40px 0 20px;max-width:400px;width:90%;box-sizing:border-box;background:#fff;pointer-events:auto;position:relative;overflow:hidden}@media (max-width: 600px){.popup-container.svelte-filn8i{padding:8px}.popup-banner.svelte-filn8i{max-width:100%;width:100%;padding:8px}}.close-btn.svelte-filn8i{position:absolute;top:8px;right:8px;background:transparent;border:none;font-size:20px;cursor:pointer}.banner-image.svelte-filn8i{display:block;max-width:100%;margin:0 auto}.banner-image.clickable.svelte-filn8i{cursor:pointer}.banner-image.clickable.svelte-filn8i:hover{opacity:.8;transition:opacity .2s ease}.banner-text.svelte-filn8i{margin:16px;font-size:1.1em;text-align:center}.banner-btn.svelte-filn8i{display:block;margin:0 auto;padding:8px 24px;font-size:1em;border-radius:4px;border:none;background:#0070f3;color:#fff;cursor:pointer}.banner-btn.clickable.svelte-filn8i:hover{opacity:.8;transition:opacity .2s ease}.under-btn-text.svelte-filn8i{margin:8px 16px;font-size:.9em;text-align:center}.dim-bg.svelte-filn8i{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:9999}.popup-banner.svelte-filn8i{--animation-duration: .3s;--animation-easing: ease-out}.popup-banner.animate-fade-in-up.svelte-filn8i{animation:svelte-filn8i-fadeInUp var(--animation-duration) var(--animation-easing) forwards}.popup-banner.animate-fade-in-down.svelte-filn8i{animation:svelte-filn8i-fadeInDown var(--animation-duration) var(--animation-easing) forwards}.popup-banner.animate-fade-in.svelte-filn8i{animation:svelte-filn8i-fadeIn var(--animation-duration) var(--animation-easing) forwards}.popup-banner.animate-scale-in.svelte-filn8i{animation:svelte-filn8i-scaleIn var(--animation-duration) var(--animation-easing) forwards}@keyframes svelte-filn8i-fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes svelte-filn8i-fadeInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes svelte-filn8i-fadeIn{0%{opacity:0}to{opacity:1}}@keyframes svelte-filn8i-scaleIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.banner-test-list.svelte-x5xgas{list-style:none;padding:0;margin:0;display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.banner-test-list.svelte-x5xgas>li:where(.svelte-x5xgas){margin-bottom:16px;padding:16px;background:#fafbfc;border:1px solid #ddd;border-radius:12px;box-shadow:0 2px 8px #0000000a}.banner-test-list.svelte-x5xgas>li:where(.svelte-x5xgas) p:where(.svelte-x5xgas){margin-top:8px;font-size:.9em;color:#666}.banner-test-code.svelte-x5xgas{margin-top:8px;font-size:.9em;color:#666;background:#ebe9e9;border-radius:12px;overflow-x:auto;padding:0 0 15px 20px}.banner-form.svelte-x5xgas{margin-bottom:32px;max-width:700px;padding:24px 16px;background:#fafbfc;border:1px solid #ddd;border-radius:12px;box-shadow:0 2px 8px #0000000a}.banner-form-grid.svelte-x5xgas{display:grid;grid-template-columns:200px 1fr;row-gap:14px;column-gap:12px}.banner-form-label.svelte-x5xgas{color:#222;font-size:.98em}.banner-form-input.svelte-x5xgas,.banner-form-input-wide.svelte-x5xgas{width:calc(100% - 20px);padding:4px 8px;font-size:1em;border:1px solid #ccc;border-radius:4px;background:#fff}.banner-form-input-color.svelte-x5xgas{width:120px;margin-bottom:4px;margin-top:4px;padding:4px 8px;font-size:1em;border:1px solid #ccc;border-radius:4px;background:#fff}.banner-form-checkbox.svelte-x5xgas{transform:scale(1.2);margin-right:6px}.banner-form-card.svelte-x5xgas{background:#fff;border:1px solid #e0e0e0;border-radius:8px;padding:10px 8px;overflow-x:auto}.banner-form-submit.svelte-x5xgas{padding:8px 32px;font-size:1.1em;border-radius:6px;background:#1976d2;color:#fff;border:none;cursor:pointer;margin-top:16px}.banner-form-example.svelte-x5xgas{margin-top:8px;padding:12px;background:#f8f9fa;border-radius:6px;border:1px solid #e9ecef}.banner-form-example.svelte-x5xgas p:where(.svelte-x5xgas){margin:0 0 6px;font-size:.9em;color:#495057}.banner-form-example-code.svelte-x5xgas{margin:0 0 12px;padding:8px;background:#fff;border:1px solid #dee2e6;border-radius:4px;font-size:.85em;color:#212529;overflow-x:auto;white-space:pre}.banner-form-note.svelte-x5xgas{margin:8px 0 0!important;padding:6px 8px;background:#e3f2fd;border-radius:4px;font-size:.8em;color:#1565c0;border-left:3px solid #2196f3}.banner-form-code-btn.svelte-x5xgas{margin-left:12px;padding:8px 24px;font-size:1em;border-radius:6px;background:#4caf50;color:#fff;border:none;cursor:pointer}.banner-form-code-btn.svelte-x5xgas:hover{background:#45a049}.banner-form-import-btn.svelte-x5xgas{margin-left:12px;padding:8px 24px;font-size:1em;border-radius:6px;background:#ff9800;color:#fff;border:none;cursor:pointer}.banner-form-import-btn.svelte-x5xgas:hover{background:#f57c00}.code-generator.svelte-x5xgas{margin-top:24px;padding:20px;background:#f8f9fa;border:1px solid #dee2e6;border-radius:8px;box-shadow:0 2px 8px #00000014}.code-generator-header.svelte-x5xgas{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.code-generator-header.svelte-x5xgas h3:where(.svelte-x5xgas){margin:0;color:#212529;font-size:1.2em}.copy-button.svelte-x5xgas{padding:6px 12px;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:.9em;display:flex;align-items:center;gap:4px}.copy-button.svelte-x5xgas:hover{background:#0056b3}.generated-code.svelte-x5xgas{background:#fff;border:1px solid #ced4da;border-radius:6px;padding:16px;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:.9em;line-height:1.4;overflow-x:auto;white-space:pre;color:#212529;margin:0}.code-generator-note.svelte-x5xgas{margin:12px 0 0;font-size:.85em;color:#6c757d;font-style:italic}.code-importer.svelte-x5xgas{margin-top:24px;padding:20px;background:#fff3e0;border:1px solid #ffcc02;border-radius:8px;box-shadow:0 2px 8px #00000014}.code-importer-header.svelte-x5xgas{margin-bottom:16px}.code-importer-header.svelte-x5xgas h3:where(.svelte-x5xgas){margin:0;color:#e65100;font-size:1.2em}.code-importer-description.svelte-x5xgas{margin:0 0 12px;font-size:.9em;color:#bf360c;line-height:1.4}.import-code-textarea.svelte-x5xgas{width:100%;padding:12px;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:.9em;line-height:1.4;border:1px solid #ff9800;border-radius:6px;background:#fff;color:#212529;resize:vertical;box-sizing:border-box}.import-code-textarea.svelte-x5xgas::placeholder{color:#9e9e9e;font-size:.85em}.code-importer-actions.svelte-x5xgas{margin-top:12px;display:flex;gap:8px}.load-button.svelte-x5xgas{padding:8px 16px;background:#ff9800;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:.9em;display:flex;align-items:center;gap:4px}.load-button.svelte-x5xgas:hover{background:#f57c00}.clear-button.svelte-x5xgas{padding:8px 16px;background:#6c757d;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:.9em;display:flex;align-items:center;gap:4px}.clear-button.svelte-x5xgas:hover{background:#5a6268}")),document.head.appendChild(e)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();
(function(xn,Me){typeof exports=="object"&&typeof module<"u"?module.exports=Me():typeof define=="function"&&define.amd?define(Me):(xn=typeof globalThis<"u"?globalThis:xn||self,xn.PopupBannerDemo=Me())})(this,function(){"use strict";var Xo;var Me=Array.isArray,Xa=Array.prototype.indexOf,ei=Array.from,ti=Object.defineProperty,Et=Object.getOwnPropertyDescriptor,jr=Object.getOwnPropertyDescriptors,ni=Object.prototype,ri=Array.prototype,Gn=Object.getPrototypeOf,zr=Object.isExtensible;function oi(e){return e()}function _n(e){for(var t=0;t<e.length;t++)e[t]()}const oe=2,$r=4,bn=8,Kn=16,we=32,It=64,Yn=128,ee=256,hn=512,te=1024,Ne=2048,Fe=4096,Mt=8192,Jn=16384,Vr=32768,Qn=65536,Gr=1<<17,ai=1<<19,Kr=1<<20,Zn=1<<21,Ae=Symbol("$state"),ii=Symbol("legacy props"),li=Symbol("");function Yr(e){return e===this.v}function si(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Xn(e){return!si(e,this.v)}function ui(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function di(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function pi(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ci(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function fi(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function gi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function mi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function vi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Nt=!1,Zs=!1;function xi(){Nt=!0}const _i=2,bi=8,hi=1,Ti=2,Q=Symbol(),Bi="http://www.w3.org/1999/xhtml";function Jr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let E=null;function Qr(e){E=e}function er(e,t=!1,r){var n=E={p:E,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Nt&&!t&&(E.l={s:null,u:null,r1:[],r2:rr(!1)}),uo(()=>{n.d=!0})}function tr(e){const t=E;if(t!==null){e!==void 0&&(t.x=e);const p=t.e;if(p!==null){var r=P,n=S;t.e=null;try{for(var i=0;i<p.length;i++){var l=p[i];be(l.effect),ie(l.reaction),en(l.fn)}}finally{be(r),ie(n)}}E=t.p,t.m=!0}return e||{}}function Zt(){return!Nt||E!==null&&E.l===null}function Ft(e){if(typeof e!="object"||e===null||Ae in e)return e;const t=Gn(e);if(t!==ni&&t!==ri)return e;var r=new Map,n=Me(e),i=Re(0),l=S,p=c=>{var g=S;ie(l);var m=c();return ie(g),m};return n&&r.set("length",Re(e.length)),new Proxy(e,{defineProperty(c,g,m){(!("value"in m)||m.configurable===!1||m.enumerable===!1||m.writable===!1)&&gi();var C=r.get(g);return C===void 0?C=p(()=>{var _=Re(m.value);return r.set(g,_),_}):y(C,m.value,!0),!0},deleteProperty(c,g){var m=r.get(g);if(m===void 0){if(g in c){const v=p(()=>Re(Q));r.set(g,v),nr(i)}}else{if(n&&typeof g=="string"){var C=r.get("length"),_=Number(g);Number.isInteger(_)&&_<C.v&&y(C,_)}y(m,Q),nr(i)}return!0},get(c,g,m){var k;if(g===Ae)return e;var C=r.get(g),_=g in c;if(C===void 0&&(!_||(k=Et(c,g))!=null&&k.writable)&&(C=p(()=>{var A=Ft(_?c[g]:Q),R=Re(A);return R}),r.set(g,C)),C!==void 0){var v=a(C);return v===Q?void 0:v}return Reflect.get(c,g,m)},getOwnPropertyDescriptor(c,g){var m=Reflect.getOwnPropertyDescriptor(c,g);if(m&&"value"in m){var C=r.get(g);C&&(m.value=a(C))}else if(m===void 0){var _=r.get(g),v=_==null?void 0:_.v;if(_!==void 0&&v!==Q)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return m},has(c,g){var v;if(g===Ae)return!0;var m=r.get(g),C=m!==void 0&&m.v!==Q||Reflect.has(c,g);if(m!==void 0||P!==null&&(!C||(v=Et(c,g))!=null&&v.writable)){m===void 0&&(m=p(()=>{var k=C?Ft(c[g]):Q,A=Re(k);return A}),r.set(g,m));var _=a(m);if(_===Q)return!1}return C},set(c,g,m,C){var U;var _=r.get(g),v=g in c;if(n&&g==="length")for(var k=m;k<_.v;k+=1){var A=r.get(k+"");A!==void 0?y(A,Q):k in c&&(A=p(()=>Re(Q)),r.set(k+"",A))}if(_===void 0)(!v||(U=Et(c,g))!=null&&U.writable)&&(_=p(()=>Re(void 0)),y(_,Ft(m)),r.set(g,_));else{v=_.v!==Q;var R=p(()=>Ft(m));y(_,R)}var q=Reflect.getOwnPropertyDescriptor(c,g);if(q!=null&&q.set&&q.set.call(C,m),!v){if(n&&typeof g=="string"){var H=r.get("length"),N=Number(g);Number.isInteger(N)&&N>=H.v&&y(H,N+1)}nr(i)}return!0},ownKeys(c){a(i);var g=Reflect.ownKeys(c).filter(_=>{var v=r.get(_);return v===void 0||v.v!==Q});for(var[m,C]of r)C.v!==Q&&!(m in c)&&g.push(m);return g},setPrototypeOf(){mi()}})}function nr(e,t=1){y(e,e.v+t)}function Zr(e){try{if(e!==null&&typeof e=="object"&&Ae in e)return e[Ae]}catch{}return e}function Ci(e,t){return Object.is(Zr(e),Zr(t))}function Tn(e){var t=oe|Ne,r=S!==null&&(S.f&oe)!==0?S:null;return P===null||r!==null&&(r.f&ee)!==0?t|=ee:P.f|=Kr,{ctx:E,deps:null,effects:null,equals:Yr,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??P}}function yi(e){const t=Tn(e);return t.equals=Xn,t}function Xr(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)lt(t[r])}}function ki(e){for(var t=e.parent;t!==null;){if((t.f&oe)===0)return t;t=t.parent}return null}function eo(e){var t,r=P;be(ki(e));try{Xr(e),t=wo(e)}finally{be(r)}return t}function to(e){var t=eo(e);if(e.equals(t)||(e.v=t,e.wv=yo()),!Wt){var r=(De||(e.f&ee)!==0)&&e.deps!==null?Fe:te;de(e,r)}}const Xt=new Map;function rr(e,t){var r={f:0,v:e,reactions:null,equals:Yr,rv:0,wv:0};return r}function Re(e,t){const r=rr(e);return Di(r),r}function O(e,t=!1,r=!0){var i;const n=rr(e);return t||(n.equals=Xn),Nt&&r&&E!==null&&E.l!==null&&((i=E.l).s??(i.s=[])).push(n),n}function x(e,t){return y(e,$(()=>a(e))),t}function y(e,t,r=!1){S!==null&&!_e&&Zt()&&(S.f&(oe|Kn))!==0&&!(z!=null&&z[1].includes(e)&&z[0]===S)&&vi();let n=r?Ft(t):t;return or(e,n)}function or(e,t){if(!e.equals(t)){var r=e.v;Wt?Xt.set(e,t):Xt.set(e,r),e.v=t,(e.f&oe)!==0&&((e.f&Ne)!==0&&eo(e),de(e,(e.f&ee)===0?te:Fe)),e.wv=yo(),no(e,Ne),Zt()&&P!==null&&(P.f&te)!==0&&(P.f&(we|It))===0&&(le===null?Wi([e]):le.push(e))}return t}function no(e,t){var r=e.reactions;if(r!==null)for(var n=Zt(),i=r.length,l=0;l<i;l++){var p=r[l],c=p.f;(c&Ne)===0&&(!n&&p===P||(de(p,t),(c&(te|ee))!==0&&((c&oe)!==0?no(p,Fe):dr(p))))}}function wi(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}var ro,oo,ao,io;function Ai(){if(ro===void 0){ro=window,oo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;ao=Et(t,"firstChild").get,io=Et(t,"nextSibling").get,zr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),zr(r)&&(r.__t=void 0)}}function lo(e=""){return document.createTextNode(e)}function Bn(e){return ao.call(e)}function ar(e){return io.call(e)}function d(e,t){return Bn(e)}function Cn(e,t){{var r=Bn(e);return r instanceof Comment&&r.data===""?ar(r):r}}function u(e,t=1,r=!1){let n=e;for(;t--;)n=ar(n);return n}function so(e){P===null&&S===null&&pi(),S!==null&&(S.f&ee)!==0&&P===null&&di(),Wt&&ui()}function Si(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Rt(e,t,r,n=!0){var i=P,l={ctx:E,deps:null,nodes_start:null,nodes_end:null,f:e|Ne,first:null,fn:t,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(r)try{wn(l),l.f|=Vr}catch(g){throw lt(l),g}else t!==null&&dr(l);var p=r&&l.deps===null&&l.first===null&&l.nodes_start===null&&l.teardown===null&&(l.f&(Kr|Yn))===0;if(!p&&n&&(i!==null&&Si(l,i),S!==null&&(S.f&oe)!==0)){var c=S;(c.effects??(c.effects=[])).push(l)}return l}function uo(e){const t=Rt(bn,null,!1);return de(t,te),t.teardown=e,t}function ir(e){so();var t=P!==null&&(P.f&we)!==0&&E!==null&&!E.m;if(t){var r=E;(r.e??(r.e=[])).push({fn:e,effect:P,reaction:S})}else{var n=en(e);return n}}function Li(e){return so(),Dt(e)}function Pi(e){const t=Rt(It,e,!0);return(r={})=>new Promise(n=>{r.outro?sr(t,()=>{lt(t),n(void 0)}):(lt(t),n(void 0))})}function en(e){return Rt($r,e,!1)}function ae(e,t){var r=E,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=Dt(()=>{e(),!n.ran&&(n.ran=!0,y(r.l.r2,!0),$(t))})}function po(){var e=E;Dt(()=>{if(a(e.l.r2)){for(var t of e.l.r1){var r=t.effect;(r.f&te)!==0&&de(r,Fe),an(r)&&wn(r),t.ran=!1}e.l.r2.v=!1}})}function Dt(e){return Rt(bn,e,!0)}function j(e,t=[],r=Tn){const n=t.map(r);return co(()=>e(...n.map(a)))}function co(e,t=0){return Rt(bn|Kn|t,e,!0)}function lr(e,t=!0){return Rt(bn|we,e,!0,t)}function fo(e){var t=e.teardown;if(t!==null){const r=Wt,n=S;Bo(!0),ie(null);try{t.call(null)}finally{Bo(r),ie(n)}}}function go(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;(r.f&It)!==0?r.parent=null:lt(r,t),r=n}}function Ei(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&we)===0&&lt(t),t=r}}function lt(e,t=!0){var r=!1;(t||(e.f&ai)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Ii(e.nodes_start,e.nodes_end),r=!0),go(e,t&&!r),kn(e,0),de(e,Jn);var n=e.transitions;if(n!==null)for(const l of n)l.stop();fo(e);var i=e.parent;i!==null&&i.first!==null&&mo(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Ii(e,t){for(;e!==null;){var r=e===t?null:ar(e);e.remove(),e=r}}function mo(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function sr(e,t){var r=[];vo(e,r,!0),Mi(r,()=>{lt(e),t&&t()})}function Mi(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var i of e)i.out(n)}else t()}function vo(e,t,r){if((e.f&Mt)===0){if(e.f^=Mt,e.transitions!==null)for(const p of e.transitions)(p.is_global||r)&&t.push(p);for(var n=e.first;n!==null;){var i=n.next,l=(n.f&Qn)!==0||(n.f&we)!==0;vo(n,t,l?r:!1),n=i}}}function xo(e){_o(e,!0)}function _o(e,t){if((e.f&Mt)!==0){e.f^=Mt;for(var r=e.first;r!==null;){var n=r.next,i=(r.f&Qn)!==0||(r.f&we)!==0;_o(r,i?t:!1),r=n}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let tn=[],ur=[];function bo(){var e=tn;tn=[],_n(e)}function Ni(){var e=ur;ur=[],_n(e)}function ho(e){tn.length===0&&queueMicrotask(bo),tn.push(e)}function Fi(){tn.length>0&&bo(),ur.length>0&&Ni()}function Ri(e){var t=P;if((t.f&Vr)===0){if((t.f&Yn)===0)throw e;t.fn(e)}else To(e,t)}function To(e,t){for(;t!==null;){if((t.f&Yn)!==0)try{t.fn(e);return}catch{}t=t.parent}throw e}let nn=!1,rn=null,st=!1,Wt=!1;function Bo(e){Wt=e}let on=[],Xs=[],S=null,_e=!1;function ie(e){S=e}let P=null;function be(e){P=e}let z=null;function Di(e){S!==null&&S.f&Zn&&(z===null?z=[S,[e]]:z[1].push(e))}let J=null,ne=0,le=null;function Wi(e){le=e}let Co=1,yn=0,De=!1,We=null;function yo(){return++Co}function an(e){var _;var t=e.f;if((t&Ne)!==0)return!0;if((t&Fe)!==0){var r=e.deps,n=(t&ee)!==0;if(r!==null){var i,l,p=(t&hn)!==0,c=n&&P!==null&&!De,g=r.length;if(p||c){var m=e,C=m.parent;for(i=0;i<g;i++)l=r[i],(p||!((_=l==null?void 0:l.reactions)!=null&&_.includes(m)))&&(l.reactions??(l.reactions=[])).push(m);p&&(m.f^=hn),c&&C!==null&&(C.f&ee)===0&&(m.f^=ee)}for(i=0;i<g;i++)if(l=r[i],an(l)&&to(l),l.wv>e.wv)return!0}(!n||P!==null&&!De)&&de(e,te)}return!1}function ko(e,t,r=!0){var n=e.reactions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];z!=null&&z[1].includes(e)&&z[0]===S||((l.f&oe)!==0?ko(l,t,!1):t===l&&(r?de(l,Ne):(l.f&te)!==0&&de(l,Fe),dr(l)))}}function wo(e){var k;var t=J,r=ne,n=le,i=S,l=De,p=z,c=E,g=_e,m=e.f;J=null,ne=0,le=null,De=(m&ee)!==0&&(_e||!st||S===null),S=(m&(we|It))===0?e:null,z=null,Qr(e.ctx),_e=!1,yn++,e.f|=Zn;try{var C=(0,e.fn)(),_=e.deps;if(J!==null){var v;if(kn(e,ne),_!==null&&ne>0)for(_.length=ne+J.length,v=0;v<J.length;v++)_[ne+v]=J[v];else e.deps=_=J;if(!De)for(v=ne;v<_.length;v++)((k=_[v]).reactions??(k.reactions=[])).push(e)}else _!==null&&ne<_.length&&(kn(e,ne),_.length=ne);if(Zt()&&le!==null&&!_e&&_!==null&&(e.f&(oe|Fe|Ne))===0)for(v=0;v<le.length;v++)ko(le[v],e);return i!==null&&i!==e&&(yn++,le!==null&&(n===null?n=le:n.push(...le))),C}catch(A){Ri(A)}finally{J=t,ne=r,le=n,S=i,De=l,z=p,Qr(c),_e=g,e.f^=Zn}}function Oi(e,t){let r=t.reactions;if(r!==null){var n=Xa.call(r,e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}r===null&&(t.f&oe)!==0&&(J===null||!J.includes(t))&&(de(t,Fe),(t.f&(ee|hn))===0&&(t.f^=hn),Xr(t),kn(t,0))}function kn(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Oi(e,r[n])}function wn(e){var t=e.f;if((t&Jn)===0){de(e,te);var r=P,n=st;P=e,st=!0;try{(t&Kn)!==0?Ei(e):go(e),fo(e);var i=wo(e);e.teardown=typeof i=="function"?i:null,e.wv=Co;var l}finally{st=n,P=r}}}function qi(){try{ci()}catch(e){if(rn!==null)To(e,rn);else throw e}}function Ao(){var e=st;try{var t=0;for(st=!0;on.length>0;){t++>1e3&&qi();var r=on,n=r.length;on=[];for(var i=0;i<n;i++){var l=Ui(r[i]);Hi(l)}Xt.clear()}}finally{nn=!1,st=e,rn=null}}function Hi(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];(n.f&(Jn|Mt))===0&&an(n)&&(wn(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?mo(n):n.fn=null))}}function dr(e){nn||(nn=!0,queueMicrotask(Ao));for(var t=rn=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(It|we))!==0){if((r&te)===0)return;t.f^=te}}on.push(t)}function Ui(e){for(var t=[],r=e;r!==null;){var n=r.f,i=(n&(we|It))!==0,l=i&&(n&te)!==0;if(!l&&(n&Mt)===0){(n&$r)!==0?t.push(r):i?r.f^=te:an(r)&&wn(r);var p=r.first;if(p!==null){r=p;continue}}var c=r.parent;for(r=r.next;r===null&&c!==null;)r=c.next,c=c.parent}return t}function b(e){for(var t;;){if(Fi(),on.length===0)return nn=!1,rn=null,t;nn=!0,Ao()}}function a(e){var t=e.f,r=(t&oe)!==0;if(We!==null&&We.add(e),S!==null&&!_e){if(!(z!=null&&z[1].includes(e))||z[0]!==S){var n=S.deps;e.rv<yn&&(e.rv=yn,J===null&&n!==null&&n[ne]===e?ne++:J===null?J=[e]:(!De||!J.includes(e))&&J.push(e))}}else if(r&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&ee)===0&&(i.f^=ee)}return r&&(i=e,an(i)&&to(i)),Wt&&Xt.has(e)?Xt.get(e):e.v}function ji(e){var t=We;We=new Set;var r=We,n;try{if($(e),t!==null)for(n of We)t.add(n)}finally{We=t}return r}function So(e){var t=ji(()=>$(e));for(var r of t)if((r.f&Gr)!==0)for(const n of r.deps||[])(n.f&oe)===0&&or(n,n.v);else or(r,r.v)}function $(e){var t=_e;try{return _e=!0,e()}finally{_e=t}}const zi=-7169;function de(e,t){e.f=e.f&zi|t}function B(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ae in e)pr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&Ae in r&&pr(r)}}}function pr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{pr(e[n],t)}catch{}const r=Gn(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=jr(r);for(let i in n){const l=n[i].get;if(l)try{l.call(e)}catch{}}}}}const $i=["touchstart","touchmove"];function Vi(e){return $i.includes(e)}let Lo=!1;function Gi(){Lo||(Lo=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Po(e){var t=S,r=P;ie(null),be(null);try{return e()}finally{ie(t),be(r)}}function cr(e,t,r,n=r){e.addEventListener(t,()=>Po(r));const i=e.__on_r;i?e.__on_r=()=>{i(),n(!0)}:e.__on_r=()=>n(!0),Gi()}const Ki=new Set,Eo=new Set;function Yi(e,t,r,n={}){function i(l){if(n.capture||ln.call(t,l),!l.cancelBubble)return Po(()=>r==null?void 0:r.call(this,l))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?ho(()=>{t.addEventListener(e,i,n)}):t.addEventListener(e,i,n),i}function L(e,t,r,n,i){var l={capture:n,passive:i},p=Yi(e,t,r,l);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&uo(()=>{t.removeEventListener(e,p,l)})}function ln(e){var N;var t=this,r=t.ownerDocument,n=e.type,i=((N=e.composedPath)==null?void 0:N.call(e))||[],l=i[0]||e.target,p=0,c=e.__root;if(c){var g=i.indexOf(c);if(g!==-1&&(t===document||t===window)){e.__root=t;return}var m=i.indexOf(t);if(m===-1)return;g<=m&&(p=g)}if(l=i[p]||e.target,l!==t){ti(e,"currentTarget",{configurable:!0,get(){return l||r}});var C=S,_=P;ie(null),be(null);try{for(var v,k=[];l!==null;){var A=l.assignedSlot||l.parentNode||l.host||null;try{var R=l["__"+n];if(R!=null&&(!l.disabled||e.target===l))if(Me(R)){var[q,...H]=R;q.apply(l,[e,...H])}else R.call(l,e)}catch(U){v?k.push(U):v=U}if(e.cancelBubble||A===t||A===null)break;l=A}if(v){for(let U of k)queueMicrotask(()=>{throw U});throw v}}finally{e.__root=t,delete e.currentTarget,ie(C),be(_)}}}function Ji(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function fr(e,t){var r=P;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function se(e,t){var r=(t&hi)!==0,n=(t&Ti)!==0,i,l=!e.startsWith("<!>");return()=>{i===void 0&&(i=Ji(l?e:"<!>"+e),r||(i=Bn(i)));var p=n||oo?document.importNode(i,!0):i.cloneNode(!0);if(r){var c=Bn(p),g=p.lastChild;fr(c,g)}else fr(p,p);return p}}function Qi(){var e=document.createDocumentFragment(),t=document.createComment(""),r=lo();return e.append(t,r),fr(t,r),e}function re(e,t){e!==null&&e.before(t)}function Ot(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function Io(e,t){return Zi(e,t)}const qt=new Map;function Zi(e,{target:t,anchor:r,props:n={},events:i,context:l,intro:p=!0}){Ai();var c=new Set,g=_=>{for(var v=0;v<_.length;v++){var k=_[v];if(!c.has(k)){c.add(k);var A=Vi(k);t.addEventListener(k,ln,{passive:A});var R=qt.get(k);R===void 0?(document.addEventListener(k,ln,{passive:A}),qt.set(k,1)):qt.set(k,R+1)}}};g(ei(Ki)),Eo.add(g);var m=void 0,C=Pi(()=>{var _=r??t.appendChild(lo());return lr(()=>{if(l){er({});var v=E;v.c=l}i&&(n.$$events=i),m=e(_,n)||{},l&&tr()}),()=>{var A;for(var v of c){t.removeEventListener(v,ln);var k=qt.get(v);--k===0?(document.removeEventListener(v,ln),qt.delete(v)):qt.set(v,k)}Eo.delete(g),_!==r&&((A=_.parentNode)==null||A.removeChild(_))}});return Xi.set(m,C),m}let Xi=new WeakMap;function he(e,t,[r,n]=[0,0]){var i=e,l=null,p=null,c=Q,g=r>0?Qn:0,m=!1;const C=(v,k=!0)=>{m=!0,_(k,v)},_=(v,k)=>{c!==(c=v)&&(c?(l?xo(l):k&&(l=lr(()=>k(i))),p&&sr(p,()=>{p=null})):(p?xo(p):k&&(p=lr(()=>k(i,[r+1,n]))),l&&sr(l,()=>{l=null})))};co(()=>{m=!1,t(C),m||_(null,null)},g)}function el(e,t,r){var n=e==null?"":""+e;return t&&(n=n?n+" "+t:t),n===""?null:n}function tl(e,t){return e==null?null:String(e)}function pe(e,t,r,n,i,l){var p=e.__className;if(p!==r||p===void 0){var c=el(r,n);c==null?e.removeAttribute("class"):e.className=c,e.__className=r}return l}function ut(e,t,r,n){var i=e.__style;if(i!==t){var l=tl(t);l==null?e.removeAttribute("style"):e.style.cssText=l,e.__style=t}return n}function Mo(e,t,r){if(e.multiple){if(t==null)return;if(!Me(t))return wi();for(var n of e.options)n.selected=t.includes(sn(n));return}for(n of e.options){var i=sn(n);if(Ci(i,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function nl(e,t){en(()=>{var r=new MutationObserver(()=>{var n=e.__value;Mo(e,n)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function No(e,t,r=t){var n=!0;cr(e,"change",i=>{var l=i?"[selected]":":checked",p;if(e.multiple)p=[].map.call(e.querySelectorAll(l),sn);else{var c=e.querySelector(l)??e.querySelector("option:not([disabled])");p=c&&sn(c)}r(p)}),en(()=>{var i=t();if(Mo(e,i,n),n&&i===void 0){var l=e.querySelector(":checked");l!==null&&(i=sn(l),r(i))}e.__value=i,n=!1}),nl(e)}function sn(e){return"__value"in e?e.__value:e.value}const rl=Symbol("is custom element"),ol=Symbol("is html");function An(e,t,r,n){var i=al(e);i[t]!==(i[t]=r)&&(t==="loading"&&(e[li]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Fo(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Oe(e,t,r){var n=S,i=P;ie(null),be(null);try{t!=="style"&&(gr.has(e.nodeName)||!customElements||customElements.get(e.tagName.toLowerCase())?Fo(e).includes(t):r&&typeof r=="object")?e[t]=r:An(e,t,r==null?r:String(r))}finally{ie(n),be(i)}}function al(e){return e.__attributes??(e.__attributes={[rl]:e.nodeName.includes("-"),[ol]:e.namespaceURI===Bi})}var gr=new Map;function Fo(e){var t=gr.get(e.nodeName);if(t)return t;gr.set(e.nodeName,t=[]);for(var r,n=e,i=Element.prototype;i!==n;){r=jr(n);for(var l in r)r[l].set&&t.push(l);n=Gn(n)}return t}function T(e,t,r=t){var n=Zt();cr(e,"input",i=>{var l=i?e.defaultValue:e.value;if(l=vr(e)?xr(l):l,r(l),n&&l!==(l=t())){var p=e.selectionStart,c=e.selectionEnd;e.value=l??"",c!==null&&(e.selectionStart=p,e.selectionEnd=Math.min(c,e.value.length))}}),$(t)==null&&e.value&&r(vr(e)?xr(e.value):e.value),Dt(()=>{var i=t();vr(e)&&i===xr(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function mr(e,t,r=t){cr(e,"change",n=>{var i=n?e.defaultChecked:e.checked;r(i)}),$(t)==null&&r(e.checked),Dt(()=>{var n=t();e.checked=!!n})}function vr(e){var t=e.type;return t==="number"||t==="range"}function xr(e){return e===""?null:+e}function Ro(e,t){return e===t||(e==null?void 0:e[Ae])===t}function il(e={},t,r,n){return en(()=>{var i,l;return Dt(()=>{i=l,l=[],$(()=>{e!==r(...l)&&(t(e,...l),i&&Ro(r(...i),e)&&t(null,...i))})}),()=>{ho(()=>{l&&Ro(r(...l),e)&&t(null,...l)})}}),e}function ll(e){return function(...t){var r=t[0];return r.preventDefault(),e==null?void 0:e.apply(this,t)}}function Do(e=!1){const t=E,r=t.l.u;if(!r)return;let n=()=>B(t.s);if(e){let i=0,l={};const p=Tn(()=>{let c=!1;const g=t.s;for(const m in g)g[m]!==l[m]&&(l[m]=g[m],c=!0);return c&&i++,i});n=()=>a(p)}r.b.length&&Li(()=>{Wo(t,n),_n(r.b)}),ir(()=>{const i=$(()=>r.m.map(oi));return()=>{for(const l of i)typeof l=="function"&&l()}}),r.a.length&&ir(()=>{Wo(t,n),_n(r.a)})}function Wo(e,t){if(e.l.s)for(const r of e.l.s)a(r);t()}let Sn=!1;function sl(e){var t=Sn;try{return Sn=!1,[e(),Sn]}finally{Sn=t}}function Oo(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function h(e,t,r,n){var Te;var i=!Nt||(r&_i)!==0,l=(r&bi)!==0,p=!1,c;[c,p]=sl(()=>e[t]);var g=Ae in e||ii in e,m=(((Te=Et(e,t))==null?void 0:Te.set)??(g&&t in e&&(I=>e[t]=I)))||void 0,C=n,_=!0,v=!1,k=()=>(v=!0,_&&(_=!1,C=n),C);c===void 0&&n!==void 0&&(m&&i&&fi(),c=k(),m&&m(c));var A;if(i)A=()=>{var I=e[t];return I===void 0?k():(_=!0,v=!1,I)};else{var R=yi(()=>e[t]);R.f|=Gr,A=()=>{var I=a(R);return I!==void 0&&(C=void 0),I===void 0?C:I}}if(m){var q=e.$$legacy;return function(I,Z){return arguments.length>0?((!i||!Z||q||p)&&m(Z?A():I),I):A()}}var H=!1,N=!1,U=O(c),G=Tn(()=>{var I=A(),Z=a(U);return H?(H=!1,N=!0,Z):(N=!1,U.v=I)});return a(G),G.equals=Xn,function(I,Z){if(We!==null&&(H=N,A(),a(U)),arguments.length>0){const ce=Z?a(G):i&&l?Ft(I):I;if(!G.equals(ce)){if(H=!0,y(U,ce),v&&C!==void 0&&(C=ce),Oo(G))return I;$(()=>a(G))}return I}return Oo(G)?G.v:a(G)}}function qo(e){E===null&&Jr(),Nt&&E.l!==null?pl(E).m.push(e):ir(()=>{const t=$(e);if(typeof t=="function")return t})}function ul(e,t,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:n})}function dl(){const e=E;return e===null&&Jr(),(t,r,n)=>{var l;const i=(l=e.s.$$events)==null?void 0:l[t];if(i){const p=Me(i)?i.slice():[i],c=ul(t,r,n);for(const g of p)g.call(e.x,c);return!c.defaultPrevented}return!0}}function pl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const cl="5";typeof window<"u"&&((Xo=window.__svelte??(window.__svelte={})).v??(Xo.v=new Set)).add(cl),xi();class fl{constructor(t){this.config=t}shouldLog(t){if(!this.config.enabled)return!1;const r=["debug","info","warn","error"],n=r.indexOf(this.config.level);return r.indexOf(t)>=n}debug(t,...r){this.shouldLog("debug")&&console.log(`${this.config.prefix}[DEBUG]`,t,...r)}info(t,...r){this.shouldLog("info")&&console.info(`${this.config.prefix}[INFO]`,t,...r)}warn(t,...r){this.shouldLog("warn")&&console.warn(`${this.config.prefix}[WARN]`,t,...r)}error(t,...r){this.shouldLog("error")&&console.error(`${this.config.prefix}[ERROR]`,t,...r)}}const gl=()=>typeof window<"u"&&new URLSearchParams(window.location.search).get("popupBannerDebug")==="on",Ht=(e="")=>{const t=gl();return new fl({enabled:t,level:t?"debug":"error",prefix:e})},Ut=Ht("[PopupBanner:Image] "),qe=Ht("[PopupBanner:Animation] "),Se=Ht("[PopupBanner:Controller] "),Ho=Ht("[PopupBanner:Trigger] "),Ln=Ht("[PopupBanner:Cookie] "),ml=Ht("[PopupBanner:GA4] ");var vl=se('<img alt="バナー画像" style="display: none;" class="svelte-filn8i"/>'),xl=se('<div class="dim-bg svelte-filn8i" role="button" tabindex="0"></div>'),_l=se('<img class="banner-image clickable svelte-filn8i" alt="バナー画像" role="button" tabindex="0"/>'),bl=se('<img class="banner-image svelte-filn8i" alt="バナー画像"/>'),hl=se('<div class="banner-text svelte-filn8i"> </div>'),Tl=se("<button> </button>"),Bl=se('<div class="under-btn-text svelte-filn8i"> </div>'),Cl=se('<!> <div><div><button class="close-btn svelte-filn8i">×</button> <!> <!> <!> <!></div></div>',1),yl=se("<!> <!>",1);function kl(e,t){er(t,!1);const r=O(),n=O(),i=O(),l=O(),p=O(),c=O(),g=O(),m=dl();let C=h(t,"popupId",12,"sample"),_=h(t,"popupName",12,"サンプルバナー"),v=h(t,"popupPosition",12,"center"),k=h(t,"popupWidth",12,""),A=h(t,"popupBackgroundColor",12,""),R=h(t,"popupPadding",12,""),q=h(t,"popupMargin",12,""),H=h(t,"popupBorderRadius",12,""),N=h(t,"popupBoxShadow",12,""),U=h(t,"popupBorderWidth",12,""),G=h(t,"popupBorderColor",12,""),Te=h(t,"popupBorderStyle",12,""),I=h(t,"dimBackground",12,!0),Z=h(t,"closeButtonColor",12,""),ce=h(t,"closeButtonBackgroundColor",12,""),He=h(t,"closeButtonTop",12,""),Ue=h(t,"closeButtonRight",12,""),D=h(t,"imageUrl",12,null),je=h(t,"imagePadding",12,""),dt=h(t,"imageMargin",12,""),ze=h(t,"imageBorderRadius",12,""),pt=h(t,"imageLoadTimeout",12,5),$t=h(t,"imageLoadErrorAction",12,"show"),Le=h(t,"imageLink",12,""),Vt=h(t,"imageLinkTarget",12,"_blank"),Gt=h(t,"onImageClick",12,()=>{}),fe=h(t,"animationType",12,"none"),Pe=h(t,"animationDuration",12,300),$e=h(t,"animationEasing",12,"ease-out"),ct=h(t,"text",12,""),Ve=h(t,"middleTextAlign",12,""),ft=h(t,"middleTextLineHeight",12,""),Ge=h(t,"middleTextColor",12,""),Ke=h(t,"middleTextFontSize",12,""),gt=h(t,"middleTextFontWeight",12,""),Ye=h(t,"middleTextPadding",12,""),Je=h(t,"middleTextMargin",12,""),Kt=h(t,"buttonText",12,""),Qe=h(t,"buttonAlign",12,""),Ze=h(t,"buttonColor",12,""),mt=h(t,"buttonTextColor",12,""),vt=h(t,"buttonFontSize",12,""),Xe=h(t,"buttonFontWeight",12,""),xt=h(t,"buttonPadding",12,""),Ee=h(t,"buttonMargin",12,""),et=h(t,"buttonBorderRadius",12,""),tt=h(t,"buttonBorderStyle",12,""),_t=h(t,"buttonBorderWidth",12,""),bt=h(t,"buttonBorderColor",12,""),ht=h(t,"buttonLink",12,""),Yt=h(t,"buttonLinkTarget",12,"_blank"),Tt=h(t,"underBtnText",12,""),Bt=h(t,"underBtnTextAlign",12,""),nt=h(t,"underBtnTextLineHeight",12,""),Ct=h(t,"underBtnTextColor",12,""),rt=h(t,"underBtnTextFontSize",12,""),yt=h(t,"underBtnTextFontWeight",12,""),kt=h(t,"underBtnTextPadding",12,""),wt=h(t,"underBtnTextMargin",12,""),At=h(t,"onButtonClick",12,()=>{}),Be=h(t,"onClose",12,()=>{}),ge=O(!1),X=O(!1),Ce=O(!1),St=O(!0),w=O(),K=O(!1),Ie=O("");function Fn(){Ut.info("画像読み込み完了:",D()),y(ge,!0),y(Ce,!0)}function dn(){Ut.warn("画像読み込みエラー:",D()),y(X,!0),$t()==="show"?(y(St,!1),y(Ce,!0)):(Be()(),m("close"))}function Rn(){return D()?(Ut.debug(`画像読み込み開始（タイムアウト: ${pt()}秒）:`,D()),setTimeout(()=>{!a(ge)&&!a(X)&&(Ut.warn("画像読み込みタイムアウト:",D()),dn())},pt()*1e3)):void 0}function pn(){a(K)||(Ut.info("画像がクリックされました",{imageUrl:D(),imageLink:Le()}),Gt()&&Gt()(),Le()&&window.open(Le(),Vt()))}function wr(){a(K)||(At()&&At()(),ht()&&window.open(ht(),Yt()))}function cn(){if(!(D()&&!a(ge)&&!a(X))){if(a(X)&&$t()==="hide"){Ut.info("画像読み込みエラーのためバナーを表示しません");return}a(X)&&y(St,!1),y(Ce,!0)}}function Dn(){if(fe()==="fade-in-up"){qe.debug("fade-in-upアニメーション初期化"),a(w)&&(a(w).style.setProperty("--animation-duration",`${Pe()}ms`),a(w).style.setProperty("--animation-easing",$e())),y(Ie,"animate-fade-in-up"),y(K,!0);const s=()=>{y(K,!1),qe.debug("アニメーション完了"),a(w)&&a(w).removeEventListener("animationend",s)};a(w)&&a(w).addEventListener("animationend",s)}else if(fe()==="fade-in-down"){qe.debug("fade-in-downアニメーション初期化"),a(w)&&(a(w).style.setProperty("--animation-duration",`${Pe()}ms`),a(w).style.setProperty("--animation-easing",$e())),y(Ie,"animate-fade-in-down"),y(K,!0);const s=()=>{y(K,!1),qe.debug("アニメーション完了"),a(w)&&a(w).removeEventListener("animationend",s)};a(w)&&a(w).addEventListener("animationend",s)}else if(fe()==="fade-in"){qe.debug("fade-inアニメーション初期化"),a(w)&&(a(w).style.setProperty("--animation-duration",`${Pe()}ms`),a(w).style.setProperty("--animation-easing",$e())),y(Ie,"animate-fade-in"),y(K,!0);const s=()=>{y(K,!1),qe.debug("アニメーション完了"),a(w)&&a(w).removeEventListener("animationend",s)};a(w)&&a(w).addEventListener("animationend",s)}else if(fe()==="scale-in"){qe.debug("scale-inアニメーション初期化"),a(w)&&(a(w).style.setProperty("--animation-duration",`${Pe()}ms`),a(w).style.setProperty("--animation-easing",$e())),y(Ie,"animate-scale-in"),y(K,!0);const s=()=>{y(K,!1),qe.debug("アニメーション完了"),a(w)&&a(w).removeEventListener("animationend",s)};a(w)&&a(w).addEventListener("animationend",s)}}let Lt=O();function Wn(){a(Lt)&&clearTimeout(a(Lt))}function Ar(s){(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),Be()(),m("close")),s.key==="Escape"&&(Be()(),m("close"))}qo(()=>{D()?Rn():cn()}),ae(()=>(B(C()),B(_())),()=>{C()&&_()}),ae(()=>(B(D()),a(ge),a(X)),()=>{D()&&!a(ge)&&!a(X)&&y(Lt,Rn())}),ae(()=>(B(A()),B(k()),B(R()),B(q()),B(H()),B(N()),B(U()),B(G()),B(Te())),()=>{y(r,`
    ${A()?`background:${A()};`:""}
    ${k()?`max-width:${k()};`:""}
    ${R()?`padding:${R()};`:""}
    ${q()?`margin:${q()};`:""}
    ${H()?`border-radius:${H()};`:""}
    ${N()?`box-shadow:${N()};`:""}
    ${U()?`border-width:${U()};`:""}
    ${G()?`border-color:${G()};`:""}
    ${Te()?`border-style:${Te()};`:""}
  `)}),ae(()=>B(v()),()=>{y(n,v()==="bottom"?"position-bottom":v()==="top"?"position-top":v()==="center"?"position-center":v()==="top-left"?"position-top-left":v()==="top-right"?"position-top-right":v()==="middle-left"?"position-middle-left":v()==="middle-right"?"position-middle-right":v()==="bottom-left"?"position-bottom-left":v()==="bottom-right"?"position-bottom-right":"")}),ae(()=>(B(Z()),B(ce()),B(He()),B(Ue())),()=>{y(i,`
    ${Z()?`color:${Z()};`:""}
    ${ce()?`background:${ce()};`:""}
    ${He()?`top:${He()};`:""}
    ${Ue()?`right:${Ue()};`:""}
  `)}),ae(()=>(B(je()),B(dt()),B(ze())),()=>{y(l,`
    ${je()?`padding:${je()};`:""}
    ${dt()?`margin:${dt()};`:""}
    ${ze()?`border-radius:${ze()};`:""}
  `)}),ae(()=>(B(Ge()),B(Ve()),B(ft()),B(Ke()),B(gt()),B(Ye()),B(Je())),()=>{y(p,`
    ${Ge()?`color:${Ge()};`:""}
    ${Ve()?`text-align:${Ve()};`:""}
    ${ft()?`line-height:${ft()};`:""}
    ${Ke()?`font-size:${Ke()};`:""}
    ${gt()?`font-weight:${gt()};`:""}
    ${Ye()?`padding:${Ye()};`:""}
    ${Je()?`margin:${Je()};`:""}
  `)}),ae(()=>(B(Ze()),B(mt()),B(vt()),B(Xe()),B(xt()),B(Ee()),B(et()),B(tt()),B(_t()),B(bt()),B(Qe())),()=>{y(c,`
    ${Ze()?`background:${Ze()};`:""}
    ${mt()?`color:${mt()};`:""}
    ${vt()?`font-size:${vt()};`:""}
    ${Xe()?`font-weight:${Xe()};`:""}
    ${xt()?`padding:${xt()};`:""}
    ${Ee()?`margin:${Ee()};`:""}
    ${et()?`border-radius:${et()};`:""}
    ${tt()?`border-style:${tt()};`:""}
    ${_t()?`border-width:${_t()};`:""}
    ${bt()?`border-color:${bt()};`:""}
    ${Qe()?`display:block;margin-left:auto;margin-right:auto;text-align:${Qe()};`:""}
  `)}),ae(()=>(B(Ct()),B(Bt()),B(nt()),B(rt()),B(yt()),B(kt()),B(wt())),()=>{y(g,`
    ${Ct()?`color:${Ct()};`:""}
    ${Bt()?`text-align:${Bt()};`:""}
    ${nt()?`line-height:${nt()};`:""}
    ${rt()?`font-size:${rt()};`:""}
    ${yt()?`font-weight:${yt()};`:""}
    ${kt()?`padding:${kt()};`:""}
    ${wt()?`margin:${wt()};`:""}
  `)}),ae(()=>(B(D()),a(ge),a(X)),()=>{D()&&(a(ge)||a(X))&&cn()}),ae(()=>(a(Ce),a(w),B(fe())),()=>{a(Ce)&&a(w)&&requestAnimationFrame(()=>{fe()!=="none"&&Dn()})}),po(),Do();var fn=yl(),On=Cn(fn);{var Sr=s=>{var ye=vl();j(()=>An(ye,"src",D())),L("load",ye,Fn),L("error",ye,dn),re(s,ye)};he(On,s=>{D()&&!a(ge)&&!a(X)&&s(Sr)})}var Lr=u(On,2);{var qn=s=>{var ye=Cl(),Jt=Cn(ye);{var Hn=M=>{var F=xl();L("click",F,()=>{Be()(),m("close")}),L("keydown",F,Ar),re(M,F)};he(Jt,M=>{I()&&M(Hn)})}var gn=u(Jt,2),ot=d(gn),Pt=d(ot),Un=u(Pt,2);{var Pr=M=>{var F=Qi(),ke=Cn(F);{var Mr=at=>{var me=_l();j(()=>{An(me,"src",D()),ut(me,a(l))}),L("click",me,pn),L("keydown",me,Qt=>{(Qt.key==="Enter"||Qt.key===" ")&&(Qt.preventDefault(),pn())}),re(at,me)},Vn=at=>{var me=bl();j(()=>{An(me,"src",D()),ut(me,a(l))}),re(at,me)};he(ke,at=>{Le()?at(Mr):at(Vn,!1)})}re(M,F)};he(Un,M=>{D()&&a(St)&&M(Pr)})}var jn=u(Un,2);{var zn=M=>{var F=hl(),ke=d(F);j(()=>{ut(F,a(p)),Ot(ke,ct())}),re(M,F)};he(jn,M=>{ct()&&M(zn)})}var mn=u(jn,2);{var Er=M=>{var F=Tl(),ke=d(F);j(()=>{pe(F,1,`banner-btn${ht()?" clickable":""}`,"svelte-filn8i"),ut(F,a(c)),F.disabled=a(K),Ot(ke,Kt())}),L("click",F,wr),re(M,F)};he(mn,M=>{Kt()&&M(Er)})}var $n=u(mn,2);{var Ir=M=>{var F=Bl(),ke=d(F);j(()=>{ut(F,a(g)),Ot(ke,Tt())}),re(M,F)};he($n,M=>{Tt()&&M(Ir)})}il(ot,M=>y(w,M),()=>a(w)),j(()=>{pe(gn,1,`popup-container ${a(n)??""}`,"svelte-filn8i"),pe(ot,1,`popup-banner ${a(Ie)??""}`,"svelte-filn8i"),ut(ot,a(r)),ut(Pt,a(i)),Pt.disabled=a(K)}),L("click",Pt,()=>{Wn(),Be()(),m("close")}),re(s,ye)};he(Lr,s=>{a(Ce)&&s(qn)})}return re(e,fn),tr({get popupId(){return C()},set popupId(s){C(s),b()},get popupName(){return _()},set popupName(s){_(s),b()},get popupPosition(){return v()},set popupPosition(s){v(s),b()},get popupWidth(){return k()},set popupWidth(s){k(s),b()},get popupBackgroundColor(){return A()},set popupBackgroundColor(s){A(s),b()},get popupPadding(){return R()},set popupPadding(s){R(s),b()},get popupMargin(){return q()},set popupMargin(s){q(s),b()},get popupBorderRadius(){return H()},set popupBorderRadius(s){H(s),b()},get popupBoxShadow(){return N()},set popupBoxShadow(s){N(s),b()},get popupBorderWidth(){return U()},set popupBorderWidth(s){U(s),b()},get popupBorderColor(){return G()},set popupBorderColor(s){G(s),b()},get popupBorderStyle(){return Te()},set popupBorderStyle(s){Te(s),b()},get dimBackground(){return I()},set dimBackground(s){I(s),b()},get closeButtonColor(){return Z()},set closeButtonColor(s){Z(s),b()},get closeButtonBackgroundColor(){return ce()},set closeButtonBackgroundColor(s){ce(s),b()},get closeButtonTop(){return He()},set closeButtonTop(s){He(s),b()},get closeButtonRight(){return Ue()},set closeButtonRight(s){Ue(s),b()},get imageUrl(){return D()},set imageUrl(s){D(s),b()},get imagePadding(){return je()},set imagePadding(s){je(s),b()},get imageMargin(){return dt()},set imageMargin(s){dt(s),b()},get imageBorderRadius(){return ze()},set imageBorderRadius(s){ze(s),b()},get imageLoadTimeout(){return pt()},set imageLoadTimeout(s){pt(s),b()},get imageLoadErrorAction(){return $t()},set imageLoadErrorAction(s){$t(s),b()},get imageLink(){return Le()},set imageLink(s){Le(s),b()},get imageLinkTarget(){return Vt()},set imageLinkTarget(s){Vt(s),b()},get onImageClick(){return Gt()},set onImageClick(s){Gt(s),b()},get animationType(){return fe()},set animationType(s){fe(s),b()},get animationDuration(){return Pe()},set animationDuration(s){Pe(s),b()},get animationEasing(){return $e()},set animationEasing(s){$e(s),b()},get text(){return ct()},set text(s){ct(s),b()},get middleTextAlign(){return Ve()},set middleTextAlign(s){Ve(s),b()},get middleTextLineHeight(){return ft()},set middleTextLineHeight(s){ft(s),b()},get middleTextColor(){return Ge()},set middleTextColor(s){Ge(s),b()},get middleTextFontSize(){return Ke()},set middleTextFontSize(s){Ke(s),b()},get middleTextFontWeight(){return gt()},set middleTextFontWeight(s){gt(s),b()},get middleTextPadding(){return Ye()},set middleTextPadding(s){Ye(s),b()},get middleTextMargin(){return Je()},set middleTextMargin(s){Je(s),b()},get buttonText(){return Kt()},set buttonText(s){Kt(s),b()},get buttonAlign(){return Qe()},set buttonAlign(s){Qe(s),b()},get buttonColor(){return Ze()},set buttonColor(s){Ze(s),b()},get buttonTextColor(){return mt()},set buttonTextColor(s){mt(s),b()},get buttonFontSize(){return vt()},set buttonFontSize(s){vt(s),b()},get buttonFontWeight(){return Xe()},set buttonFontWeight(s){Xe(s),b()},get buttonPadding(){return xt()},set buttonPadding(s){xt(s),b()},get buttonMargin(){return Ee()},set buttonMargin(s){Ee(s),b()},get buttonBorderRadius(){return et()},set buttonBorderRadius(s){et(s),b()},get buttonBorderStyle(){return tt()},set buttonBorderStyle(s){tt(s),b()},get buttonBorderWidth(){return _t()},set buttonBorderWidth(s){_t(s),b()},get buttonBorderColor(){return bt()},set buttonBorderColor(s){bt(s),b()},get buttonLink(){return ht()},set buttonLink(s){ht(s),b()},get buttonLinkTarget(){return Yt()},set buttonLinkTarget(s){Yt(s),b()},get underBtnText(){return Tt()},set underBtnText(s){Tt(s),b()},get underBtnTextAlign(){return Bt()},set underBtnTextAlign(s){Bt(s),b()},get underBtnTextLineHeight(){return nt()},set underBtnTextLineHeight(s){nt(s),b()},get underBtnTextColor(){return Ct()},set underBtnTextColor(s){Ct(s),b()},get underBtnTextFontSize(){return rt()},set underBtnTextFontSize(s){rt(s),b()},get underBtnTextFontWeight(){return yt()},set underBtnTextFontWeight(s){yt(s),b()},get underBtnTextPadding(){return kt()},set underBtnTextPadding(s){kt(s),b()},get underBtnTextMargin(){return wt()},set underBtnTextMargin(s){wt(s),b()},get onButtonClick(){return At()},set onButtonClick(s){At(s),b()},get onClose(){return Be()},set onClose(s){Be(s),b()}})}function wl(e){if(!e||!Array.isArray(e.selectors))return!1;const t=e.logic||"AND",r=e.selectors.map(n=>{const i=document.querySelector(n.selector);if(n.exists!==void 0&&(n.exists&&!i||!n.exists&&i)||n.notExists!==void 0&&(n.notExists&&i||!n.notExists&&!i))return!1;if(n.textMatches&&i){const l=i.textContent||"";if(typeof n.textMatches=="string"){if(!l.includes(n.textMatches))return!1}else if(n.textMatches instanceof RegExp&&!n.textMatches.test(l))return!1}if(n.attributeMatches&&i){const l=i.getAttribute(n.attributeMatches.attr)||"";if(n.attributeMatches.value&&l!==n.attributeMatches.value||n.attributeMatches.regex&&!n.attributeMatches.regex.test(l))return!1}return!0});return t==="AND"?r.every(Boolean):r.some(Boolean)}function Al(e,t){if(!Array.isArray(e)||e.length===0)return!1;const r=e.reduce((n,i)=>n+i.price*i.quantity,0);switch(t.operator){case"eq":return r===t.value;case"gt":return r>t.value;case"gte":return r>=t.value;case"lt":return r<t.value;case"lte":return r<=t.value;default:return!1}}function Sl(){window.dataLayer||(window.dataLayer=[])}function Uo(e){Sl(),window.dataLayer.push(e),ml.debug("GA4 event sent",e)}function Ll(e){Uo({event:"view_promotion",...e})}function jo(e){Uo({event:"select_promotion",...e})}function Pl(e,t="popupBannerAbTestGroupIndex"){var l,p;let r=[];const n=localStorage.getItem(t);n&&(r=n.split(",").map(c=>c.trim()).filter(Boolean));let i=r.find(c=>e.some(g=>(g==null?void 0:g.popupId)===c));if(!i){const c=Math.floor(Math.random()*e.length);if(i=(l=e[c])==null?void 0:l.popupId,i){r.push(i);const g=Array.from(new Set(r));localStorage.setItem(t,g.join(","))}}return i||((p=e[0])==null?void 0:p.popupId)}(function(e){const t=function(...r){(t.q=t.q||[]).push(r)};e.PopupBanner=e.PopupBanner||t})(typeof window<"u"?window:globalThis);function El(e,t,r){let n=`${e}=${encodeURIComponent(t)}; path=/;`;typeof r=="number"&&r>=0&&(n+=` max-age=${r};`),Ln.debug("set cookie:",n),document.cookie=n}function Il(e){const t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()\[\]\\\/\+^])/g,"$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):null}function Ml(e){try{if(e.triggerCondition){const t=wl(e.triggerCondition);if(Ho.debug("triggerCondition 判定:",t,e.triggerCondition),!t)return!1}if(e.amountCondition&&e.cartItems){const t=e.cartItems,r=Al(t,e.amountCondition);if(Ho.debug("amountCondition 判定:",r,{items:t,amountCondition:e.amountCondition}),!r)return!1}if(e.shouldSetCookie&&e.popupCookieName){const t=Il(e.popupCookieName)==="closed";if(Ln.debug("再表示制御 判定:",!t,"cookieName=",e.popupCookieName,"closed=",t),t)return!1}return Se.info("shouldShowBanner: 全ての条件を通過しました",e),!0}catch(t){return Se.error("shouldShowBanner error",t),!1}}function Nl(e){if(e.shouldSetCookie&&e.popupCookieName){let t,r=e.bannerNonDisplaySpanHours;if(typeof r=="string"&&(r=Number(r)),r===0){Ln.debug("bannerNonDisplaySpanHours is 0, not setting cookie.");return}typeof r=="number"&&!isNaN(r)&&(t=Math.floor(r*3600)),Ln.debug("bannerNonDisplaySpanHours:",e.bannerNonDisplaySpanHours,"maxAge:",t),El(e.popupCookieName,"closed",t)}}let zo=[],Pn=!1;const ue={show(e){if(Array.isArray(e)){if(e.length===0)return;const t=Pl(e),r=e.find(n=>(n==null?void 0:n.popupId)===t)||e[0];r&&this.show(r);return}zo.push(e),un()},noConflict(){if(typeof window<"u"){const e=window,t=e.PopupBanner;return e.PopupBanner=void 0,t}}};function un(){if(Pn)return;const e=zo.shift();if(e){if(!e.popupId||!e.popupName){Se.error("popupIdとpopupNameは必須です",e),un();return}!e.popupCookieName&&e.popupId&&(e.popupCookieName="popupBanner_"+e.popupId);try{if(!Ml(e)){Se.info("表示条件を満たさないためバナーを表示しません",e),un();return}Pn=!0;const t=document.createElement("div");document.body.appendChild(t);const r=Io(kl,{target:t,props:{popupId:e.popupId,popupName:e.popupName,popupPosition:e.popupPosition,popupWidth:e.popupWidth,popupBackgroundColor:e.popupBackgroundColor,popupPadding:e.popupPadding,popupMargin:e.popupMargin,popupBorderRadius:e.popupBorderRadius,dimBackground:e.dimBackground,closeButtonColor:e.closeButtonColor,closeButtonBackgroundColor:e.closeButtonBackgroundColor,closeButtonTop:e.closeButtonTop,closeButtonRight:e.closeButtonRight,imageUrl:e.imageUrl,imagePadding:e.imagePadding,imageMargin:e.imageMargin,imageBorderRadius:e.imageBorderRadius,imageLoadTimeout:e.imageLoadTimeout||5,imageLoadErrorAction:e.imageLoadErrorAction||"show",imageLink:e.imageLink,imageLinkTarget:e.imageLinkTarget||"_blank",animationType:e.animationType||"none",animationDuration:e.animationDuration||300,animationEasing:e.animationEasing||"ease-out",text:e.text,middleTextAlign:e.middleTextAlign,middleTextLineHeight:e.middleTextLineHeight,middleTextColor:e.middleTextColor,middleTextFontSize:e.middleTextFontSize,middleTextFontWeight:e.middleTextFontWeight,middleTextPadding:e.middleTextPadding,middleTextMargin:e.middleTextMargin,buttonText:e.buttonText,buttonAlign:e.buttonAlign,buttonColor:e.buttonColor,buttonTextColor:e.buttonTextColor,buttonFontSize:e.buttonFontSize,buttonFontWeight:e.buttonFontWeight,buttonPadding:e.buttonPadding,buttonMargin:e.buttonMargin,buttonBorderRadius:e.buttonBorderRadius,buttonBorderStyle:e.buttonBorderStyle,buttonBorderWidth:e.buttonBorderWidth,buttonBorderColor:e.buttonBorderColor,buttonLink:e.buttonLink,buttonLinkTarget:e.buttonLinkTarget||"_blank",underBtnText:e.underBtnText,underBtnTextAlign:e.underBtnTextAlign,underBtnTextLineHeight:e.underBtnTextLineHeight,underBtnTextColor:e.underBtnTextColor,underBtnTextFontSize:e.underBtnTextFontSize,underBtnTextFontWeight:e.underBtnTextFontWeight,underBtnTextPadding:e.underBtnTextPadding,underBtnTextMargin:e.underBtnTextMargin,onButtonClick:()=>{Se.info("ボタンがクリックされました",e),e.onButtonClick&&e.onButtonClick(),jo(e.ga4||{})},onImageClick:()=>{Se.info("画像がクリックされました",e),e.onImageClick&&e.onImageClick(),jo(e.ga4||{})},onClose:()=>{Se.info("バナーを閉じました",e),Nl(e),r&&typeof r.destroy=="function"&&r.destroy(),t.remove(),Pn=!1,un(),e.onClose&&e.onClose()}}});Se.info("バナーを表示しました",e),Ll(e.ga4||{})}catch(t){Se.error("PopupBanner.show error",t),Pn=!1,un()}}}(function(e){var n;const t=ue,r=(n=e.PopupBanner)==null?void 0:n.q;e.PopupBanner=t,r&&r.forEach(i=>{const l=i[0];typeof t[l]=="function"&&t[l](...i.slice(1))})})(typeof window<"u"?window:globalThis);var Fl=se(`<div class="code-importer svelte-x5xgas"><div class="code-importer-header svelte-x5xgas"><h3 class="svelte-x5xgas">設定の読み込み</h3></div> <p class="code-importer-description svelte-x5xgas">PopupBanner.show()形式のコードを貼り付けて、設定をフォームに復元できます。</p> <textarea class="import-code-textarea svelte-x5xgas" placeholder="PopupBanner.show({   popupId: 'example',   popupName: 'サンプル',   text: 'テキスト',   imageUrl: 'https://example.com/image.png',   // ... });" rows="10"></textarea> <div class="code-importer-actions svelte-x5xgas"><button class="load-button svelte-x5xgas">📥 設定を読み込む</button> <button class="clear-button svelte-x5xgas">🗑️ クリア</button></div></div>`),Rl=se('<div class="code-generator svelte-x5xgas"><div class="code-generator-header svelte-x5xgas"><h3 class="svelte-x5xgas">生成されたコード</h3> <button class="copy-button svelte-x5xgas">📋 コピー</button></div> <pre class="generated-code svelte-x5xgas"> </pre> <p class="code-generator-note svelte-x5xgas">フォームの内容を変更すると、コードが自動的に更新されます。</p></div>'),Dl=se('<h1>PopupBanner デモ</h1> <h2>基本動作</h2> <ul class="banner-test-list svelte-x5xgas"><li class="svelte-x5xgas"><button>基本バナー</button> <p class="svelte-x5xgas">基本バナーを表示します。</p> <pre class="banner-test-code svelte-x5xgas"></pre></li> <li class="svelte-x5xgas"><button>クリックイベントテスト</button> <p class="svelte-x5xgas">バナー内のボタンをクリックした時にアラートを表示します。</p> <pre class="banner-test-code svelte-x5xgas"></pre></li> <li class="svelte-x5xgas"><button>triggerConditionテスト</button> <p class="svelte-x5xgas">triggerConditionテスト<br/> ページ内に .cart-item が存在する場合に表示されます。</p> <p class="cart-item svelte-x5xgas">判定用要素（クラス名cart-item）</p> <pre class="banner-test-code svelte-x5xgas"></pre></li> <li class="svelte-x5xgas"><button>triggerConditionテスト2</button> <p class="svelte-x5xgas">triggerConditionテスト<br/> ページ内に .cart-item と .special-offer が存在する場合に表示されます。</p> <p class="cart-item svelte-x5xgas">判定用要素（クラス名cart-item）</p> <p class="special-offer svelte-x5xgas">判定用要素（クラス名special-offer）</p> <pre class="banner-test-code svelte-x5xgas"></pre></li> <li class="svelte-x5xgas"><button>triggerConditionテスト3</button> <p class="svelte-x5xgas">triggerConditionテスト<br/> ページ内の .shopping-info のテキストが「送料無料」の場合に表示されます。</p> <p class="shopping-info svelte-x5xgas">送料無料</p> <pre class="banner-test-code svelte-x5xgas"></pre></li> <li class="svelte-x5xgas"><button>amountConditionテスト</button> <p class="svelte-x5xgas">カート内の商品の合計金額が5000円以下の場合に表示されます。<br/> DOMからカート内の商品を取得して判定する例です。</p> <ul class="cart-items"><li><span class="cart-item-name">商品A</span> <span class="cart-item-price">500円</span> <span class="cart-item-quantity">2個</span></li> <li><span class="cart-item-name">商品B</span> <span class="cart-item-price">1,500円</span> <span class="cart-item-quantity">1個</span></li></ul> <pre class="banner-test-code svelte-x5xgas"></pre></li> <li class="svelte-x5xgas"><button>A/Bテストバナー</button> <p class="svelte-x5xgas">A/Bテストバナーを表示します。</p> <pre class="banner-test-code svelte-x5xgas"></pre></li> <li class="svelte-x5xgas"><button>A/Bテストバナー2</button> <p class="svelte-x5xgas">A/Bテストバナー2を表示します。（複数のABテストが実行されても問題無いか確認用）</p> <pre class="banner-test-code svelte-x5xgas"></pre></li> <li class="svelte-x5xgas"><button>キューテスト</button> <p class="svelte-x5xgas">複数のバナーの表示を同時に指定された時に順番に表示されるかテストします。</p> <pre class="banner-test-code svelte-x5xgas"></pre></li></ul> <form class="banner-form svelte-x5xgas"><h2>基本設定</h2> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">popupId</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas" required/></dd> <dt class="banner-form-label svelte-x5xgas">popupName</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas" required/></dd></dl> <h2>表示制御・Cookie設定</h2> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">bannerNonDisplaySpanHours</dt> <dd><input type="number" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">shouldSetCookie</dt> <dd><input type="checkbox" class="banner-form-checkbox svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">startDate</dt> <dd><input type="datetime-local" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">endDate</dt> <dd><input type="datetime-local" class="banner-form-input svelte-x5xgas"/></dd></dl> <h2>バナー見た目・デザイン設定</h2> <h3>バナー全体・背景</h3> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">popupPosition</dt> <dd><select class="banner-form-input svelte-x5xgas"><option>center</option><option>top</option><option>bottom</option><option>middle-right</option><option>middle-left</option><option>bottom-right</option><option>bottom-left</option></select></dd> <dt class="banner-form-label svelte-x5xgas">popupWidth</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">dimBackground</dt> <dd><input type="checkbox" class="banner-form-checkbox svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">popupBackgroundColor</dt> <dd class="banner-form-card svelte-x5xgas"><input type="text" class="banner-form-input-color svelte-x5xgas"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-x5xgas">popupPadding</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">popupMargin</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">popupBorderRadius</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd></dl> <h3>閉じるボタン</h3> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">closeButtonColor</dt> <dd class="banner-form-card svelte-x5xgas"><input type="text" class="banner-form-input-color svelte-x5xgas"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-x5xgas">closeButtonBackgroundColor</dt> <dd class="banner-form-card svelte-x5xgas"><input type="text" class="banner-form-input-color svelte-x5xgas"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-x5xgas">closeButtonTop</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">closeButtonRight</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd></dl> <h3>画像</h3> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">imageURL</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">imagePadding</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">imageMargin</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">imageBorderRadius</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">imageLink</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas" placeholder="https://example.com"/></dd> <dt class="banner-form-label svelte-x5xgas">imageLinkTarget</dt> <dd><select class="banner-form-input svelte-x5xgas"><option>_blank（新しいタブ）</option><option>_self（同じタブ）</option><option>_parent</option><option>_top</option></select></dd></dl> <h3>メインテキスト</h3> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">middleText</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">middleTextAlign</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">middleTextLineHeight</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">middleTextColor</dt> <dd class="banner-form-card svelte-x5xgas"><input type="text" class="banner-form-input-color svelte-x5xgas"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-x5xgas">middleTextFontSize</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">middleTextFontWeight</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">middleTextPadding</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">middleTextMargin</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd></dl> <h3>ボタン下テキスト</h3> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">underBtnText</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">underBtnTextAlign</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">underBtnTextLineHeight</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">underBtnTextColor</dt> <dd class="banner-form-card svelte-x5xgas"><input type="text" class="banner-form-input-color svelte-x5xgas"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-x5xgas">underBtnTextFontSize</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">underBtnTextFontWeight</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">underBtnTextPadding</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">underBtnTextMargin</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd></dl> <h3>ボタン</h3> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">buttonLink</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">linkText</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">enableCopyOnClick</dt> <dd><input type="checkbox" class="banner-form-checkbox svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">buttonAlign</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">buttonColor</dt> <dd class="banner-form-card svelte-x5xgas"><input type="text" class="banner-form-input-color svelte-x5xgas"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-x5xgas">buttonTextColor</dt> <dd class="banner-form-card svelte-x5xgas"><input type="text" class="banner-form-input-color svelte-x5xgas"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-x5xgas">buttonFontSize</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">buttonFontWeight</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">buttonPadding</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">buttonMargin</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">buttonBorderRadius</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">buttonBorderStyle</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">buttonBorderWidth</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">buttonBorderColor</dt> <dd class="banner-form-card svelte-x5xgas"><input type="text" class="banner-form-input-color svelte-x5xgas"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd></dl> <h2>条件設定</h2> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">cartItems</dt> <dd><textarea class="banner-form-input-wide svelte-x5xgas" rows="4"></textarea> <div class="banner-form-example svelte-x5xgas"><p class="svelte-x5xgas"><strong>JSON配列形式:</strong></p> <pre class="banner-form-example-code svelte-x5xgas"></pre> <p class="svelte-x5xgas"><strong>関数形式:</strong></p> <pre class="banner-form-example-code svelte-x5xgas"></pre></div></dd> <dt class="banner-form-label svelte-x5xgas">amountCondition</dt> <dd><textarea class="banner-form-input-wide svelte-x5xgas" rows="4"></textarea> <div class="banner-form-example svelte-x5xgas"><p class="svelte-x5xgas"><strong>3000円以上の場合:</strong></p> <pre class="banner-form-example-code svelte-x5xgas"></pre> <p class="svelte-x5xgas"><strong>5000円未満の場合:</strong></p> <pre class="banner-form-example-code svelte-x5xgas"></pre> <p class="banner-form-note svelte-x5xgas">operator: "gte"(以上), "gt"(より大きい), "lte"(以下), "lt"(未満), "eq"(等しい)</p></div></dd> <dt class="banner-form-label svelte-x5xgas">triggerCondition</dt> <dd><textarea class="banner-form-input-wide svelte-x5xgas" rows="6"></textarea> <div class="banner-form-example svelte-x5xgas"><p class="svelte-x5xgas"><strong>単一要素の存在チェック:</strong></p> <pre class="banner-form-example-code svelte-x5xgas"></pre> <p class="svelte-x5xgas"><strong>複数要素の存在チェック:</strong></p> <pre class="banner-form-example-code svelte-x5xgas"></pre> <p class="svelte-x5xgas"><strong>テキスト内容のチェック:</strong></p> <pre class="banner-form-example-code svelte-x5xgas"></pre> <p class="banner-form-note svelte-x5xgas">logic: "AND"(すべて), "OR"(いずれか)</p></div></dd></dl> <h2>GA4連携設定</h2> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">ga4.creative_name</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">ga4.creative_slot</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">ga4.promotion_id</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">ga4.promotion_name</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas"/></dd></dl> <div style="text-align:center;margin-top:16px;"><button type="submit" class="banner-form-submit svelte-x5xgas">バナー表示</button> <button type="button" class="banner-form-code-btn svelte-x5xgas"> </button> <button type="button" class="banner-form-import-btn svelte-x5xgas"> </button></div></form> <!> <!>',3);function Wl(e,t){er(t,!1);const r=O();let n=O({popupId:"sample",popupName:"サンプルバナー",bannerNonDisplaySpanHours:"0",shouldSetCookie:!0,startDate:"",endDate:"",popupPosition:"center",popupWidth:"400px",dimBackground:!0,popupBackgroundColor:"#ffffff",closeButtonColor:"#000000",closeButtonBackgroundColor:"transparent",closeButtonTop:"",closeButtonRight:"",popupPadding:"",popupMargin:"",popupBorderRadius:"",imageURL:"https://placehold.jp/600x300.png",imagePadding:"",imageMargin:"",imageBorderRadius:"",imageLink:"",imageLinkTarget:"_blank",middleText:"サンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキスト",middleTextAlign:"left",middleTextLineHeight:"1.5",middleTextColor:"#000000",middleTextFontSize:"16px",middleTextFontWeight:"normal",middleTextPadding:"",middleTextMargin:"",underBtnText:"サンプルテキストサンプルテキストサンプルテキスト",underBtnTextAlign:"",underBtnTextLineHeight:"1.5",underBtnTextColor:"#000000",underBtnTextFontSize:"12px",underBtnTextFontWeight:"normal",underBtnTextPadding:"",underBtnTextMargin:"",buttonLink:"https://www.google.com",linkText:"サンプルリンク",enableCopyOnClick:!1,buttonAlign:"center",buttonColor:"#000000",buttonTextColor:"#ffffff",buttonFontSize:"16px",buttonFontWeight:"normal",buttonPadding:"",buttonMargin:"",buttonBorderRadius:"",buttonBorderStyle:"",buttonBorderWidth:"",buttonBorderColor:"",cartItems:"",amountCondition:"",triggerCondition:"",ga4:{creative_name:"sample_creative_name",creative_slot:"popup",promotion_id:"sample_promotion_id",promotion_name:"sample_promotion_name"}});function i(){ue.show({popupId:"basic",popupName:"基本バナーのテスト",imageUrl:"https://placehold.jp/600x300.png",text:"基本バナーのテスト",buttonText:"OK",ga4:{creative_name:"basic_creative_name",creative_slot:"popup",promotion_id:"basic_promotion_id",promotion_name:"basic_promotion_name"}})}function l(){ue.show({popupId:"eventClick",popupName:"クリックイベントテスト",imageUrl:"https://placehold.jp/600x300.png",text:"クリックした時にアラートを表示",buttonText:"OK",onButtonClick:()=>alert("クリック"),onClose:()=>console.log("閉じる"),ga4:{creative_name:"eventClick_creative_name",creative_slot:"popup",promotion_id:"eventClick_promotion_id",promotion_name:"eventClick_promotion_name"}})}function p(){ue.show({popupId:"trigger",popupName:"triggerConditionテスト",imageUrl:"https://placehold.jp/600x300.png",text:"基本バナーのテスト",buttonText:"OK",triggerCondition:{selectors:[{selector:".cart-item",exists:!0}]},ga4:{creative_name:"trigger_creative_name",creative_slot:"popup",promotion_id:"trigger_promotion_id",promotion_name:"trigger_promotion_name"}})}function c(){ue.show({popupId:"trigger2",popupName:"triggerConditionテスト2",imageUrl:"https://placehold.jp/600x300.png",text:"ページ内に .cart-item と .special-offer が存在する場合に表示されます。",buttonText:"OK",triggerCondition:{selectors:[{selector:".cart-item",exists:!0},{selector:".special-offer",exists:!0}],logic:"AND"},ga4:{creative_name:"trigger2_creative_name",creative_slot:"popup",promotion_id:"trigger2_promotion_id",promotion_name:"trigger2_promotion_name"}})}function g(){ue.show({popupId:"trigger3",popupName:"triggerConditionテスト3",imageUrl:"https://placehold.jp/600x300.png",text:"ページ内の .shopping-info のテキストが「送料無料」の場合に表示されます。",buttonText:"OK",triggerCondition:{selectors:[{selector:".shopping-info",exists:!0,textMatches:"送料無料"}]},ga4:{creative_name:"trigger3_creative_name",creative_slot:"popup",promotion_id:"trigger3_promotion_id",promotion_name:"trigger3_promotion_name"}})}function m(){const o=Array.from(document.querySelectorAll(".cart-items li")).map((f,Y)=>{var W,ve,xe,it,vn;return{id:Y,name:((W=f.querySelector(".cart-item-name"))==null?void 0:W.textContent)||"",price:parseInt(((xe=(ve=f.querySelector(".cart-item-price"))==null?void 0:ve.textContent)==null?void 0:xe.replace(/[^0-9]/g,""))||"0"),quantity:parseInt(((vn=(it=f.querySelector(".cart-item-quantity"))==null?void 0:it.textContent)==null?void 0:vn.replace(/[^0-9]/g,""))||"0")}});ue.show({popupId:"amount",popupName:"amountConditionテスト",imageUrl:"https://placehold.jp/600x300.png",text:"カート内の商品の合計金額が5000円以下の場合に表示されます。",cartItems:o,amountCondition:{operator:"lt",value:5e3},ga4:{creative_name:"amount_creative_name",creative_slot:"popup",promotion_id:"amount_promotion_id",promotion_name:"amount_promotion_name"}})}function C(){ue.show([{popupId:"abTestA",popupName:"A/BテストバナーA",text:"Aバリアントのバナー",imageUrl:"https://placehold.jp/600x300.png",buttonText:"Aを選択",ga4:{creative_name:"abTestA_creative_name",creative_slot:"popup",promotion_id:"abTestA_promotion_id",promotion_name:"abTestA_promotion_name"}},{popupId:"abTestB",popupName:"A/BテストバナーB",text:"Bバリアントのバナー",imageUrl:"https://placehold.jp/600x300.png",buttonText:"Bを選択",ga4:{creative_name:"abTestB_creative_name",creative_slot:"popup",promotion_id:"abTestB_promotion_id",promotion_name:"abTestB_promotion_name"}}])}function _(){ue.show([{popupId:"abTest2A",popupName:"A/BテストバナーA",text:"Aバリアントのバナー",imageUrl:"https://placehold.jp/600x300.png",buttonText:"Aを選択",ga4:{creative_name:"abTest2A_creative_name",creative_slot:"popup",promotion_id:"abTest2A_promotion_id",promotion_name:"abTest2A_promotion_name"}},{popupId:"abTest2B",popupName:"A/BテストバナーB",text:"Bバリアントのバナー",imageUrl:"https://placehold.jp/600x300.png",buttonText:"Bを選択",ga4:{creative_name:"abTest2B_creative_name",creative_slot:"popup",promotion_id:"abTest2B_promotion_id",promotion_name:"abTest2B_promotion_name"}}])}function v(){ue.show({popupId:"queueTest",popupName:"キューテスト1",imageUrl:"https://placehold.jp/600x300.png",text:"1つ目のバナー",ga4:{creative_name:"queueTest_creative_name",creative_slot:"popup",promotion_id:"queueTest_promotion_id",promotion_name:"queueTest_promotion_name"}}),ue.show({popupId:"queueTest2",popupName:"キューテスト2",popupWidth:"300px",dimBackground:!1,imageUrl:"https://placehold.jp/600x300.png",text:"2つ目のバナー",popupPosition:"bottom-right",ga4:{creative_name:"queueTest2_creative_name",creative_slot:"popup",promotion_id:"queueTest2_promotion_id",promotion_name:"queueTest2_promotion_name"}})}function k(){const o={...a(n)};if(a(n).cartItems)try{a(n).cartItems.trim().startsWith("()")?o.cartItems=new Function("return "+a(n).cartItems)()():o.cartItems=JSON.parse(a(n).cartItems)}catch(f){console.warn("cartItems parse error:",f)}if(a(n).amountCondition)try{o.amountCondition=JSON.parse(a(n).amountCondition)}catch{}if(a(n).triggerCondition)try{o.triggerCondition=JSON.parse(a(n).triggerCondition)}catch{}return a(n).ga4&&(a(n).ga4.creative_name||a(n).ga4.promotion_id||a(n).ga4.promotion_name)&&(o.ga4={...a(n).ga4}),a(n).middleText&&(o.text=a(n).middleText),a(n).imageURL&&(o.imageUrl=a(n).imageURL),a(n).imageLink&&(o.imageLink=a(n).imageLink),a(n).imageLinkTarget&&(o.imageLinkTarget=a(n).imageLinkTarget),a(n).linkText&&(o.buttonText=a(n).linkText),a(n).buttonLink&&(o.buttonLink=a(n).buttonLink),Object.keys(o).forEach(f=>{(o[f]===""||o[f]===null||o[f]===void 0||typeof o[f]=="object"&&o[f]!==null&&Object.keys(o[f]).length===0)&&delete o[f]}),o.popupId=a(n).popupId,o.popupName=a(n).popupName,o}function A(){const o=k();ue.show(o)}function R(){const o=k(),f=(W,ve=2)=>{const xe=" ".repeat(ve);if(W==null)return"null";if(typeof W=="string")return`'${W.replace(/'/g,"\\'")}'`;if(typeof W=="number"||typeof W=="boolean")return W.toString();if(Array.isArray(W))return W.length===0?"[]":`[
${W.map(vn=>`${xe}  ${f(vn,ve+2)}`).join(`,
`)}
${xe}]`;if(typeof W=="object"){const it=Object.keys(W);return it.length===0?"{}":`{
${it.map(Za=>`${xe}  ${Za}: ${f(W[Za],ve+2)}`).join(`,
`)}
${xe}}`}return String(W)};return`PopupBanner.show(${f(o,0)});`}let q=O(!1),H=O(!1),N=O("");function U(){y(q,!a(q))}function G(){y(H,!a(H))}function Te(){navigator.clipboard.writeText(a(r)).then(()=>{alert("コードをクリップボードにコピーしました！")}).catch(o=>{console.error("コピーに失敗しました:",o),alert("コピーに失敗しました。手動でコピーしてください。")})}function I(o){try{const f=o.match(/PopupBanner\.show\s*\(\s*({[\s\S]*})\s*\)/);if(!f)throw new Error("PopupBanner.show()の形式が見つかりません");let Y=f[1];return Y=Y.replace(/'/g,'"'),Y=Y.replace(/([{,]\s*)([a-zA-Z_$][a-zA-Z0-9_$]*)\s*:/g,'$1"$2":'),Y=Y.replace(/,(\s*[}\]])/g,"$1"),JSON.parse(Y)}catch(f){throw console.error("コードのパースに失敗しました:",f),new Error(`コードの解析に失敗しました: ${f.message}`)}}function Z(o){const f={popupId:"",popupName:"",bannerNonDisplaySpanHours:"0",shouldSetCookie:!0,startDate:"",endDate:"",popupPosition:"",popupWidth:"",dimBackground:!0,popupBackgroundColor:"",closeButtonColor:"",closeButtonBackgroundColor:"",closeButtonTop:"",closeButtonRight:"",popupPadding:"",popupMargin:"",popupBorderRadius:"",imageURL:"",imagePadding:"",imageMargin:"",imageBorderRadius:"",imageLink:"",imageLinkTarget:"",middleText:"",middleTextAlign:"",middleTextLineHeight:"",middleTextColor:"",middleTextFontSize:"",middleTextFontWeight:"",middleTextPadding:"",middleTextMargin:"",underBtnText:"",underBtnTextAlign:"",underBtnTextLineHeight:"",underBtnTextColor:"",underBtnTextFontSize:"",underBtnTextFontWeight:"",underBtnTextPadding:"",underBtnTextMargin:"",buttonLink:"",linkText:"",enableCopyOnClick:!1,buttonAlign:"",buttonColor:"",buttonTextColor:"",buttonFontSize:"",buttonFontWeight:"",buttonPadding:"",buttonMargin:"",buttonBorderRadius:"",buttonBorderStyle:"",buttonBorderWidth:"",buttonBorderColor:"",cartItems:"",amountCondition:"",triggerCondition:"",ga4:{creative_name:"",creative_slot:"popup",promotion_id:"",promotion_name:""}};o.popupId&&(f.popupId=o.popupId),o.popupName&&(f.popupName=o.popupName),o.bannerNonDisplaySpanHours!==void 0&&(f.bannerNonDisplaySpanHours=String(o.bannerNonDisplaySpanHours)),o.shouldSetCookie!==void 0&&(f.shouldSetCookie=o.shouldSetCookie),o.startDate&&(f.startDate=o.startDate),o.endDate&&(f.endDate=o.endDate),o.popupPosition&&(f.popupPosition=o.popupPosition),o.popupWidth&&(f.popupWidth=o.popupWidth),o.dimBackground!==void 0&&(f.dimBackground=o.dimBackground),o.popupBackgroundColor&&(f.popupBackgroundColor=o.popupBackgroundColor),o.closeButtonColor&&(f.closeButtonColor=o.closeButtonColor),o.closeButtonBackgroundColor&&(f.closeButtonBackgroundColor=o.closeButtonBackgroundColor),o.closeButtonTop&&(f.closeButtonTop=o.closeButtonTop),o.closeButtonRight&&(f.closeButtonRight=o.closeButtonRight),o.popupPadding&&(f.popupPadding=o.popupPadding),o.popupMargin&&(f.popupMargin=o.popupMargin),o.popupBorderRadius&&(f.popupBorderRadius=o.popupBorderRadius),o.imageUrl&&(f.imageURL=o.imageUrl),o.imagePadding&&(f.imagePadding=o.imagePadding),o.imageMargin&&(f.imageMargin=o.imageMargin),o.imageBorderRadius&&(f.imageBorderRadius=o.imageBorderRadius),o.imageLink&&(f.imageLink=o.imageLink),o.imageLinkTarget&&(f.imageLinkTarget=o.imageLinkTarget),o.text&&(f.middleText=o.text),o.middleTextAlign&&(f.middleTextAlign=o.middleTextAlign),o.middleTextLineHeight&&(f.middleTextLineHeight=o.middleTextLineHeight),o.middleTextColor&&(f.middleTextColor=o.middleTextColor),o.middleTextFontSize&&(f.middleTextFontSize=o.middleTextFontSize),o.middleTextFontWeight&&(f.middleTextFontWeight=o.middleTextFontWeight),o.middleTextPadding&&(f.middleTextPadding=o.middleTextPadding),o.middleTextMargin&&(f.middleTextMargin=o.middleTextMargin),o.underBtnText&&(f.underBtnText=o.underBtnText),o.underBtnTextAlign&&(f.underBtnTextAlign=o.underBtnTextAlign),o.underBtnTextLineHeight&&(f.underBtnTextLineHeight=o.underBtnTextLineHeight),o.underBtnTextColor&&(f.underBtnTextColor=o.underBtnTextColor),o.underBtnTextFontSize&&(f.underBtnTextFontSize=o.underBtnTextFontSize),o.underBtnTextFontWeight&&(f.underBtnTextFontWeight=o.underBtnTextFontWeight),o.underBtnTextPadding&&(f.underBtnTextPadding=o.underBtnTextPadding),o.underBtnTextMargin&&(f.underBtnTextMargin=o.underBtnTextMargin),o.buttonLink&&(f.buttonLink=o.buttonLink),o.buttonText&&(f.linkText=o.buttonText),o.enableCopyOnClick!==void 0&&(f.enableCopyOnClick=o.enableCopyOnClick),o.buttonAlign&&(f.buttonAlign=o.buttonAlign),o.buttonColor&&(f.buttonColor=o.buttonColor),o.buttonTextColor&&(f.buttonTextColor=o.buttonTextColor),o.buttonFontSize&&(f.buttonFontSize=o.buttonFontSize),o.buttonFontWeight&&(f.buttonFontWeight=o.buttonFontWeight),o.buttonPadding&&(f.buttonPadding=o.buttonPadding),o.buttonMargin&&(f.buttonMargin=o.buttonMargin),o.buttonBorderRadius&&(f.buttonBorderRadius=o.buttonBorderRadius),o.buttonBorderStyle&&(f.buttonBorderStyle=o.buttonBorderStyle),o.buttonBorderWidth&&(f.buttonBorderWidth=o.buttonBorderWidth),o.buttonBorderColor&&(f.buttonBorderColor=o.buttonBorderColor),o.cartItems&&(f.cartItems=JSON.stringify(o.cartItems,null,2)),o.amountCondition&&(f.amountCondition=JSON.stringify(o.amountCondition,null,2)),o.triggerCondition&&(f.triggerCondition=JSON.stringify(o.triggerCondition,null,2)),o.ga4&&(f.ga4={...f.ga4,...o.ga4}),y(n,f)}function ce(){try{if(!a(N).trim()){alert("コードを入力してください。");return}const o=I(a(N));Z(o),alert("設定を正常に読み込みました！"),y(H,!1),y(N,"")}catch(o){alert(`設定の読み込みに失敗しました:
${o.message}`)}}qo(()=>{Promise.resolve().then(()=>as)}),ae(()=>a(q),()=>{y(r,a(q)?R():"")}),po(),Do();var He=Dl(),Ue=u(Cn(He),4),D=d(Ue),je=d(D),dt=u(je,4);dt.textContent=`
      
PopupBanner.show({
  popupId: 'basic',
  popupName: '基本バナーのテスト',
  imageUrl: 'https://placehold.jp/600x300.png',
  text: '基本バナーのテスト',
  buttonText: 'OK',
  triggerCondition: {
    selectors: [
      { selector: '.cart-item', exists: true }
    ]
  },
  ga4: {
    creative_name: 'basic_creative_name',
    creative_slot: 'popup',
    promotion_id: 'basic_promotion_id',
    promotion_name: 'basic_promotion_name'
  }
});
    `;var ze=u(D,2),pt=d(ze),$t=u(pt,4);$t.textContent=`
      
PopupBanner.show({
  popupId: 'eventClick',
  popupName: 'クリックイベントテスト',
  imageUrl: 'https://placehold.jp/600x300.png',
  text: 'クリックした時にアラートを表示',
  buttonText: 'OK',
  onButtonClick: () => alert('クリック'),
  onClose: () => console.log('閉じる'),
  ga4: {
    creative_name: 'eventClick_creative_name',
    creative_slot: 'popup',
    promotion_id: 'eventClick_promotion_id',
    promotion_name: 'eventClick_promotion_name'
  }
});
    `;var Le=u(ze,2),Vt=d(Le),Gt=u(Vt,6);Gt.textContent=`
      
PopupBanner.show({
  popupId: 'trigger',
  popupName: 'triggerConditionテスト',
  imageUrl: 'https://placehold.jp/600x300.png',
  text: '基本バナーのテスト',
  buttonText: 'OK',
  triggerCondition: {
    selectors: [
      { selector: '.cart-item', exists: true }
    ]
  },
  ga4: {
    creative_name: 'trigger_creative_name',
    creative_slot: 'popup',
    promotion_id: 'trigger_promotion_id',
    promotion_name: 'trigger_promotion_name'
  }
});
    `;var fe=u(Le,2),Pe=d(fe),$e=u(Pe,8);$e.textContent=`
      
PopupBanner.show({
  popupId: 'trigger2',
  popupName: 'triggerConditionテスト2',
  imageUrl: 'https://placehold.jp/600x300.png',
  text: 'ページ内に .cart-item と .special-offer が存在する場合に表示されます。',
  buttonText: 'OK',
  triggerCondition: {
    "selectors": [
      { "selector": ".cart-item", "exists": true },
      { "selector": ".special-offer", "exists": true }
    ],
    "logic": "AND"
  },
  ga4: {
    creative_name: 'trigger2_creative_name',
    creative_slot: 'popup',
    promotion_id: 'trigger2_promotion_id',
    promotion_name: 'trigger2_promotion_name'
  }
});
    `;var ct=u(fe,2),Ve=d(ct),ft=u(Ve,6);ft.textContent=`
      
PopupBanner.show({
  popupId: 'trigger3',
  popupName: 'triggerConditionテスト3',
  imageUrl: 'https://placehold.jp/600x300.png',
  text: 'ページ内の .shopping-info のテキストが「送料無料」の場合に表示されます。',
  buttonText: 'OK',
  triggerCondition: {
    "selectors": [
      { "selector": ".shopping-info", "exists": true, "textMatches": "送料無料" }
    ]
  },
  ga4: {
    creative_name: 'trigger3_creative_name',
    creative_slot: 'popup',
    promotion_id: 'trigger3_promotion_id',
    promotion_name: 'trigger3_promotion_name'
  }
});
    `;var Ge=u(ct,2),Ke=d(Ge),gt=u(Ke,6);gt.textContent=`
      
// カート内の商品の合計金額を計算
// 以下の形式にして、dataCartItemsに格納する
// [
//   { id: '1', name: 'A', price: 2000, quantity: 1 },
//   { id: '2', name: 'B', price: 1500, quantity: 1 }
// ]
const dataCartItems = Array.from(document.querySelectorAll('.cart-items li'))
  .map((item, index) => ({
    id: index,
    name: item.querySelector('.cart-item-name')?.textContent || '',
    price: parseInt(item.querySelector('.cart-item-price')?.textContent?.replace(/[^0-9]/g, '') || '0'),
    quantity: parseInt(item.querySelector('.cart-item-quantity')?.textContent?.replace(/[^0-9]/g, '') || '0')
  }));

PopupBanner.show({
  popupId: 'amount',
  popupName: 'amountConditionテスト',
  text: 'amountConditionテスト',
  cartItems: dataCartItems,
  amountCondition: { operator: 'lt', value: 5000 },
  ga4: {
    creative_name: 'amount_creative_name',
    creative_slot: 'popup',
    promotion_id: 'amount_promotion_id',
    promotion_name: 'amount_promotion_name'
  }
});
    `;var Ye=u(Ge,2),Je=d(Ye),Kt=u(Je,4);Kt.textContent=`
      
PopupBanner.show([
  {
    popupId: 'abTestA',
    popupName: 'A/BテストバナーA',
    text: 'Aバリアントのバナー',
    imageUrl: 'https://placehold.jp/600x300.png',
    buttonText: 'Aを選択',
    ga4: {
      creative_name: 'abTestA_creative_name',
      creative_slot: 'popup',
      promotion_id: 'abTestA_promotion_id',
      promotion_name: 'abTestA_promotion_name'
    }
  },
  {
    popupId: 'abTestB',
    popupName: 'A/BテストバナーB',
    text: 'Bバリアントのバナー',
    imageUrl: 'https://placehold.jp/600x300.png',
    buttonText: 'Bを選択',
    ga4: {
      creative_name: 'abTestB_creative_name',
      creative_slot: 'popup',
      promotion_id: 'abTestB_promotion_id',
      promotion_name: 'abTestB_promotion_name'
    }
  }
]);

    `;var Qe=u(Ye,2),Ze=d(Qe),mt=u(Ze,4);mt.textContent=`
          
PopupBanner.show([
  {
    popupId: 'abTest2A',
    popupName: 'A/BテストバナーA',
    text: 'Aバリアントのバナー',
    imageUrl: 'https://placehold.jp/600x300.png',
    buttonText: 'Aを選択',
    ga4: {
      creative_name: 'abTest2A_creative_name',
      creative_slot: 'popup',
      promotion_id: 'abTest2A_promotion_id',
      promotion_name: 'abTest2A_promotion_name'
    }
  },
  {
    popupId: 'abTest2B',
    popupName: 'A/BテストバナーB',
    text: 'Bバリアントのバナー',
    imageUrl: 'https://placehold.jp/600x300.png',
    buttonText: 'Bを選択',
    ga4: {
      creative_name: 'abTest2B_creative_name',
      creative_slot: 'popup',
      promotion_id: 'abTest2B_promotion_id',
      promotion_name: 'abTest2B_promotion_name'
    }
  }
]);

        `;var vt=u(Qe,2),Xe=d(vt),xt=u(Xe,4);xt.textContent=`
          
PopupBanner.show({
  popupId: 'queueTest',
  popupName: 'キューテスト1',
  imageUrl: 'https://placehold.jp/600x300.png',
  text: '1つ目のバナー',
  ga4: {
    creative_name: 'queueTest_creative_name',
    creative_slot: 'popup',
    promotion_id: 'queueTest_promotion_id',
    promotion_name: 'queueTest_promotion_name'
  }
});
PopupBanner.show({
  popupId: 'queueTest2',
  popupName: 'キューテスト2',
  imageUrl: 'https://placehold.jp/600x300.png',
  text: '2つ目のバナー',
  ga4: {
    creative_name: 'queueTest2_creative_name',
    creative_slot: 'popup',
    promotion_id: 'queueTest2_promotion_id',
    promotion_name: 'queueTest2_promotion_name'
  }
});

        `;var Ee=u(Ue,2),et=u(d(Ee),2),tt=u(d(et),2),_t=d(tt),bt=u(tt,4),ht=d(bt),Yt=u(et,4),Tt=u(d(Yt),2),Bt=d(Tt),nt=u(Tt,4),Ct=d(nt),rt=u(nt,4),yt=d(rt),kt=u(rt,4),wt=d(kt),At=u(Yt,6),Be=u(d(At),2),ge=d(Be);j(()=>{a(n),So(()=>{})});var X=d(ge);X.value=X.__value="center";var Ce=u(X);Ce.value=Ce.__value="top";var St=u(Ce);St.value=St.__value="bottom";var w=u(St);w.value=w.__value="middle-right";var K=u(w);K.value=K.__value="middle-left";var Ie=u(K);Ie.value=Ie.__value="bottom-right";var Fn=u(Ie);Fn.value=Fn.__value="bottom-left";var dn=u(Be,4),Rn=d(dn),pn=u(dn,4),wr=d(pn),cn=u(pn,4),Dn=d(cn),Lt=u(Dn,2);pe(Lt,1,"banner-form-colorpicker svelte-x5xgas"),j(()=>Oe(Lt,"value",(a(n),$(()=>a(n).popupBackgroundColor))));var Wn=u(cn,4),Ar=d(Wn),fn=u(Wn,4),On=d(fn),Sr=u(fn,4),Lr=d(Sr),qn=u(At,4),s=u(d(qn),2),ye=d(s),Jt=u(ye,2);pe(Jt,1,"banner-form-colorpicker svelte-x5xgas"),j(()=>Oe(Jt,"value",(a(n),$(()=>a(n).closeButtonColor))));var Hn=u(s,4),gn=d(Hn),ot=u(gn,2);pe(ot,1,"banner-form-colorpicker svelte-x5xgas"),j(()=>Oe(ot,"value",(a(n),$(()=>a(n).closeButtonBackgroundColor))));var Pt=u(Hn,4),Un=d(Pt),Pr=u(Pt,4),jn=d(Pr),zn=u(qn,4),mn=u(d(zn),2),Er=d(mn),$n=u(mn,4),Ir=d($n),M=u($n,4),F=d(M),ke=u(M,4),Mr=d(ke),Vn=u(ke,4),at=d(Vn),me=u(Vn,4),Qt=d(me);j(()=>{a(n),So(()=>{})});var Nr=d(Qt);Nr.value=Nr.__value="_blank";var Fr=u(Nr);Fr.value=Fr.__value="_self";var Rr=u(Fr);Rr.value=Rr.__value="_parent";var ea=u(Rr);ea.value=ea.__value="_top";var ta=u(zn,4),na=u(d(ta),2),is=d(na),ra=u(na,4),ls=d(ra),oa=u(ra,4),ss=d(oa),aa=u(oa,4),ia=d(aa),Dr=u(ia,2);pe(Dr,1,"banner-form-colorpicker svelte-x5xgas"),j(()=>Oe(Dr,"value",(a(n),$(()=>a(n).middleTextColor))));var la=u(aa,4),us=d(la),sa=u(la,4),ds=d(sa),ua=u(sa,4),ps=d(ua),cs=u(ua,4),fs=d(cs),da=u(ta,4),pa=u(d(da),2),gs=d(pa),ca=u(pa,4),ms=d(ca),fa=u(ca,4),vs=d(fa),ga=u(fa,4),ma=d(ga),Wr=u(ma,2);pe(Wr,1,"banner-form-colorpicker svelte-x5xgas"),j(()=>Oe(Wr,"value",(a(n),$(()=>a(n).underBtnTextColor))));var va=u(ga,4),xs=d(va),xa=u(va,4),_s=d(xa),_a=u(xa,4),bs=d(_a),hs=u(_a,4),Ts=d(hs),ba=u(da,4),ha=u(d(ba),2),Bs=d(ha),Ta=u(ha,4),Cs=d(Ta),Ba=u(Ta,4),ys=d(Ba),Ca=u(Ba,4),ks=d(Ca),ya=u(Ca,4),ka=d(ya),Or=u(ka,2);pe(Or,1,"banner-form-colorpicker svelte-x5xgas"),j(()=>Oe(Or,"value",(a(n),$(()=>a(n).buttonColor))));var wa=u(ya,4),Aa=d(wa),qr=u(Aa,2);pe(qr,1,"banner-form-colorpicker svelte-x5xgas"),j(()=>Oe(qr,"value",(a(n),$(()=>a(n).buttonTextColor))));var Sa=u(wa,4),ws=d(Sa),La=u(Sa,4),As=d(La),Pa=u(La,4),Ss=d(Pa),Ea=u(Pa,4),Ls=d(Ea),Ia=u(Ea,4),Ps=d(Ia),Ma=u(Ia,4),Es=d(Ma),Na=u(Ma,4),Is=d(Na),Ms=u(Na,4),Fa=d(Ms),Hr=u(Fa,2);pe(Hr,1,"banner-form-colorpicker svelte-x5xgas"),j(()=>Oe(Hr,"value",(a(n),$(()=>a(n).buttonBorderColor))));var Ra=u(ba,4),Da=u(d(Ra),2),Wa=d(Da),Ns=u(Wa,2),Oa=u(d(Ns),2);Oa.textContent=`[
  {"id":"1","name":"商品A","price":1000,"quantity":1},
  {"id":"2","name":"商品B","price":2000,"quantity":2}
]`;var Fs=u(Oa,4);Fs.textContent=`() => [
  {"id":"1","name":"商品A","price":1000,"quantity":1},
  {"id":"2","name":"商品B","price":2000,"quantity":2}
]`;var qa=u(Da,4),Ha=d(qa),Rs=u(Ha,2),Ua=u(d(Rs),2);Ua.textContent=`{
  "operator": "gte",
  "value": 3000
}`;var Ds=u(Ua,4);Ds.textContent=`{
  "operator": "lt",
  "value": 5000
}`;var Ws=u(qa,4),ja=d(Ws),Os=u(ja,2),za=u(d(Os),2);za.textContent=`{
  "selectors": [
    {"selector": ".cart-item", "exists": true}
  ],
  "logic": "AND"
}`;var $a=u(za,4);$a.textContent=`{
  "selectors": [
    {"selector": ".cart-item", "exists": true},
    {"selector": ".special-offer", "exists": true}
  ],
  "logic": "AND"
}`;var qs=u($a,4);qs.textContent=`{
  "selectors": [
    {
      "selector": ".shopping-info",
      "exists": true,
      "textMatches": "送料無料"
    }
  ]
}`;var Va=u(Ra,4),Ga=u(d(Va),2),Hs=d(Ga),Ka=u(Ga,4),Us=d(Ka),Ya=u(Ka,4),js=d(Ya),zs=u(Ya,4),$s=d(zs),Vs=u(Va,2),Ur=u(d(Vs),2),Gs=d(Ur),Ja=u(Ur,2),Ks=d(Ja),Qa=u(Ee,2);{var Ys=o=>{var f=Fl(),Y=u(d(f),4),W=u(Y,2),ve=d(W),xe=u(ve,2);T(Y,()=>a(N),it=>y(N,it)),L("click",ve,ce),L("click",xe,()=>y(N,"")),re(o,f)};he(Qa,o=>{a(H)&&o(Ys)})}var Js=u(Qa,2);{var Qs=o=>{var f=Rl(),Y=d(f),W=u(d(Y),2),ve=u(Y,2),xe=d(ve);j(()=>Ot(xe,a(r))),L("click",W,Te),re(o,f)};he(Js,o=>{a(q)&&o(Qs)})}j(()=>{Ot(Gs,a(q)?"コードジェネレーターを閉じる":"コードを生成"),Ot(Ks,a(H)?"インポーターを閉じる":"設定を読み込む")}),L("click",je,i),L("click",pt,l),L("click",Vt,p),L("click",Pe,c),L("click",Ve,g),L("click",Ke,m),L("click",Je,C),L("click",Ze,_),L("click",Xe,v),T(_t,()=>a(n).popupId,o=>x(n,a(n).popupId=o)),T(ht,()=>a(n).popupName,o=>x(n,a(n).popupName=o)),T(Bt,()=>a(n).bannerNonDisplaySpanHours,o=>x(n,a(n).bannerNonDisplaySpanHours=o)),mr(Ct,()=>a(n).shouldSetCookie,o=>x(n,a(n).shouldSetCookie=o)),T(yt,()=>a(n).startDate,o=>x(n,a(n).startDate=o)),T(wt,()=>a(n).endDate,o=>x(n,a(n).endDate=o)),No(ge,()=>a(n).popupPosition,o=>x(n,a(n).popupPosition=o)),T(Rn,()=>a(n).popupWidth,o=>x(n,a(n).popupWidth=o)),mr(wr,()=>a(n).dimBackground,o=>x(n,a(n).dimBackground=o)),T(Dn,()=>a(n).popupBackgroundColor,o=>x(n,a(n).popupBackgroundColor=o)),L("color-changed",Lt,o=>x(n,a(n).popupBackgroundColor=o.detail.value)),T(Ar,()=>a(n).popupPadding,o=>x(n,a(n).popupPadding=o)),T(On,()=>a(n).popupMargin,o=>x(n,a(n).popupMargin=o)),T(Lr,()=>a(n).popupBorderRadius,o=>x(n,a(n).popupBorderRadius=o)),T(ye,()=>a(n).closeButtonColor,o=>x(n,a(n).closeButtonColor=o)),L("color-changed",Jt,o=>x(n,a(n).closeButtonColor=o.detail.value)),T(gn,()=>a(n).closeButtonBackgroundColor,o=>x(n,a(n).closeButtonBackgroundColor=o)),L("color-changed",ot,o=>x(n,a(n).closeButtonBackgroundColor=o.detail.value)),T(Un,()=>a(n).closeButtonTop,o=>x(n,a(n).closeButtonTop=o)),T(jn,()=>a(n).closeButtonRight,o=>x(n,a(n).closeButtonRight=o)),T(Er,()=>a(n).imageURL,o=>x(n,a(n).imageURL=o)),T(Ir,()=>a(n).imagePadding,o=>x(n,a(n).imagePadding=o)),T(F,()=>a(n).imageMargin,o=>x(n,a(n).imageMargin=o)),T(Mr,()=>a(n).imageBorderRadius,o=>x(n,a(n).imageBorderRadius=o)),T(at,()=>a(n).imageLink,o=>x(n,a(n).imageLink=o)),No(Qt,()=>a(n).imageLinkTarget,o=>x(n,a(n).imageLinkTarget=o)),T(is,()=>a(n).middleText,o=>x(n,a(n).middleText=o)),T(ls,()=>a(n).middleTextAlign,o=>x(n,a(n).middleTextAlign=o)),T(ss,()=>a(n).middleTextLineHeight,o=>x(n,a(n).middleTextLineHeight=o)),T(ia,()=>a(n).middleTextColor,o=>x(n,a(n).middleTextColor=o)),L("color-changed",Dr,o=>x(n,a(n).middleTextColor=o.detail.value)),T(us,()=>a(n).middleTextFontSize,o=>x(n,a(n).middleTextFontSize=o)),T(ds,()=>a(n).middleTextFontWeight,o=>x(n,a(n).middleTextFontWeight=o)),T(ps,()=>a(n).middleTextPadding,o=>x(n,a(n).middleTextPadding=o)),T(fs,()=>a(n).middleTextMargin,o=>x(n,a(n).middleTextMargin=o)),T(gs,()=>a(n).underBtnText,o=>x(n,a(n).underBtnText=o)),T(ms,()=>a(n).underBtnTextAlign,o=>x(n,a(n).underBtnTextAlign=o)),T(vs,()=>a(n).underBtnTextLineHeight,o=>x(n,a(n).underBtnTextLineHeight=o)),T(ma,()=>a(n).underBtnTextColor,o=>x(n,a(n).underBtnTextColor=o)),L("color-changed",Wr,o=>x(n,a(n).underBtnTextColor=o.detail.value)),T(xs,()=>a(n).underBtnTextFontSize,o=>x(n,a(n).underBtnTextFontSize=o)),T(_s,()=>a(n).underBtnTextFontWeight,o=>x(n,a(n).underBtnTextFontWeight=o)),T(bs,()=>a(n).underBtnTextPadding,o=>x(n,a(n).underBtnTextPadding=o)),T(Ts,()=>a(n).underBtnTextMargin,o=>x(n,a(n).underBtnTextMargin=o)),T(Bs,()=>a(n).buttonLink,o=>x(n,a(n).buttonLink=o)),T(Cs,()=>a(n).linkText,o=>x(n,a(n).linkText=o)),mr(ys,()=>a(n).enableCopyOnClick,o=>x(n,a(n).enableCopyOnClick=o)),T(ks,()=>a(n).buttonAlign,o=>x(n,a(n).buttonAlign=o)),T(ka,()=>a(n).buttonColor,o=>x(n,a(n).buttonColor=o)),L("color-changed",Or,o=>x(n,a(n).buttonColor=o.detail.value)),T(Aa,()=>a(n).buttonTextColor,o=>x(n,a(n).buttonTextColor=o)),L("color-changed",qr,o=>x(n,a(n).buttonTextColor=o.detail.value)),T(ws,()=>a(n).buttonFontSize,o=>x(n,a(n).buttonFontSize=o)),T(As,()=>a(n).buttonFontWeight,o=>x(n,a(n).buttonFontWeight=o)),T(Ss,()=>a(n).buttonPadding,o=>x(n,a(n).buttonPadding=o)),T(Ls,()=>a(n).buttonMargin,o=>x(n,a(n).buttonMargin=o)),T(Ps,()=>a(n).buttonBorderRadius,o=>x(n,a(n).buttonBorderRadius=o)),T(Es,()=>a(n).buttonBorderStyle,o=>x(n,a(n).buttonBorderStyle=o)),T(Is,()=>a(n).buttonBorderWidth,o=>x(n,a(n).buttonBorderWidth=o)),T(Fa,()=>a(n).buttonBorderColor,o=>x(n,a(n).buttonBorderColor=o)),L("color-changed",Hr,o=>x(n,a(n).buttonBorderColor=o.detail.value)),T(Wa,()=>a(n).cartItems,o=>x(n,a(n).cartItems=o)),T(Ha,()=>a(n).amountCondition,o=>x(n,a(n).amountCondition=o)),T(ja,()=>a(n).triggerCondition,o=>x(n,a(n).triggerCondition=o)),T(Hs,()=>a(n).ga4.creative_name,o=>x(n,a(n).ga4.creative_name=o)),T(Us,()=>a(n).ga4.creative_slot,o=>x(n,a(n).ga4.creative_slot=o)),T(js,()=>a(n).ga4.promotion_id,o=>x(n,a(n).ga4.promotion_id=o)),T($s,()=>a(n).ga4.promotion_name,o=>x(n,a(n).ga4.promotion_name=o)),L("click",Ur,U),L("click",Ja,G),L("submit",Ee,ll(A)),re(e,He),tr()}const Ol=Io(Wl,{target:document.getElementById("app")}),jt=(e,t=0,r=1)=>e>r?r:e<t?t:e,V=(e,t=0,r=Math.pow(10,t))=>Math.round(r*e)/r,ql=e=>zl(_r(e)),_r=e=>(e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?V(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?V(parseInt(e.substring(6,8),16)/255,2):1}),Hl=e=>jl(Ul(e)),$o=({h:e,s:t,v:r,a:n})=>{const i=(200-t)*r/100;return{h:V(e),s:V(i>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0),l:V(i/2),a:V(n,2)}},br=e=>{const{h:t,s:r,l:n}=$o(e);return`hsl(${t}, ${r}%, ${n}%)`},hr=e=>{const{h:t,s:r,l:n,a:i}=$o(e);return`hsla(${t}, ${r}%, ${n}%, ${i})`},Ul=({h:e,s:t,v:r,a:n})=>{e=e/360*6,t=t/100,r=r/100;const i=Math.floor(e),l=r*(1-t),p=r*(1-(e-i)*t),c=r*(1-(1-e+i)*t),g=i%6;return{r:V([r,p,l,l,c,r][g]*255),g:V([c,r,r,p,l,l][g]*255),b:V([l,l,c,r,r,p][g]*255),a:V(n,2)}},En=e=>{const t=e.toString(16);return t.length<2?"0"+t:t},jl=({r:e,g:t,b:r,a:n})=>{const i=n<1?En(V(n*255)):"";return"#"+En(e)+En(t)+En(r)+i},zl=({r:e,g:t,b:r,a:n})=>{const i=Math.max(e,t,r),l=i-Math.min(e,t,r),p=l?i===e?(t-r)/l:i===t?2+(r-e)/l:4+(e-t)/l:0;return{h:V(60*(p<0?p+6:p)),s:V(i?l/i*100:0),v:V(i/255*100),a:n}},Vo=(e,t)=>{if(e===t)return!0;for(const r in e)if(e[r]!==t[r])return!1;return!0},$l=(e,t)=>e.toLowerCase()===t.toLowerCase()?!0:Vo(_r(e),_r(t)),Go={},Ko=e=>{let t=Go[e];return t||(t=document.createElement("template"),t.innerHTML=e,Go[e]=t),t},Tr=(e,t,r)=>{e.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:r}))};let zt=!1;const Br=e=>"touches"in e,Vl=e=>zt&&!Br(e)?!1:(zt||(zt=Br(e)),!0),Yo=(e,t)=>{const r=Br(t)?t.touches[0]:t,n=e.el.getBoundingClientRect();Tr(e.el,"move",e.getMove({x:jt((r.pageX-(n.left+window.pageXOffset))/n.width),y:jt((r.pageY-(n.top+window.pageYOffset))/n.height)}))},Gl=(e,t)=>{const r=t.keyCode;r>40||e.xy&&r<37||r<33||(t.preventDefault(),Tr(e.el,"move",e.getMove({x:r===39?.01:r===37?-.01:r===34?.05:r===33?-.05:r===35?1:r===36?-1:0,y:r===40?.01:r===38?-.01:0},!0)))};class Cr{constructor(t,r,n,i){const l=Ko(`<div role="slider" tabindex="0" part="${r}" ${n}><div part="${r}-pointer"></div></div>`);t.appendChild(l.content.cloneNode(!0));const p=t.querySelector(`[part=${r}]`);p.addEventListener("mousedown",this),p.addEventListener("touchstart",this),p.addEventListener("keydown",this),this.el=p,this.xy=i,this.nodes=[p.firstChild,p]}set dragging(t){const r=t?document.addEventListener:document.removeEventListener;r(zt?"touchmove":"mousemove",this),r(zt?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!Vl(t)||!zt&&t.button!=0)return;this.el.focus(),Yo(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),Yo(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":Gl(this,t);break}}style(t){t.forEach((r,n)=>{for(const i in r)this.nodes[n].style.setProperty(i,r[i])})}}class Kl extends Cr{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:`${t/360*100}%`,color:br({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${V(t)}`)}getMove(t,r){return{h:r?jt(this.h+t.x*360,0,360):360*t.x}}}class Yl extends Cr{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:`${100-t.v}%`,left:`${t.s}%`,color:br(t)},{"background-color":br({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${V(t.s)}%, Brightness ${V(t.v)}%`)}getMove(t,r){return{s:r?jt(this.hsva.s+t.x*100,0,100):t.x*100,v:r?jt(this.hsva.v-t.y*100,0,100):Math.round(100-t.y*100)}}}const Jl=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',Ql="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",Zl="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",In=Symbol("same"),yr=Symbol("color"),Jo=Symbol("hsva"),kr=Symbol("update"),Qo=Symbol("parts"),Mn=Symbol("css"),Nn=Symbol("sliders");class Xl extends HTMLElement{static get observedAttributes(){return["color"]}get[Mn](){return[Jl,Ql,Zl]}get[Nn](){return[Yl,Kl]}get color(){return this[yr]}set color(t){if(!this[In](t)){const r=this.colorModel.toHsva(t);this[kr](r),this[yr]=t}}constructor(){super();const t=Ko(`<style>${this[Mn].join("")}</style>`),r=this.attachShadow({mode:"open"});r.appendChild(t.content.cloneNode(!0)),r.addEventListener("move",this),this[Qo]=this[Nn].map(n=>new n(r))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,r,n){const i=this.colorModel.fromAttr(n);this[In](i)||(this.color=i)}handleEvent(t){const r=this[Jo],n={...r,...t.detail};this[kr](n);let i;!Vo(n,r)&&!this[In](i=this.colorModel.fromHsva(n))&&(this[yr]=i,Tr(this,"color-changed",{value:i}))}[In](t){return this.color&&this.colorModel.equal(t,this.color)}[kr](t){this[Jo]=t,this[Qo].forEach(r=>r.update(t))}}class es extends Cr{constructor(t){super(t,"alpha",'aria-label="Alpha" aria-valuemin="0" aria-valuemax="1"',!1)}update(t){this.hsva=t;const r=hr({...t,a:0}),n=hr({...t,a:1}),i=t.a*100;this.style([{left:`${i}%`,color:hr(t)},{"--gradient":`linear-gradient(90deg, ${r}, ${n}`}]);const l=V(i);this.el.setAttribute("aria-valuenow",`${l}`),this.el.setAttribute("aria-valuetext",`${l}%`)}getMove(t,r){return{a:r?jt(this.hsva.a+t.x):t.x}}}const ts=`[part=alpha]{flex:0 0 24px}[part=alpha]::after{display:block;content:"";position:absolute;top:0;left:0;right:0;bottom:0;border-radius:inherit;background-image:var(--gradient);box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part^=alpha]{background-color:#fff;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>')}[part=alpha-pointer]{top:50%}`;class ns extends Xl{get[Mn](){return[...super[Mn],ts]}get[Nn](){return[...super[Nn],es]}}const rs={defaultColor:"#0001",toHsva:ql,fromHsva:Hl,equal:$l,fromAttr:e=>e};class os extends ns{get colorModel(){return rs}}class Zo extends os{}customElements.define("hex-alpha-color-picker",Zo);const as=Object.freeze(Object.defineProperty({__proto__:null,HexAlphaColorPicker:Zo},Symbol.toStringTag,{value:"Module"}));return Ol});
