(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".popup-container.svelte-1wq3mwc{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;pointer-events:none;z-index:10000;padding:20px;box-sizing:border-box}.popup-container.position-center.svelte-1wq3mwc{justify-content:center;align-items:center}.popup-container.position-top.svelte-1wq3mwc{justify-content:center;align-items:flex-start}.popup-container.position-top-left.svelte-1wq3mwc{justify-content:flex-start;align-items:flex-start}.popup-container.position-top-right.svelte-1wq3mwc{justify-content:flex-end;align-items:flex-start}.popup-container.position-bottom.svelte-1wq3mwc{justify-content:center;align-items:flex-end}.popup-container.position-middle-left.svelte-1wq3mwc{justify-content:flex-start;align-items:center}.popup-container.position-middle-right.svelte-1wq3mwc{justify-content:flex-end;align-items:center}.popup-container.position-bottom-left.svelte-1wq3mwc{justify-content:flex-start;align-items:flex-end}.popup-container.position-bottom-right.svelte-1wq3mwc{justify-content:flex-end;align-items:flex-end}.popup-container.svelte-1wq3mwc:not([class*=position-]){justify-content:center;align-items:flex-start}.popup-banner.svelte-1wq3mwc{border-radius:8px;box-shadow:0 2px 8px #00000026;padding:40px 0 20px;max-width:400px;width:84%;box-sizing:border-box;background:#fff;pointer-events:auto;position:relative}@media (max-width: 600px){.popup-banner.svelte-1wq3mwc{max-width:100%;width:100%}}.close-btn.svelte-1wq3mwc{position:absolute;top:-12px;right:-12px;background:transparent;border:none;font-size:24px;cursor:pointer;z-index:1;background:#fff;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#999}.banner-image.svelte-1wq3mwc{display:block;max-width:100%;margin:0 auto}.banner-image.clickable.svelte-1wq3mwc{cursor:pointer}.banner-image.clickable.svelte-1wq3mwc:hover{opacity:.8;transition:opacity .2s ease}.banner-text.svelte-1wq3mwc{margin:16px;font-size:1.1em;text-align:center}.banner-btn.svelte-1wq3mwc{display:block;margin:0 auto;padding:8px 24px;font-size:1em;border-radius:4px;border:none;background:#0070f3;color:#fff;cursor:pointer}.banner-btn.clickable.svelte-1wq3mwc:hover{opacity:.8;transition:opacity .2s ease}.under-btn-text.svelte-1wq3mwc{margin:8px 16px;font-size:.9em;text-align:center}.dim-bg.svelte-1wq3mwc{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:9999}.popup-banner.svelte-1wq3mwc{--animation-duration: .3s;--animation-easing: ease-out}.popup-banner.animate-fade-in-up.svelte-1wq3mwc{animation:svelte-1wq3mwc-fadeInUp var(--animation-duration) var(--animation-easing) forwards}.popup-banner.animate-fade-in-down.svelte-1wq3mwc{animation:svelte-1wq3mwc-fadeInDown var(--animation-duration) var(--animation-easing) forwards}.popup-banner.animate-fade-in.svelte-1wq3mwc{animation:svelte-1wq3mwc-fadeIn var(--animation-duration) var(--animation-easing) forwards}.popup-banner.animate-scale-in.svelte-1wq3mwc{animation:svelte-1wq3mwc-scaleIn var(--animation-duration) var(--animation-easing) forwards}@keyframes svelte-1wq3mwc-fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes svelte-1wq3mwc-fadeInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes svelte-1wq3mwc-fadeIn{0%{opacity:0}to{opacity:1}}@keyframes svelte-1wq3mwc-scaleIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.banner-test-list.svelte-x5xgas{list-style:none;padding:0;margin:0;display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.banner-test-list.svelte-x5xgas>li:where(.svelte-x5xgas){margin-bottom:16px;padding:16px;background:#fafbfc;border:1px solid #ddd;border-radius:12px;box-shadow:0 2px 8px #0000000a}.banner-test-list.svelte-x5xgas>li:where(.svelte-x5xgas) p:where(.svelte-x5xgas){margin-top:8px;font-size:.9em;color:#666}.banner-test-code.svelte-x5xgas{margin-top:8px;font-size:.9em;color:#666;background:#ebe9e9;border-radius:12px;overflow-x:auto;padding:0 0 15px 20px}.banner-form.svelte-x5xgas{margin-bottom:32px;max-width:700px;padding:24px 16px;background:#fafbfc;border:1px solid #ddd;border-radius:12px;box-shadow:0 2px 8px #0000000a}.banner-form-grid.svelte-x5xgas{display:grid;grid-template-columns:200px 1fr;row-gap:14px;column-gap:12px}.banner-form-label.svelte-x5xgas{color:#222;font-size:.98em}.banner-form-input.svelte-x5xgas,.banner-form-input-wide.svelte-x5xgas{width:calc(100% - 20px);padding:4px 8px;font-size:1em;border:1px solid #ccc;border-radius:4px;background:#fff}.banner-form-input-color.svelte-x5xgas{width:120px;margin-bottom:4px;margin-top:4px;padding:4px 8px;font-size:1em;border:1px solid #ccc;border-radius:4px;background:#fff}.banner-form-checkbox.svelte-x5xgas{transform:scale(1.2);margin-right:6px}.banner-form-card.svelte-x5xgas{background:#fff;border:1px solid #e0e0e0;border-radius:8px;padding:10px 8px;overflow-x:auto}.banner-form-submit.svelte-x5xgas{padding:8px 32px;font-size:1.1em;border-radius:6px;background:#1976d2;color:#fff;border:none;cursor:pointer;margin-top:16px}.banner-form-example.svelte-x5xgas{margin-top:8px;padding:12px;background:#f8f9fa;border-radius:6px;border:1px solid #e9ecef}.banner-form-example.svelte-x5xgas p:where(.svelte-x5xgas){margin:0 0 6px;font-size:.9em;color:#495057}.banner-form-example-code.svelte-x5xgas{margin:0 0 12px;padding:8px;background:#fff;border:1px solid #dee2e6;border-radius:4px;font-size:.85em;color:#212529;overflow-x:auto;white-space:pre}.banner-form-note.svelte-x5xgas{margin:8px 0 0!important;padding:6px 8px;background:#e3f2fd;border-radius:4px;font-size:.8em;color:#1565c0;border-left:3px solid #2196f3}.banner-form-code-btn.svelte-x5xgas{margin-left:12px;padding:8px 24px;font-size:1em;border-radius:6px;background:#4caf50;color:#fff;border:none;cursor:pointer}.banner-form-code-btn.svelte-x5xgas:hover{background:#45a049}.banner-form-import-btn.svelte-x5xgas{margin-left:12px;padding:8px 24px;font-size:1em;border-radius:6px;background:#ff9800;color:#fff;border:none;cursor:pointer}.banner-form-import-btn.svelte-x5xgas:hover{background:#f57c00}.code-generator.svelte-x5xgas{margin-top:24px;padding:20px;background:#f8f9fa;border:1px solid #dee2e6;border-radius:8px;box-shadow:0 2px 8px #00000014}.code-generator-header.svelte-x5xgas{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.code-generator-header.svelte-x5xgas h3:where(.svelte-x5xgas){margin:0;color:#212529;font-size:1.2em}.copy-button.svelte-x5xgas{padding:6px 12px;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:.9em;display:flex;align-items:center;gap:4px}.copy-button.svelte-x5xgas:hover{background:#0056b3}.generated-code.svelte-x5xgas{background:#fff;border:1px solid #ced4da;border-radius:6px;padding:16px;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:.9em;line-height:1.4;overflow-x:auto;white-space:pre;color:#212529;margin:0}.code-generator-note.svelte-x5xgas{margin:12px 0 0;font-size:.85em;color:#6c757d;font-style:italic}.code-importer.svelte-x5xgas{margin-top:24px;padding:20px;background:#fff3e0;border:1px solid #ffcc02;border-radius:8px;box-shadow:0 2px 8px #00000014}.code-importer-header.svelte-x5xgas{margin-bottom:16px}.code-importer-header.svelte-x5xgas h3:where(.svelte-x5xgas){margin:0;color:#e65100;font-size:1.2em}.code-importer-description.svelte-x5xgas{margin:0 0 12px;font-size:.9em;color:#bf360c;line-height:1.4}.import-code-textarea.svelte-x5xgas{width:100%;padding:12px;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:.9em;line-height:1.4;border:1px solid #ff9800;border-radius:6px;background:#fff;color:#212529;resize:vertical;box-sizing:border-box}.import-code-textarea.svelte-x5xgas::placeholder{color:#9e9e9e;font-size:.85em}.code-importer-actions.svelte-x5xgas{margin-top:12px;display:flex;gap:8px}.load-button.svelte-x5xgas{padding:8px 16px;background:#ff9800;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:.9em;display:flex;align-items:center;gap:4px}.load-button.svelte-x5xgas:hover{background:#f57c00}.clear-button.svelte-x5xgas{padding:8px 16px;background:#6c757d;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:.9em;display:flex;align-items:center;gap:4px}.clear-button.svelte-x5xgas:hover{background:#5a6268}")),document.head.appendChild(e)}}catch(o){console.error("vite-plugin-css-injected-by-js",o)}})();
(function(vn,Ie){typeof exports=="object"&&typeof module<"u"?module.exports=Ie():typeof define=="function"&&define.amd?define(Ie):(vn=typeof globalThis<"u"?globalThis:vn||self,vn.PopupBannerDemo=Ie())})(this,function(){"use strict";var Zo;var Ie=Array.isArray,Za=Array.prototype.indexOf,Xa=Array.from,ei=Object.defineProperty,Lt=Object.getOwnPropertyDescriptor,Ur=Object.getOwnPropertyDescriptors,ti=Object.prototype,ni=Array.prototype,Vn=Object.getPrototypeOf,jr=Object.isExtensible;function ri(e){return e()}function xn(e){for(var t=0;t<e.length;t++)e[t]()}const oe=2,zr=4,_n=8,Gn=16,we=32,Et=64,Kn=128,ee=256,bn=512,te=1024,Me=2048,Ne=4096,It=8192,Yn=16384,$r=32768,Jn=65536,Vr=1<<17,oi=1<<19,Gr=1<<20,Qn=1<<21,ke=Symbol("$state"),ai=Symbol("legacy props"),ii=Symbol("");function Kr(e){return e===this.v}function li(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Zn(e){return!li(e,this.v)}function si(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ui(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function di(e){throw new Error("https://svelte.dev/e/effect_orphan")}function pi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ci(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function fi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function gi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function mi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Mt=!1,Zs=!1;function vi(){Mt=!0}const xi=2,_i=8,bi=1,hi=2,Q=Symbol(),Ti="http://www.w3.org/1999/xhtml";function Yr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let E=null;function Jr(e){E=e}function Xn(e,t=!1,r){var n=E={p:E,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Mt&&!t&&(E.l={s:null,u:null,r1:[],r2:nr(!1)}),so(()=>{n.d=!0})}function er(e){const t=E;if(t!==null){e!==void 0&&(t.x=e);const p=t.e;if(p!==null){var r=L,n=S;t.e=null;try{for(var i=0;i<p.length;i++){var l=p[i];_e(l.effect),ie(l.reaction),Xt(l.fn)}}finally{_e(r),ie(n)}}E=t.p,t.m=!0}return e||{}}function Qt(){return!Mt||E!==null&&E.l===null}function Nt(e){if(typeof e!="object"||e===null||ke in e)return e;const t=Vn(e);if(t!==ti&&t!==ni)return e;var r=new Map,n=Ie(e),i=Fe(0),l=S,p=c=>{var g=S;ie(l);var m=c();return ie(g),m};return n&&r.set("length",Fe(e.length)),new Proxy(e,{defineProperty(c,g,m){(!("value"in m)||m.configurable===!1||m.enumerable===!1||m.writable===!1)&&fi();var y=r.get(g);return y===void 0?y=p(()=>{var _=Fe(m.value);return r.set(g,_),_}):C(y,m.value,!0),!0},deleteProperty(c,g){var m=r.get(g);if(m===void 0){if(g in c){const v=p(()=>Fe(Q));r.set(g,v),tr(i)}}else{if(n&&typeof g=="string"){var y=r.get("length"),_=Number(g);Number.isInteger(_)&&_<y.v&&C(y,_)}C(m,Q),tr(i)}return!0},get(c,g,m){var w;if(g===ke)return e;var y=r.get(g),_=g in c;if(y===void 0&&(!_||(w=Lt(c,g))!=null&&w.writable)&&(y=p(()=>{var A=Nt(_?c[g]:Q),R=Fe(A);return R}),r.set(g,y)),y!==void 0){var v=a(y);return v===Q?void 0:v}return Reflect.get(c,g,m)},getOwnPropertyDescriptor(c,g){var m=Reflect.getOwnPropertyDescriptor(c,g);if(m&&"value"in m){var y=r.get(g);y&&(m.value=a(y))}else if(m===void 0){var _=r.get(g),v=_==null?void 0:_.v;if(_!==void 0&&v!==Q)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return m},has(c,g){var v;if(g===ke)return!0;var m=r.get(g),y=m!==void 0&&m.v!==Q||Reflect.has(c,g);if(m!==void 0||L!==null&&(!y||(v=Lt(c,g))!=null&&v.writable)){m===void 0&&(m=p(()=>{var w=y?Nt(c[g]):Q,A=Fe(w);return A}),r.set(g,m));var _=a(m);if(_===Q)return!1}return y},set(c,g,m,y){var U;var _=r.get(g),v=g in c;if(n&&g==="length")for(var w=m;w<_.v;w+=1){var A=r.get(w+"");A!==void 0?C(A,Q):w in c&&(A=p(()=>Fe(Q)),r.set(w+"",A))}if(_===void 0)(!v||(U=Lt(c,g))!=null&&U.writable)&&(_=p(()=>Fe(void 0)),C(_,Nt(m)),r.set(g,_));else{v=_.v!==Q;var R=p(()=>Nt(m));C(_,R)}var O=Reflect.getOwnPropertyDescriptor(c,g);if(O!=null&&O.set&&O.set.call(y,m),!v){if(n&&typeof g=="string"){var H=r.get("length"),N=Number(g);Number.isInteger(N)&&N>=H.v&&C(H,N+1)}tr(i)}return!0},ownKeys(c){a(i);var g=Reflect.ownKeys(c).filter(_=>{var v=r.get(_);return v===void 0||v.v!==Q});for(var[m,y]of r)y.v!==Q&&!(m in c)&&g.push(m);return g},setPrototypeOf(){gi()}})}function tr(e,t=1){C(e,e.v+t)}function Qr(e){try{if(e!==null&&typeof e=="object"&&ke in e)return e[ke]}catch{}return e}function Bi(e,t){return Object.is(Qr(e),Qr(t))}function hn(e){var t=oe|Me,r=S!==null&&(S.f&oe)!==0?S:null;return L===null||r!==null&&(r.f&ee)!==0?t|=ee:L.f|=Gr,{ctx:E,deps:null,effects:null,equals:Kr,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??L}}function yi(e){const t=hn(e);return t.equals=Zn,t}function Zr(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)it(t[r])}}function Ci(e){for(var t=e.parent;t!==null;){if((t.f&oe)===0)return t;t=t.parent}return null}function Xr(e){var t,r=L;_e(Ci(e));try{Zr(e),t=wo(e)}finally{_e(r)}return t}function eo(e){var t=Xr(e);if(e.equals(t)||(e.v=t,e.wv=yo()),!Dt){var r=(Re||(e.f&ee)!==0)&&e.deps!==null?Ne:te;ue(e,r)}}const Zt=new Map;function nr(e,t){var r={f:0,v:e,reactions:null,equals:Kr,rv:0,wv:0};return r}function Fe(e,t){const r=nr(e);return Ri(r),r}function W(e,t=!1,r=!0){var i;const n=nr(e);return t||(n.equals=Zn),Mt&&r&&E!==null&&E.l!==null&&((i=E.l).s??(i.s=[])).push(n),n}function x(e,t){return C(e,$(()=>a(e))),t}function C(e,t,r=!1){S!==null&&!xe&&Qt()&&(S.f&(oe|Gn))!==0&&!(z!=null&&z[1].includes(e)&&z[0]===S)&&mi();let n=r?Nt(t):t;return rr(e,n)}function rr(e,t){if(!e.equals(t)){var r=e.v;Dt?Zt.set(e,t):Zt.set(e,r),e.v=t,(e.f&oe)!==0&&((e.f&Me)!==0&&Xr(e),ue(e,(e.f&ee)===0?te:Ne)),e.wv=yo(),to(e,Me),Qt()&&L!==null&&(L.f&te)!==0&&(L.f&(we|Et))===0&&(le===null?Di([e]):le.push(e))}return t}function to(e,t){var r=e.reactions;if(r!==null)for(var n=Qt(),i=r.length,l=0;l<i;l++){var p=r[l],c=p.f;(c&Me)===0&&(!n&&p===L||(ue(p,t),(c&(te|ee))!==0&&((c&oe)!==0?to(p,Ne):ur(p))))}}function wi(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}var no,ro,oo,ao;function ki(){if(no===void 0){no=window,ro=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;oo=Lt(t,"firstChild").get,ao=Lt(t,"nextSibling").get,jr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),jr(r)&&(r.__t=void 0)}}function io(e=""){return document.createTextNode(e)}function Tn(e){return oo.call(e)}function or(e){return ao.call(e)}function d(e,t){return Tn(e)}function Bn(e,t){{var r=Tn(e);return r instanceof Comment&&r.data===""?or(r):r}}function u(e,t=1,r=!1){let n=e;for(;t--;)n=or(n);return n}function lo(e){L===null&&S===null&&di(),S!==null&&(S.f&ee)!==0&&L===null&&ui(),Dt&&si()}function Ai(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Ft(e,t,r,n=!0){var i=L,l={ctx:E,deps:null,nodes_start:null,nodes_end:null,f:e|Me,first:null,fn:t,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(r)try{wn(l),l.f|=$r}catch(g){throw it(l),g}else t!==null&&ur(l);var p=r&&l.deps===null&&l.first===null&&l.nodes_start===null&&l.teardown===null&&(l.f&(Gr|Kn))===0;if(!p&&n&&(i!==null&&Ai(l,i),S!==null&&(S.f&oe)!==0)){var c=S;(c.effects??(c.effects=[])).push(l)}return l}function so(e){const t=Ft(_n,null,!1);return ue(t,te),t.teardown=e,t}function ar(e){lo();var t=L!==null&&(L.f&we)!==0&&E!==null&&!E.m;if(t){var r=E;(r.e??(r.e=[])).push({fn:e,effect:L,reaction:S})}else{var n=Xt(e);return n}}function Si(e){return lo(),Rt(e)}function Pi(e){const t=Ft(Et,e,!0);return(r={})=>new Promise(n=>{r.outro?lr(t,()=>{it(t),n(void 0)}):(it(t),n(void 0))})}function Xt(e){return Ft(zr,e,!1)}function ae(e,t){var r=E,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=Rt(()=>{e(),!n.ran&&(n.ran=!0,C(r.l.r2,!0),$(t))})}function uo(){var e=E;Rt(()=>{if(a(e.l.r2)){for(var t of e.l.r1){var r=t.effect;(r.f&te)!==0&&ue(r,Ne),on(r)&&wn(r),t.ran=!1}e.l.r2.v=!1}})}function Rt(e){return Ft(_n,e,!0)}function j(e,t=[],r=hn){const n=t.map(r);return po(()=>e(...n.map(a)))}function po(e,t=0){return Ft(_n|Gn|t,e,!0)}function ir(e,t=!0){return Ft(_n|we,e,!0,t)}function co(e){var t=e.teardown;if(t!==null){const r=Dt,n=S;To(!0),ie(null);try{t.call(null)}finally{To(r),ie(n)}}}function fo(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;(r.f&Et)!==0?r.parent=null:it(r,t),r=n}}function Li(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&we)===0&&it(t),t=r}}function it(e,t=!0){var r=!1;(t||(e.f&oi)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Ei(e.nodes_start,e.nodes_end),r=!0),fo(e,t&&!r),Cn(e,0),ue(e,Yn);var n=e.transitions;if(n!==null)for(const l of n)l.stop();co(e);var i=e.parent;i!==null&&i.first!==null&&go(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Ei(e,t){for(;e!==null;){var r=e===t?null:or(e);e.remove(),e=r}}function go(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function lr(e,t){var r=[];mo(e,r,!0),Ii(r,()=>{it(e),t&&t()})}function Ii(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var i of e)i.out(n)}else t()}function mo(e,t,r){if((e.f&It)===0){if(e.f^=It,e.transitions!==null)for(const p of e.transitions)(p.is_global||r)&&t.push(p);for(var n=e.first;n!==null;){var i=n.next,l=(n.f&Jn)!==0||(n.f&we)!==0;mo(n,t,l?r:!1),n=i}}}function vo(e){xo(e,!0)}function xo(e,t){if((e.f&It)!==0){e.f^=It;for(var r=e.first;r!==null;){var n=r.next,i=(r.f&Jn)!==0||(r.f&we)!==0;xo(r,i?t:!1),r=n}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let en=[],sr=[];function _o(){var e=en;en=[],xn(e)}function Mi(){var e=sr;sr=[],xn(e)}function bo(e){en.length===0&&queueMicrotask(_o),en.push(e)}function Ni(){en.length>0&&_o(),sr.length>0&&Mi()}function Fi(e){var t=L;if((t.f&$r)===0){if((t.f&Kn)===0)throw e;t.fn(e)}else ho(e,t)}function ho(e,t){for(;t!==null;){if((t.f&Kn)!==0)try{t.fn(e);return}catch{}t=t.parent}throw e}let tn=!1,nn=null,lt=!1,Dt=!1;function To(e){Dt=e}let rn=[],Xs=[],S=null,xe=!1;function ie(e){S=e}let L=null;function _e(e){L=e}let z=null;function Ri(e){S!==null&&S.f&Qn&&(z===null?z=[S,[e]]:z[1].push(e))}let J=null,ne=0,le=null;function Di(e){le=e}let Bo=1,yn=0,Re=!1,De=null;function yo(){return++Bo}function on(e){var _;var t=e.f;if((t&Me)!==0)return!0;if((t&Ne)!==0){var r=e.deps,n=(t&ee)!==0;if(r!==null){var i,l,p=(t&bn)!==0,c=n&&L!==null&&!Re,g=r.length;if(p||c){var m=e,y=m.parent;for(i=0;i<g;i++)l=r[i],(p||!((_=l==null?void 0:l.reactions)!=null&&_.includes(m)))&&(l.reactions??(l.reactions=[])).push(m);p&&(m.f^=bn),c&&y!==null&&(y.f&ee)===0&&(m.f^=ee)}for(i=0;i<g;i++)if(l=r[i],on(l)&&eo(l),l.wv>e.wv)return!0}(!n||L!==null&&!Re)&&ue(e,te)}return!1}function Co(e,t,r=!0){var n=e.reactions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];z!=null&&z[1].includes(e)&&z[0]===S||((l.f&oe)!==0?Co(l,t,!1):t===l&&(r?ue(l,Me):(l.f&te)!==0&&ue(l,Ne),ur(l)))}}function wo(e){var w;var t=J,r=ne,n=le,i=S,l=Re,p=z,c=E,g=xe,m=e.f;J=null,ne=0,le=null,Re=(m&ee)!==0&&(xe||!lt||S===null),S=(m&(we|Et))===0?e:null,z=null,Jr(e.ctx),xe=!1,yn++,e.f|=Qn;try{var y=(0,e.fn)(),_=e.deps;if(J!==null){var v;if(Cn(e,ne),_!==null&&ne>0)for(_.length=ne+J.length,v=0;v<J.length;v++)_[ne+v]=J[v];else e.deps=_=J;if(!Re)for(v=ne;v<_.length;v++)((w=_[v]).reactions??(w.reactions=[])).push(e)}else _!==null&&ne<_.length&&(Cn(e,ne),_.length=ne);if(Qt()&&le!==null&&!xe&&_!==null&&(e.f&(oe|Ne|Me))===0)for(v=0;v<le.length;v++)Co(le[v],e);return i!==null&&i!==e&&(yn++,le!==null&&(n===null?n=le:n.push(...le))),y}catch(A){Fi(A)}finally{J=t,ne=r,le=n,S=i,Re=l,z=p,Jr(c),xe=g,e.f^=Qn}}function qi(e,t){let r=t.reactions;if(r!==null){var n=Za.call(r,e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}r===null&&(t.f&oe)!==0&&(J===null||!J.includes(t))&&(ue(t,Ne),(t.f&(ee|bn))===0&&(t.f^=bn),Zr(t),Cn(t,0))}function Cn(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)qi(e,r[n])}function wn(e){var t=e.f;if((t&Yn)===0){ue(e,te);var r=L,n=lt;L=e,lt=!0;try{(t&Gn)!==0?Li(e):fo(e),co(e);var i=wo(e);e.teardown=typeof i=="function"?i:null,e.wv=Bo;var l}finally{lt=n,L=r}}}function Wi(){try{pi()}catch(e){if(nn!==null)ho(e,nn);else throw e}}function ko(){var e=lt;try{var t=0;for(lt=!0;rn.length>0;){t++>1e3&&Wi();var r=rn,n=r.length;rn=[];for(var i=0;i<n;i++){var l=Hi(r[i]);Oi(l)}Zt.clear()}}finally{tn=!1,lt=e,nn=null}}function Oi(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];(n.f&(Yn|It))===0&&on(n)&&(wn(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?go(n):n.fn=null))}}function ur(e){tn||(tn=!0,queueMicrotask(ko));for(var t=nn=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(Et|we))!==0){if((r&te)===0)return;t.f^=te}}rn.push(t)}function Hi(e){for(var t=[],r=e;r!==null;){var n=r.f,i=(n&(we|Et))!==0,l=i&&(n&te)!==0;if(!l&&(n&It)===0){(n&zr)!==0?t.push(r):i?r.f^=te:on(r)&&wn(r);var p=r.first;if(p!==null){r=p;continue}}var c=r.parent;for(r=r.next;r===null&&c!==null;)r=c.next,c=c.parent}return t}function b(e){for(var t;;){if(Ni(),rn.length===0)return tn=!1,nn=null,t;tn=!0,ko()}}function a(e){var t=e.f,r=(t&oe)!==0;if(De!==null&&De.add(e),S!==null&&!xe){if(!(z!=null&&z[1].includes(e))||z[0]!==S){var n=S.deps;e.rv<yn&&(e.rv=yn,J===null&&n!==null&&n[ne]===e?ne++:J===null?J=[e]:(!Re||!J.includes(e))&&J.push(e))}}else if(r&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&ee)===0&&(i.f^=ee)}return r&&(i=e,on(i)&&eo(i)),Dt&&Zt.has(e)?Zt.get(e):e.v}function Ui(e){var t=De;De=new Set;var r=De,n;try{if($(e),t!==null)for(n of De)t.add(n)}finally{De=t}return r}function Ao(e){var t=Ui(()=>$(e));for(var r of t)if((r.f&Vr)!==0)for(const n of r.deps||[])(n.f&oe)===0&&rr(n,n.v);else rr(r,r.v)}function $(e){var t=xe;try{return xe=!0,e()}finally{xe=t}}const ji=-7169;function ue(e,t){e.f=e.f&ji|t}function B(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ke in e)dr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&ke in r&&dr(r)}}}function dr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{dr(e[n],t)}catch{}const r=Vn(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Ur(r);for(let i in n){const l=n[i].get;if(l)try{l.call(e)}catch{}}}}}const zi=["touchstart","touchmove"];function $i(e){return zi.includes(e)}let So=!1;function Vi(){So||(So=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Po(e){var t=S,r=L;ie(null),_e(null);try{return e()}finally{ie(t),_e(r)}}function pr(e,t,r,n=r){e.addEventListener(t,()=>Po(r));const i=e.__on_r;i?e.__on_r=()=>{i(),n(!0)}:e.__on_r=()=>n(!0),Vi()}const Gi=new Set,Lo=new Set;function Ki(e,t,r,n={}){function i(l){if(n.capture||an.call(t,l),!l.cancelBubble)return Po(()=>r==null?void 0:r.call(this,l))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?bo(()=>{t.addEventListener(e,i,n)}):t.addEventListener(e,i,n),i}function P(e,t,r,n,i){var l={capture:n,passive:i},p=Ki(e,t,r,l);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&so(()=>{t.removeEventListener(e,p,l)})}function an(e){var N;var t=this,r=t.ownerDocument,n=e.type,i=((N=e.composedPath)==null?void 0:N.call(e))||[],l=i[0]||e.target,p=0,c=e.__root;if(c){var g=i.indexOf(c);if(g!==-1&&(t===document||t===window)){e.__root=t;return}var m=i.indexOf(t);if(m===-1)return;g<=m&&(p=g)}if(l=i[p]||e.target,l!==t){ei(e,"currentTarget",{configurable:!0,get(){return l||r}});var y=S,_=L;ie(null),_e(null);try{for(var v,w=[];l!==null;){var A=l.assignedSlot||l.parentNode||l.host||null;try{var R=l["__"+n];if(R!=null&&(!l.disabled||e.target===l))if(Ie(R)){var[O,...H]=R;O.apply(l,[e,...H])}else R.call(l,e)}catch(U){v?w.push(U):v=U}if(e.cancelBubble||A===t||A===null)break;l=A}if(v){for(let U of w)queueMicrotask(()=>{throw U});throw v}}finally{e.__root=t,delete e.currentTarget,ie(y),_e(_)}}}function Yi(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function cr(e,t){var r=L;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function se(e,t){var r=(t&bi)!==0,n=(t&hi)!==0,i,l=!e.startsWith("<!>");return()=>{i===void 0&&(i=Yi(l?e:"<!>"+e),r||(i=Tn(i)));var p=n||ro?document.importNode(i,!0):i.cloneNode(!0);if(r){var c=Tn(p),g=p.lastChild;cr(c,g)}else cr(p,p);return p}}function Ji(){var e=document.createDocumentFragment(),t=document.createComment(""),r=io();return e.append(t,r),cr(t,r),e}function re(e,t){e!==null&&e.before(t)}function qt(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function Eo(e,t){return Qi(e,t)}const Wt=new Map;function Qi(e,{target:t,anchor:r,props:n={},events:i,context:l,intro:p=!0}){ki();var c=new Set,g=_=>{for(var v=0;v<_.length;v++){var w=_[v];if(!c.has(w)){c.add(w);var A=$i(w);t.addEventListener(w,an,{passive:A});var R=Wt.get(w);R===void 0?(document.addEventListener(w,an,{passive:A}),Wt.set(w,1)):Wt.set(w,R+1)}}};g(Xa(Gi)),Lo.add(g);var m=void 0,y=Pi(()=>{var _=r??t.appendChild(io());return ir(()=>{if(l){Xn({});var v=E;v.c=l}i&&(n.$$events=i),m=e(_,n)||{},l&&er()}),()=>{var A;for(var v of c){t.removeEventListener(v,an);var w=Wt.get(v);--w===0?(document.removeEventListener(v,an),Wt.delete(v)):Wt.set(v,w)}Lo.delete(g),_!==r&&((A=_.parentNode)==null||A.removeChild(_))}});return Zi.set(m,y),m}let Zi=new WeakMap;function be(e,t,[r,n]=[0,0]){var i=e,l=null,p=null,c=Q,g=r>0?Jn:0,m=!1;const y=(v,w=!0)=>{m=!0,_(w,v)},_=(v,w)=>{c!==(c=v)&&(c?(l?vo(l):w&&(l=ir(()=>w(i))),p&&lr(p,()=>{p=null})):(p?vo(p):w&&(p=ir(()=>w(i,[r+1,n]))),l&&lr(l,()=>{l=null})))};po(()=>{m=!1,t(y),m||_(null,null)},g)}function Xi(e,t,r){var n=e==null?"":""+e;return t&&(n=n?n+" "+t:t),n===""?null:n}function el(e,t){return e==null?null:String(e)}function de(e,t,r,n,i,l){var p=e.__className;if(p!==r||p===void 0){var c=Xi(r,n);c==null?e.removeAttribute("class"):e.className=c,e.__className=r}return l}function st(e,t,r,n){var i=e.__style;if(i!==t){var l=el(t);l==null?e.removeAttribute("style"):e.style.cssText=l,e.__style=t}return n}function Io(e,t,r){if(e.multiple){if(t==null)return;if(!Ie(t))return wi();for(var n of e.options)n.selected=t.includes(ln(n));return}for(n of e.options){var i=ln(n);if(Bi(i,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function tl(e,t){Xt(()=>{var r=new MutationObserver(()=>{var n=e.__value;Io(e,n)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Mo(e,t,r=t){var n=!0;pr(e,"change",i=>{var l=i?"[selected]":":checked",p;if(e.multiple)p=[].map.call(e.querySelectorAll(l),ln);else{var c=e.querySelector(l)??e.querySelector("option:not([disabled])");p=c&&ln(c)}r(p)}),Xt(()=>{var i=t();if(Io(e,i,n),n&&i===void 0){var l=e.querySelector(":checked");l!==null&&(i=ln(l),r(i))}e.__value=i,n=!1}),tl(e)}function ln(e){return"__value"in e?e.__value:e.value}const nl=Symbol("is custom element"),rl=Symbol("is html");function kn(e,t,r,n){var i=ol(e);i[t]!==(i[t]=r)&&(t==="loading"&&(e[ii]=r),r==null?e.removeAttribute(t):typeof r!="string"&&No(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function qe(e,t,r){var n=S,i=L;ie(null),_e(null);try{t!=="style"&&(fr.has(e.nodeName)||!customElements||customElements.get(e.tagName.toLowerCase())?No(e).includes(t):r&&typeof r=="object")?e[t]=r:kn(e,t,r==null?r:String(r))}finally{ie(n),_e(i)}}function ol(e){return e.__attributes??(e.__attributes={[nl]:e.nodeName.includes("-"),[rl]:e.namespaceURI===Ti})}var fr=new Map;function No(e){var t=fr.get(e.nodeName);if(t)return t;fr.set(e.nodeName,t=[]);for(var r,n=e,i=Element.prototype;i!==n;){r=Ur(n);for(var l in r)r[l].set&&t.push(l);n=Vn(n)}return t}function T(e,t,r=t){var n=Qt();pr(e,"input",i=>{var l=i?e.defaultValue:e.value;if(l=mr(e)?vr(l):l,r(l),n&&l!==(l=t())){var p=e.selectionStart,c=e.selectionEnd;e.value=l??"",c!==null&&(e.selectionStart=p,e.selectionEnd=Math.min(c,e.value.length))}}),$(t)==null&&e.value&&r(mr(e)?vr(e.value):e.value),Rt(()=>{var i=t();mr(e)&&i===vr(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function gr(e,t,r=t){pr(e,"change",n=>{var i=n?e.defaultChecked:e.checked;r(i)}),$(t)==null&&r(e.checked),Rt(()=>{var n=t();e.checked=!!n})}function mr(e){var t=e.type;return t==="number"||t==="range"}function vr(e){return e===""?null:+e}function Fo(e,t){return e===t||(e==null?void 0:e[ke])===t}function al(e={},t,r,n){return Xt(()=>{var i,l;return Rt(()=>{i=l,l=[],$(()=>{e!==r(...l)&&(t(e,...l),i&&Fo(r(...i),e)&&t(null,...i))})}),()=>{bo(()=>{l&&Fo(r(...l),e)&&t(null,...l)})}}),e}function il(e){return function(...t){var r=t[0];return r.preventDefault(),e==null?void 0:e.apply(this,t)}}function Ro(e=!1){const t=E,r=t.l.u;if(!r)return;let n=()=>B(t.s);if(e){let i=0,l={};const p=hn(()=>{let c=!1;const g=t.s;for(const m in g)g[m]!==l[m]&&(l[m]=g[m],c=!0);return c&&i++,i});n=()=>a(p)}r.b.length&&Si(()=>{Do(t,n),xn(r.b)}),ar(()=>{const i=$(()=>r.m.map(ri));return()=>{for(const l of i)typeof l=="function"&&l()}}),r.a.length&&ar(()=>{Do(t,n),xn(r.a)})}function Do(e,t){if(e.l.s)for(const r of e.l.s)a(r);t()}let An=!1;function ll(e){var t=An;try{return An=!1,[e(),An]}finally{An=t}}function qo(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function h(e,t,r,n){var he;var i=!Mt||(r&xi)!==0,l=(r&_i)!==0,p=!1,c;[c,p]=ll(()=>e[t]);var g=ke in e||ai in e,m=(((he=Lt(e,t))==null?void 0:he.set)??(g&&t in e&&(I=>e[t]=I)))||void 0,y=n,_=!0,v=!1,w=()=>(v=!0,_&&(_=!1,y=n),y);c===void 0&&n!==void 0&&(m&&i&&ci(),c=w(),m&&m(c));var A;if(i)A=()=>{var I=e[t];return I===void 0?w():(_=!0,v=!1,I)};else{var R=yi(()=>e[t]);R.f|=Vr,A=()=>{var I=a(R);return I!==void 0&&(y=void 0),I===void 0?y:I}}if(m){var O=e.$$legacy;return function(I,Z){return arguments.length>0?((!i||!Z||O||p)&&m(Z?A():I),I):A()}}var H=!1,N=!1,U=W(c),G=hn(()=>{var I=A(),Z=a(U);return H?(H=!1,N=!0,Z):(N=!1,U.v=I)});return a(G),G.equals=Zn,function(I,Z){if(De!==null&&(H=N,A(),a(U)),arguments.length>0){const pe=Z?a(G):i&&l?Nt(I):I;if(!G.equals(pe)){if(H=!0,C(U,pe),v&&y!==void 0&&(y=pe),qo(G))return I;$(()=>a(G))}return I}return qo(G)?G.v:a(G)}}function Wo(e){E===null&&Yr(),Mt&&E.l!==null?dl(E).m.push(e):ar(()=>{const t=$(e);if(typeof t=="function")return t})}function sl(e,t,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:n})}function ul(){const e=E;return e===null&&Yr(),(t,r,n)=>{var l;const i=(l=e.s.$$events)==null?void 0:l[t];if(i){const p=Ie(i)?i.slice():[i],c=sl(t,r,n);for(const g of p)g.call(e.x,c);return!c.defaultPrevented}return!0}}function dl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const pl="5";typeof window<"u"&&((Zo=window.__svelte??(window.__svelte={})).v??(Zo.v=new Set)).add(pl),vi();class cl{constructor(t){this.config=t}shouldLog(t){if(!this.config.enabled)return!1;const r=["debug","info","warn","error"],n=r.indexOf(this.config.level);return r.indexOf(t)>=n}debug(t,...r){this.shouldLog("debug")&&console.log(`${this.config.prefix}[DEBUG]`,t,...r)}info(t,...r){this.shouldLog("info")&&console.info(`${this.config.prefix}[INFO]`,t,...r)}warn(t,...r){this.shouldLog("warn")&&console.warn(`${this.config.prefix}[WARN]`,t,...r)}error(t,...r){this.shouldLog("error")&&console.error(`${this.config.prefix}[ERROR]`,t,...r)}}const fl=()=>typeof window<"u"&&new URLSearchParams(window.location.search).get("popupBannerDebug")==="on",Ot=(e="")=>{const t=fl();return new cl({enabled:t,level:t?"debug":"error",prefix:e})},Ht=Ot("[PopupBanner:Image] "),We=Ot("[PopupBanner:Animation] "),Ae=Ot("[PopupBanner:Controller] "),Oo=Ot("[PopupBanner:Trigger] "),Sn=Ot("[PopupBanner:Cookie] "),gl=Ot("[PopupBanner:GA4] ");var ml=se('<img alt="バナー画像" style="display: none;" class="svelte-1wq3mwc"/>'),vl=se('<div class="dim-bg svelte-1wq3mwc" role="button" tabindex="0"></div>'),xl=se('<img class="banner-image clickable svelte-1wq3mwc" alt="バナー画像" role="button" tabindex="0"/>'),_l=se('<img class="banner-image svelte-1wq3mwc" alt="バナー画像"/>'),bl=se('<div class="banner-text svelte-1wq3mwc"> </div>'),hl=se("<button> </button>"),Tl=se('<div class="under-btn-text svelte-1wq3mwc"> </div>'),Bl=se('<!> <div><div><button class="close-btn svelte-1wq3mwc">×</button> <!> <!> <!> <!></div></div>',1),yl=se("<!> <!>",1);function Cl(e,t){Xn(t,!1);const r=W(),n=W(),i=W(),l=W(),p=W(),c=W(),g=W(),m=ul();let y=h(t,"popupId",12,"sample"),_=h(t,"popupName",12,"サンプルバナー"),v=h(t,"popupPosition",12,"center"),w=h(t,"popupWidth",12,""),A=h(t,"popupBackgroundColor",12,""),R=h(t,"popupPadding",12,""),O=h(t,"popupMargin",12,""),H=h(t,"popupBorderRadius",12,""),N=h(t,"popupBoxShadow",12,""),U=h(t,"popupBorderWidth",12,""),G=h(t,"popupBorderColor",12,""),he=h(t,"popupBorderStyle",12,""),I=h(t,"dimBackground",12,!0),Z=h(t,"closeButtonColor",12,""),pe=h(t,"closeButtonBackgroundColor",12,""),Oe=h(t,"closeButtonTop",12,""),He=h(t,"closeButtonRight",12,""),D=h(t,"imageUrl",12,null),Ue=h(t,"imagePadding",12,""),ut=h(t,"imageMargin",12,""),je=h(t,"imageBorderRadius",12,""),dt=h(t,"imageLoadTimeout",12,5),zt=h(t,"imageLoadErrorAction",12,"show"),Se=h(t,"imageLink",12,""),$t=h(t,"imageLinkTarget",12,"_blank"),Vt=h(t,"onImageClick",12,()=>{}),ce=h(t,"animationType",12,"fade-in-up"),Pe=h(t,"animationDuration",12,300),ze=h(t,"animationEasing",12,"ease-out"),pt=h(t,"text",12,""),$e=h(t,"middleTextAlign",12,""),ct=h(t,"middleTextLineHeight",12,""),Ve=h(t,"middleTextColor",12,""),Ge=h(t,"middleTextFontSize",12,""),ft=h(t,"middleTextFontWeight",12,""),Ke=h(t,"middleTextPadding",12,""),Ye=h(t,"middleTextMargin",12,""),Gt=h(t,"buttonText",12,""),Je=h(t,"buttonAlign",12,""),Qe=h(t,"buttonColor",12,""),gt=h(t,"buttonTextColor",12,""),mt=h(t,"buttonFontSize",12,""),Ze=h(t,"buttonFontWeight",12,""),vt=h(t,"buttonPadding",12,""),Le=h(t,"buttonMargin",12,""),Xe=h(t,"buttonBorderRadius",12,""),et=h(t,"buttonBorderStyle",12,""),xt=h(t,"buttonBorderWidth",12,""),_t=h(t,"buttonBorderColor",12,""),bt=h(t,"buttonLink",12,""),Kt=h(t,"buttonLinkTarget",12,"_blank"),ht=h(t,"underBtnText",12,""),Tt=h(t,"underBtnTextAlign",12,""),tt=h(t,"underBtnTextLineHeight",12,""),Bt=h(t,"underBtnTextColor",12,""),nt=h(t,"underBtnTextFontSize",12,""),yt=h(t,"underBtnTextFontWeight",12,""),Ct=h(t,"underBtnTextPadding",12,""),wt=h(t,"underBtnTextMargin",12,""),kt=h(t,"onButtonClick",12,()=>{}),Te=h(t,"onClose",12,()=>{}),fe=W(!1),X=W(!1),Be=W(!1),At=W(!0),k=W(),K=W(!1),Ee=W("");function Nn(){Ht.info("画像読み込み完了:",D()),C(fe,!0),C(Be,!0)}function un(){Ht.warn("画像読み込みエラー:",D()),C(X,!0),zt()==="show"?(C(At,!1),C(Be,!0)):(Te()(),m("close"))}function Fn(){return D()?(Ht.debug(`画像読み込み開始（タイムアウト: ${dt()}秒）:`,D()),setTimeout(()=>{!a(fe)&&!a(X)&&(Ht.warn("画像読み込みタイムアウト:",D()),un())},dt()*1e3)):void 0}function dn(){a(K)||(Ht.info("画像がクリックされました",{imageUrl:D(),imageLink:Se()}),Vt()&&Vt()(),Se()&&window.open(Se(),$t()))}function wr(){a(K)||(kt()&&kt()(),bt()&&window.open(bt(),Kt()))}function pn(){if(!(D()&&!a(fe)&&!a(X))){if(a(X)&&zt()==="hide"){Ht.info("画像読み込みエラーのためバナーを表示しません");return}a(X)&&C(At,!1),C(Be,!0)}}function Rn(){if(ce()==="fade-in-up"){We.debug("fade-in-upアニメーション初期化"),a(k)&&(a(k).style.setProperty("--animation-duration",`${Pe()}ms`),a(k).style.setProperty("--animation-easing",ze())),C(Ee,"animate-fade-in-up"),C(K,!0);const s=()=>{C(K,!1),We.debug("アニメーション完了"),a(k)&&a(k).removeEventListener("animationend",s)};a(k)&&a(k).addEventListener("animationend",s)}else if(ce()==="fade-in-down"){We.debug("fade-in-downアニメーション初期化"),a(k)&&(a(k).style.setProperty("--animation-duration",`${Pe()}ms`),a(k).style.setProperty("--animation-easing",ze())),C(Ee,"animate-fade-in-down"),C(K,!0);const s=()=>{C(K,!1),We.debug("アニメーション完了"),a(k)&&a(k).removeEventListener("animationend",s)};a(k)&&a(k).addEventListener("animationend",s)}else if(ce()==="fade-in"){We.debug("fade-inアニメーション初期化"),a(k)&&(a(k).style.setProperty("--animation-duration",`${Pe()}ms`),a(k).style.setProperty("--animation-easing",ze())),C(Ee,"animate-fade-in"),C(K,!0);const s=()=>{C(K,!1),We.debug("アニメーション完了"),a(k)&&a(k).removeEventListener("animationend",s)};a(k)&&a(k).addEventListener("animationend",s)}else if(ce()==="scale-in"){We.debug("scale-inアニメーション初期化"),a(k)&&(a(k).style.setProperty("--animation-duration",`${Pe()}ms`),a(k).style.setProperty("--animation-easing",ze())),C(Ee,"animate-scale-in"),C(K,!0);const s=()=>{C(K,!1),We.debug("アニメーション完了"),a(k)&&a(k).removeEventListener("animationend",s)};a(k)&&a(k).addEventListener("animationend",s)}}let St=W();function Dn(){a(St)&&clearTimeout(a(St))}function kr(s){(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),Te()(),m("close")),s.key==="Escape"&&(Te()(),m("close"))}Wo(()=>{D()?Fn():pn()}),ae(()=>(B(y()),B(_())),()=>{y()&&_()}),ae(()=>(B(D()),a(fe),a(X)),()=>{D()&&!a(fe)&&!a(X)&&C(St,Fn())}),ae(()=>(B(A()),B(w()),B(R()),B(O()),B(H()),B(N()),B(U()),B(G()),B(he())),()=>{C(r,`
    ${A()?`background:${A()};`:""}
    ${w()?`max-width:${w()};`:""}
    ${R()?`padding:${R()};`:""}
    ${O()?`margin:${O()};`:""}
    ${H()?`border-radius:${H()};`:""}
    ${N()?`box-shadow:${N()};`:""}
    ${U()?`border-width:${U()};`:""}
    ${G()?`border-color:${G()};`:""}
    ${he()?`border-style:${he()};`:""}
  `)}),ae(()=>B(v()),()=>{C(n,v()==="bottom"?"position-bottom":v()==="top"?"position-top":v()==="center"?"position-center":v()==="top-left"?"position-top-left":v()==="top-right"?"position-top-right":v()==="middle-left"?"position-middle-left":v()==="middle-right"?"position-middle-right":v()==="bottom-left"?"position-bottom-left":v()==="bottom-right"?"position-bottom-right":"")}),ae(()=>(B(Z()),B(pe()),B(Oe()),B(He())),()=>{C(i,`
    ${Z()?`color:${Z()};`:""}
    ${pe()?`background:${pe()};`:""}
    ${Oe()?`top:${Oe()};`:""}
    ${He()?`right:${He()};`:""}
  `)}),ae(()=>(B(Ue()),B(ut()),B(je())),()=>{C(l,`
    ${Ue()?`padding:${Ue()};`:""}
    ${ut()?`margin:${ut()};`:""}
    ${je()?`border-radius:${je()};`:""}
  `)}),ae(()=>(B(Ve()),B($e()),B(ct()),B(Ge()),B(ft()),B(Ke()),B(Ye())),()=>{C(p,`
    ${Ve()?`color:${Ve()};`:""}
    ${$e()?`text-align:${$e()};`:""}
    ${ct()?`line-height:${ct()};`:""}
    ${Ge()?`font-size:${Ge()};`:""}
    ${ft()?`font-weight:${ft()};`:""}
    ${Ke()?`padding:${Ke()};`:""}
    ${Ye()?`margin:${Ye()};`:""}
  `)}),ae(()=>(B(Qe()),B(gt()),B(mt()),B(Ze()),B(vt()),B(Le()),B(Xe()),B(et()),B(xt()),B(_t()),B(Je())),()=>{C(c,`
    ${Qe()?`background:${Qe()};`:""}
    ${gt()?`color:${gt()};`:""}
    ${mt()?`font-size:${mt()};`:""}
    ${Ze()?`font-weight:${Ze()};`:""}
    ${vt()?`padding:${vt()};`:""}
    ${Le()?`margin:${Le()};`:""}
    ${Xe()?`border-radius:${Xe()};`:""}
    ${et()?`border-style:${et()};`:""}
    ${xt()?`border-width:${xt()};`:""}
    ${_t()?`border-color:${_t()};`:""}
    ${Je()?`display:block;margin-left:auto;margin-right:auto;text-align:${Je()};`:""}
  `)}),ae(()=>(B(Bt()),B(Tt()),B(tt()),B(nt()),B(yt()),B(Ct()),B(wt())),()=>{C(g,`
    ${Bt()?`color:${Bt()};`:""}
    ${Tt()?`text-align:${Tt()};`:""}
    ${tt()?`line-height:${tt()};`:""}
    ${nt()?`font-size:${nt()};`:""}
    ${yt()?`font-weight:${yt()};`:""}
    ${Ct()?`padding:${Ct()};`:""}
    ${wt()?`margin:${wt()};`:""}
  `)}),ae(()=>(B(D()),a(fe),a(X)),()=>{D()&&(a(fe)||a(X))&&pn()}),ae(()=>(a(Be),a(k),B(ce())),()=>{a(Be)&&a(k)&&requestAnimationFrame(()=>{ce()!=="none"&&Rn()})}),uo(),Ro();var cn=yl(),qn=Bn(cn);{var Ar=s=>{var ye=ml();j(()=>kn(ye,"src",D())),P("load",ye,Nn),P("error",ye,un),re(s,ye)};be(qn,s=>{D()&&!a(fe)&&!a(X)&&s(Ar)})}var Sr=u(qn,2);{var Wn=s=>{var ye=Bl(),Yt=Bn(ye);{var On=M=>{var F=vl();P("click",F,()=>{Te()(),m("close")}),P("keydown",F,kr),re(M,F)};be(Yt,M=>{I()&&M(On)})}var fn=u(Yt,2),rt=d(fn),Pt=d(rt),Hn=u(Pt,2);{var Pr=M=>{var F=Ji(),Ce=Bn(F);{var Ir=ot=>{var ge=xl();j(()=>{kn(ge,"src",D()),st(ge,a(l))}),P("click",ge,dn),P("keydown",ge,Jt=>{(Jt.key==="Enter"||Jt.key===" ")&&(Jt.preventDefault(),dn())}),re(ot,ge)},$n=ot=>{var ge=_l();j(()=>{kn(ge,"src",D()),st(ge,a(l))}),re(ot,ge)};be(Ce,ot=>{Se()?ot(Ir):ot($n,!1)})}re(M,F)};be(Hn,M=>{D()&&a(At)&&M(Pr)})}var Un=u(Hn,2);{var jn=M=>{var F=bl(),Ce=d(F);j(()=>{st(F,a(p)),qt(Ce,pt())}),re(M,F)};be(Un,M=>{pt()&&M(jn)})}var gn=u(Un,2);{var Lr=M=>{var F=hl(),Ce=d(F);j(()=>{de(F,1,`banner-btn${bt()?" clickable":""}`,"svelte-1wq3mwc"),st(F,a(c)),F.disabled=a(K),qt(Ce,Gt())}),P("click",F,wr),re(M,F)};be(gn,M=>{Gt()&&M(Lr)})}var zn=u(gn,2);{var Er=M=>{var F=Tl(),Ce=d(F);j(()=>{st(F,a(g)),qt(Ce,ht())}),re(M,F)};be(zn,M=>{ht()&&M(Er)})}al(rt,M=>C(k,M),()=>a(k)),j(()=>{de(fn,1,`popup-container ${a(n)??""}`,"svelte-1wq3mwc"),de(rt,1,`popup-banner ${a(Ee)??""}`,"svelte-1wq3mwc"),st(rt,a(r)),st(Pt,a(i)),Pt.disabled=a(K)}),P("click",Pt,()=>{Dn(),Te()(),m("close")}),re(s,ye)};be(Sr,s=>{a(Be)&&s(Wn)})}return re(e,cn),er({get popupId(){return y()},set popupId(s){y(s),b()},get popupName(){return _()},set popupName(s){_(s),b()},get popupPosition(){return v()},set popupPosition(s){v(s),b()},get popupWidth(){return w()},set popupWidth(s){w(s),b()},get popupBackgroundColor(){return A()},set popupBackgroundColor(s){A(s),b()},get popupPadding(){return R()},set popupPadding(s){R(s),b()},get popupMargin(){return O()},set popupMargin(s){O(s),b()},get popupBorderRadius(){return H()},set popupBorderRadius(s){H(s),b()},get popupBoxShadow(){return N()},set popupBoxShadow(s){N(s),b()},get popupBorderWidth(){return U()},set popupBorderWidth(s){U(s),b()},get popupBorderColor(){return G()},set popupBorderColor(s){G(s),b()},get popupBorderStyle(){return he()},set popupBorderStyle(s){he(s),b()},get dimBackground(){return I()},set dimBackground(s){I(s),b()},get closeButtonColor(){return Z()},set closeButtonColor(s){Z(s),b()},get closeButtonBackgroundColor(){return pe()},set closeButtonBackgroundColor(s){pe(s),b()},get closeButtonTop(){return Oe()},set closeButtonTop(s){Oe(s),b()},get closeButtonRight(){return He()},set closeButtonRight(s){He(s),b()},get imageUrl(){return D()},set imageUrl(s){D(s),b()},get imagePadding(){return Ue()},set imagePadding(s){Ue(s),b()},get imageMargin(){return ut()},set imageMargin(s){ut(s),b()},get imageBorderRadius(){return je()},set imageBorderRadius(s){je(s),b()},get imageLoadTimeout(){return dt()},set imageLoadTimeout(s){dt(s),b()},get imageLoadErrorAction(){return zt()},set imageLoadErrorAction(s){zt(s),b()},get imageLink(){return Se()},set imageLink(s){Se(s),b()},get imageLinkTarget(){return $t()},set imageLinkTarget(s){$t(s),b()},get onImageClick(){return Vt()},set onImageClick(s){Vt(s),b()},get animationType(){return ce()},set animationType(s){ce(s),b()},get animationDuration(){return Pe()},set animationDuration(s){Pe(s),b()},get animationEasing(){return ze()},set animationEasing(s){ze(s),b()},get text(){return pt()},set text(s){pt(s),b()},get middleTextAlign(){return $e()},set middleTextAlign(s){$e(s),b()},get middleTextLineHeight(){return ct()},set middleTextLineHeight(s){ct(s),b()},get middleTextColor(){return Ve()},set middleTextColor(s){Ve(s),b()},get middleTextFontSize(){return Ge()},set middleTextFontSize(s){Ge(s),b()},get middleTextFontWeight(){return ft()},set middleTextFontWeight(s){ft(s),b()},get middleTextPadding(){return Ke()},set middleTextPadding(s){Ke(s),b()},get middleTextMargin(){return Ye()},set middleTextMargin(s){Ye(s),b()},get buttonText(){return Gt()},set buttonText(s){Gt(s),b()},get buttonAlign(){return Je()},set buttonAlign(s){Je(s),b()},get buttonColor(){return Qe()},set buttonColor(s){Qe(s),b()},get buttonTextColor(){return gt()},set buttonTextColor(s){gt(s),b()},get buttonFontSize(){return mt()},set buttonFontSize(s){mt(s),b()},get buttonFontWeight(){return Ze()},set buttonFontWeight(s){Ze(s),b()},get buttonPadding(){return vt()},set buttonPadding(s){vt(s),b()},get buttonMargin(){return Le()},set buttonMargin(s){Le(s),b()},get buttonBorderRadius(){return Xe()},set buttonBorderRadius(s){Xe(s),b()},get buttonBorderStyle(){return et()},set buttonBorderStyle(s){et(s),b()},get buttonBorderWidth(){return xt()},set buttonBorderWidth(s){xt(s),b()},get buttonBorderColor(){return _t()},set buttonBorderColor(s){_t(s),b()},get buttonLink(){return bt()},set buttonLink(s){bt(s),b()},get buttonLinkTarget(){return Kt()},set buttonLinkTarget(s){Kt(s),b()},get underBtnText(){return ht()},set underBtnText(s){ht(s),b()},get underBtnTextAlign(){return Tt()},set underBtnTextAlign(s){Tt(s),b()},get underBtnTextLineHeight(){return tt()},set underBtnTextLineHeight(s){tt(s),b()},get underBtnTextColor(){return Bt()},set underBtnTextColor(s){Bt(s),b()},get underBtnTextFontSize(){return nt()},set underBtnTextFontSize(s){nt(s),b()},get underBtnTextFontWeight(){return yt()},set underBtnTextFontWeight(s){yt(s),b()},get underBtnTextPadding(){return Ct()},set underBtnTextPadding(s){Ct(s),b()},get underBtnTextMargin(){return wt()},set underBtnTextMargin(s){wt(s),b()},get onButtonClick(){return kt()},set onButtonClick(s){kt(s),b()},get onClose(){return Te()},set onClose(s){Te(s),b()}})}function wl(e){if(!e||!Array.isArray(e.selectors))return!1;const t=e.logic||"AND",r=e.selectors.map(n=>{const i=document.querySelector(n.selector);if(n.exists!==void 0&&(n.exists&&!i||!n.exists&&i)||n.notExists!==void 0&&(n.notExists&&i||!n.notExists&&!i))return!1;if(n.textMatches&&i){const l=i.textContent||"";if(typeof n.textMatches=="string"){if(!l.includes(n.textMatches))return!1}else if(n.textMatches instanceof RegExp&&!n.textMatches.test(l))return!1}if(n.attributeMatches&&i){const l=i.getAttribute(n.attributeMatches.attr)||"";if(n.attributeMatches.value&&l!==n.attributeMatches.value||n.attributeMatches.regex&&!n.attributeMatches.regex.test(l))return!1}return!0});return t==="AND"?r.every(Boolean):r.some(Boolean)}function kl(e,t){if(!Array.isArray(e)||e.length===0)return!1;const r=e.reduce((n,i)=>n+i.price*i.quantity,0);switch(t.operator){case"eq":return r===t.value;case"gt":return r>t.value;case"gte":return r>=t.value;case"lt":return r<t.value;case"lte":return r<=t.value;default:return!1}}function Al(){window.dataLayer||(window.dataLayer=[])}function Ho(e){Al(),window.dataLayer.push(e),gl.debug("GA4 event sent",e)}function Sl(e){Ho({event:"view_promotion",...e})}function Uo(e){Ho({event:"select_promotion",...e})}function Pl(e,t="popupBannerAbTestGroupIndex"){var l,p;let r=[];const n=localStorage.getItem(t);n&&(r=n.split(",").map(c=>c.trim()).filter(Boolean));let i=r.find(c=>e.some(g=>(g==null?void 0:g.popupId)===c));if(!i){const c=Math.floor(Math.random()*e.length);if(i=(l=e[c])==null?void 0:l.popupId,i){r.push(i);const g=Array.from(new Set(r));localStorage.setItem(t,g.join(","))}}return i||((p=e[0])==null?void 0:p.popupId)}(function(e){const t=function(...r){(t.q=t.q||[]).push(r)};e.TryPopupBanner=e.TryPopupBanner||t})(typeof window<"u"?window:globalThis);function Ll(e,t,r){let n=`${e}=${encodeURIComponent(t)}; path=/;`;typeof r=="number"&&r>=0&&(n+=` max-age=${r};`),Sn.debug("set cookie:",n),document.cookie=n}function El(e){const t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()\[\]\\\/\+^])/g,"$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):null}function Il(e){try{if(e.triggerCondition){const t=wl(e.triggerCondition);if(Oo.debug("triggerCondition 判定:",t,e.triggerCondition),!t)return!1}if(e.amountCondition&&e.cartItems){const t=e.cartItems,r=kl(t,e.amountCondition);if(Oo.debug("amountCondition 判定:",r,{items:t,amountCondition:e.amountCondition}),!r)return!1}if(e.shouldSetCookie&&e.popupCookieName){const t=El(e.popupCookieName)==="closed";if(Sn.debug("再表示制御 判定:",!t,"cookieName=",e.popupCookieName,"closed=",t),t)return!1}return Ae.info("shouldShowBanner: 全ての条件を通過しました",e),!0}catch(t){return Ae.error("shouldShowBanner error",t),!1}}function Ml(e){if(e.shouldSetCookie&&e.popupCookieName){let t,r=e.bannerNonDisplaySpanHours;if(typeof r=="string"&&(r=Number(r)),r===0){Sn.debug("bannerNonDisplaySpanHours is 0, not setting cookie.");return}typeof r=="number"&&!isNaN(r)&&(t=Math.floor(r*3600)),Sn.debug("bannerNonDisplaySpanHours:",e.bannerNonDisplaySpanHours,"maxAge:",t),Ll(e.popupCookieName,"closed",t)}}let jo=[],Pn=!1;const Nl={show(e){if(Array.isArray(e)){if(e.length===0)return;const t=Pl(e),r=e.find(n=>(n==null?void 0:n.popupId)===t)||e[0];r&&this.show(r);return}jo.push(e),sn()}};function sn(){if(Pn)return;const e=jo.shift();if(e){if(!e.popupId||!e.popupName){Ae.error("popupIdとpopupNameは必須です",e),sn();return}!e.popupCookieName&&e.popupId&&(e.popupCookieName="popupBanner_"+e.popupId);try{if(!Il(e)){Ae.info("表示条件を満たさないためバナーを表示しません",e),sn();return}Pn=!0;const t=document.createElement("div");document.body.appendChild(t);const r=Eo(Cl,{target:t,props:{popupId:e.popupId,popupName:e.popupName,popupPosition:e.popupPosition,popupWidth:e.popupWidth,popupBackgroundColor:e.popupBackgroundColor,popupPadding:e.popupPadding,popupMargin:e.popupMargin,popupBorderRadius:e.popupBorderRadius,dimBackground:e.dimBackground,closeButtonColor:e.closeButtonColor,closeButtonBackgroundColor:e.closeButtonBackgroundColor,closeButtonTop:e.closeButtonTop,closeButtonRight:e.closeButtonRight,imageUrl:e.imageUrl,imagePadding:e.imagePadding,imageMargin:e.imageMargin,imageBorderRadius:e.imageBorderRadius,imageLoadTimeout:e.imageLoadTimeout||5,imageLoadErrorAction:e.imageLoadErrorAction||"show",imageLink:e.imageLink,imageLinkTarget:e.imageLinkTarget||"_blank",animationType:e.animationType||"none",animationDuration:e.animationDuration||300,animationEasing:e.animationEasing||"ease-out",text:e.text,middleTextAlign:e.middleTextAlign,middleTextLineHeight:e.middleTextLineHeight,middleTextColor:e.middleTextColor,middleTextFontSize:e.middleTextFontSize,middleTextFontWeight:e.middleTextFontWeight,middleTextPadding:e.middleTextPadding,middleTextMargin:e.middleTextMargin,buttonText:e.buttonText,buttonAlign:e.buttonAlign,buttonColor:e.buttonColor,buttonTextColor:e.buttonTextColor,buttonFontSize:e.buttonFontSize,buttonFontWeight:e.buttonFontWeight,buttonPadding:e.buttonPadding,buttonMargin:e.buttonMargin,buttonBorderRadius:e.buttonBorderRadius,buttonBorderStyle:e.buttonBorderStyle,buttonBorderWidth:e.buttonBorderWidth,buttonBorderColor:e.buttonBorderColor,buttonLink:e.buttonLink,buttonLinkTarget:e.buttonLinkTarget||"_blank",underBtnText:e.underBtnText,underBtnTextAlign:e.underBtnTextAlign,underBtnTextLineHeight:e.underBtnTextLineHeight,underBtnTextColor:e.underBtnTextColor,underBtnTextFontSize:e.underBtnTextFontSize,underBtnTextFontWeight:e.underBtnTextFontWeight,underBtnTextPadding:e.underBtnTextPadding,underBtnTextMargin:e.underBtnTextMargin,onButtonClick:()=>{Ae.info("ボタンがクリックされました",e),e.onButtonClick&&e.onButtonClick(),Uo(e.ga4||{})},onImageClick:()=>{Ae.info("画像がクリックされました",e),e.onImageClick&&e.onImageClick(),Uo(e.ga4||{})},onClose:()=>{Ae.info("バナーを閉じました",e),Ml(e),r&&typeof r.destroy=="function"&&r.destroy(),t.remove(),Pn=!1,sn(),e.onClose&&e.onClose()}}});Ae.info("バナーを表示しました",e),Sl(e.ga4||{})}catch(t){Ae.error("TryPopupBanner.show error",t),Pn=!1,sn()}}}(function(e){var n;const t=Nl,r=(n=e.TryPopupBanner)==null?void 0:n.q;e.TryPopupBanner=t,r&&r.forEach(i=>{const l=i[0];typeof t[l]=="function"&&t[l](...i.slice(1))})})(typeof window<"u"?window:globalThis);var Fl=se(`<div class="code-importer svelte-x5xgas"><div class="code-importer-header svelte-x5xgas"><h3 class="svelte-x5xgas">設定の読み込み</h3></div> <p class="code-importer-description svelte-x5xgas">TryPopupBanner.show()形式のコードを貼り付けて、設定をフォームに復元できます。</p> <textarea class="import-code-textarea svelte-x5xgas" placeholder="TryPopupBanner.show({   popupId: 'example',   popupName: 'サンプル',   text: 'テキスト',   imageUrl: 'https://example.com/image.png',   // ... });" rows="10"></textarea> <div class="code-importer-actions svelte-x5xgas"><button class="load-button svelte-x5xgas">📥 設定を読み込む</button> <button class="clear-button svelte-x5xgas">🗑️ クリア</button></div></div>`),Rl=se('<div class="code-generator svelte-x5xgas"><div class="code-generator-header svelte-x5xgas"><h3 class="svelte-x5xgas">生成されたコード</h3> <button class="copy-button svelte-x5xgas">📋 コピー</button></div> <pre class="generated-code svelte-x5xgas"> </pre> <p class="code-generator-note svelte-x5xgas">フォームの内容を変更すると、コードが自動的に更新されます。</p></div>'),Dl=se('<h1>PopupBanner デモ</h1> <h2>基本動作</h2> <ul class="banner-test-list svelte-x5xgas"><li class="svelte-x5xgas"><button>基本バナー</button> <p class="svelte-x5xgas">基本バナーを表示します。</p> <pre class="banner-test-code svelte-x5xgas"></pre></li> <li class="svelte-x5xgas"><button>クリックイベントテスト</button> <p class="svelte-x5xgas">バナー内のボタンをクリックした時にアラートを表示します。</p> <pre class="banner-test-code svelte-x5xgas"></pre></li> <li class="svelte-x5xgas"><button>triggerConditionテスト</button> <p class="svelte-x5xgas">triggerConditionテスト<br/> ページ内に .cart-item が存在する場合に表示されます。</p> <p class="cart-item svelte-x5xgas">判定用要素（クラス名cart-item）</p> <pre class="banner-test-code svelte-x5xgas"></pre></li> <li class="svelte-x5xgas"><button>triggerConditionテスト2</button> <p class="svelte-x5xgas">triggerConditionテスト<br/> ページ内に .cart-item と .special-offer が存在する場合に表示されます。</p> <p class="cart-item svelte-x5xgas">判定用要素（クラス名cart-item）</p> <p class="special-offer svelte-x5xgas">判定用要素（クラス名special-offer）</p> <pre class="banner-test-code svelte-x5xgas"></pre></li> <li class="svelte-x5xgas"><button>triggerConditionテスト3</button> <p class="svelte-x5xgas">triggerConditionテスト<br/> ページ内の .shopping-info のテキストが「送料無料」の場合に表示されます。</p> <p class="shopping-info svelte-x5xgas">送料無料</p> <pre class="banner-test-code svelte-x5xgas"></pre></li> <li class="svelte-x5xgas"><button>amountConditionテスト</button> <p class="svelte-x5xgas">カート内の商品の合計金額が5000円以下の場合に表示されます。<br/> DOMからカート内の商品を取得して判定する例です。</p> <ul class="cart-items"><li><span class="cart-item-name">商品A</span> <span class="cart-item-price">500円</span> <span class="cart-item-quantity">2個</span></li> <li><span class="cart-item-name">商品B</span> <span class="cart-item-price">1,500円</span> <span class="cart-item-quantity">1個</span></li></ul> <pre class="banner-test-code svelte-x5xgas"></pre></li> <li class="svelte-x5xgas"><button>A/Bテストバナー</button> <p class="svelte-x5xgas">A/Bテストバナーを表示します。</p> <pre class="banner-test-code svelte-x5xgas"></pre></li> <li class="svelte-x5xgas"><button>A/Bテストバナー2</button> <p class="svelte-x5xgas">A/Bテストバナー2を表示します。（複数のABテストが実行されても問題無いか確認用）</p> <pre class="banner-test-code svelte-x5xgas"></pre></li> <li class="svelte-x5xgas"><button>キューテスト</button> <p class="svelte-x5xgas">複数のバナーの表示を同時に指定された時に順番に表示されるかテストします。</p> <pre class="banner-test-code svelte-x5xgas"></pre></li></ul> <form class="banner-form svelte-x5xgas"><h2>基本設定</h2> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">popupId</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas" required/></dd> <dt class="banner-form-label svelte-x5xgas">popupName</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas" required/></dd></dl> <h2>表示制御・Cookie設定</h2> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">bannerNonDisplaySpanHours</dt> <dd><input type="number" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">shouldSetCookie</dt> <dd><input type="checkbox" class="banner-form-checkbox svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">startDate</dt> <dd><input type="datetime-local" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">endDate</dt> <dd><input type="datetime-local" class="banner-form-input svelte-x5xgas"/></dd></dl> <h2>バナー見た目・デザイン設定</h2> <h3>バナー全体・背景</h3> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">popupPosition</dt> <dd><select class="banner-form-input svelte-x5xgas"><option>center</option><option>top</option><option>bottom</option><option>middle-right</option><option>middle-left</option><option>bottom-right</option><option>bottom-left</option></select></dd> <dt class="banner-form-label svelte-x5xgas">popupWidth</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">dimBackground</dt> <dd><input type="checkbox" class="banner-form-checkbox svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">popupBackgroundColor</dt> <dd class="banner-form-card svelte-x5xgas"><input type="text" class="banner-form-input-color svelte-x5xgas"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-x5xgas">popupPadding</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">popupMargin</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">popupBorderRadius</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd></dl> <h3>閉じるボタン</h3> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">closeButtonColor</dt> <dd class="banner-form-card svelte-x5xgas"><input type="text" class="banner-form-input-color svelte-x5xgas"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-x5xgas">closeButtonBackgroundColor</dt> <dd class="banner-form-card svelte-x5xgas"><input type="text" class="banner-form-input-color svelte-x5xgas"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-x5xgas">closeButtonTop</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">closeButtonRight</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd></dl> <h3>画像</h3> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">imageURL</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">imagePadding</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">imageMargin</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">imageBorderRadius</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">imageLink</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas" placeholder="https://example.com"/></dd> <dt class="banner-form-label svelte-x5xgas">imageLinkTarget</dt> <dd><select class="banner-form-input svelte-x5xgas"><option>_blank（新しいタブ）</option><option>_self（同じタブ）</option><option>_parent</option><option>_top</option></select></dd></dl> <h3>メインテキスト</h3> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">middleText</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">middleTextAlign</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">middleTextLineHeight</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">middleTextColor</dt> <dd class="banner-form-card svelte-x5xgas"><input type="text" class="banner-form-input-color svelte-x5xgas"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-x5xgas">middleTextFontSize</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">middleTextFontWeight</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">middleTextPadding</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">middleTextMargin</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd></dl> <h3>ボタン下テキスト</h3> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">underBtnText</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">underBtnTextAlign</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">underBtnTextLineHeight</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">underBtnTextColor</dt> <dd class="banner-form-card svelte-x5xgas"><input type="text" class="banner-form-input-color svelte-x5xgas"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-x5xgas">underBtnTextFontSize</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">underBtnTextFontWeight</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">underBtnTextPadding</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">underBtnTextMargin</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd></dl> <h3>ボタン</h3> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">buttonLink</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">linkText</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">enableCopyOnClick</dt> <dd><input type="checkbox" class="banner-form-checkbox svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">buttonAlign</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">buttonColor</dt> <dd class="banner-form-card svelte-x5xgas"><input type="text" class="banner-form-input-color svelte-x5xgas"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-x5xgas">buttonTextColor</dt> <dd class="banner-form-card svelte-x5xgas"><input type="text" class="banner-form-input-color svelte-x5xgas"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-x5xgas">buttonFontSize</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">buttonFontWeight</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">buttonPadding</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">buttonMargin</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">buttonBorderRadius</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">buttonBorderStyle</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">buttonBorderWidth</dt> <dd><input type="text" class="banner-form-input svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">buttonBorderColor</dt> <dd class="banner-form-card svelte-x5xgas"><input type="text" class="banner-form-input-color svelte-x5xgas"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd></dl> <h2>条件設定</h2> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">cartItems</dt> <dd><textarea class="banner-form-input-wide svelte-x5xgas" rows="4"></textarea> <div class="banner-form-example svelte-x5xgas"><p class="svelte-x5xgas"><strong>JSON配列形式:</strong></p> <pre class="banner-form-example-code svelte-x5xgas"></pre> <p class="svelte-x5xgas"><strong>関数形式:</strong></p> <pre class="banner-form-example-code svelte-x5xgas"></pre></div></dd> <dt class="banner-form-label svelte-x5xgas">amountCondition</dt> <dd><textarea class="banner-form-input-wide svelte-x5xgas" rows="4"></textarea> <div class="banner-form-example svelte-x5xgas"><p class="svelte-x5xgas"><strong>3000円以上の場合:</strong></p> <pre class="banner-form-example-code svelte-x5xgas"></pre> <p class="svelte-x5xgas"><strong>5000円未満の場合:</strong></p> <pre class="banner-form-example-code svelte-x5xgas"></pre> <p class="banner-form-note svelte-x5xgas">operator: "gte"(以上), "gt"(より大きい), "lte"(以下), "lt"(未満), "eq"(等しい)</p></div></dd> <dt class="banner-form-label svelte-x5xgas">triggerCondition</dt> <dd><textarea class="banner-form-input-wide svelte-x5xgas" rows="6"></textarea> <div class="banner-form-example svelte-x5xgas"><p class="svelte-x5xgas"><strong>単一要素の存在チェック:</strong></p> <pre class="banner-form-example-code svelte-x5xgas"></pre> <p class="svelte-x5xgas"><strong>複数要素の存在チェック:</strong></p> <pre class="banner-form-example-code svelte-x5xgas"></pre> <p class="svelte-x5xgas"><strong>テキスト内容のチェック:</strong></p> <pre class="banner-form-example-code svelte-x5xgas"></pre> <p class="banner-form-note svelte-x5xgas">logic: "AND"(すべて), "OR"(いずれか)</p></div></dd></dl> <h2>GA4連携設定</h2> <dl class="banner-form-grid svelte-x5xgas"><dt class="banner-form-label svelte-x5xgas">ga4.creative_name</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">ga4.creative_slot</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">ga4.promotion_id</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas"/></dd> <dt class="banner-form-label svelte-x5xgas">ga4.promotion_name</dt> <dd><input type="text" class="banner-form-input-wide svelte-x5xgas"/></dd></dl> <div style="text-align:center;margin-top:16px;"><button type="submit" class="banner-form-submit svelte-x5xgas">バナー表示</button> <button type="button" class="banner-form-code-btn svelte-x5xgas"> </button> <button type="button" class="banner-form-import-btn svelte-x5xgas"> </button></div></form> <!> <!>',3);function ql(e,t){Xn(t,!1);const r=W();let n=W({popupId:"sample",popupName:"サンプルバナー",bannerNonDisplaySpanHours:"0",shouldSetCookie:!0,startDate:"",endDate:"",popupPosition:"center",popupWidth:"400px",dimBackground:!0,popupBackgroundColor:"#ffffff",closeButtonColor:"#000000",closeButtonBackgroundColor:"transparent",closeButtonTop:"",closeButtonRight:"",popupPadding:"",popupMargin:"",popupBorderRadius:"",imageURL:"https://placehold.jp/600x300.png",imagePadding:"",imageMargin:"",imageBorderRadius:"",imageLink:"",imageLinkTarget:"_blank",middleText:"サンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキスト",middleTextAlign:"left",middleTextLineHeight:"1.5",middleTextColor:"#000000",middleTextFontSize:"16px",middleTextFontWeight:"normal",middleTextPadding:"",middleTextMargin:"",underBtnText:"サンプルテキストサンプルテキストサンプルテキスト",underBtnTextAlign:"",underBtnTextLineHeight:"1.5",underBtnTextColor:"#000000",underBtnTextFontSize:"12px",underBtnTextFontWeight:"normal",underBtnTextPadding:"",underBtnTextMargin:"",buttonLink:"https://www.google.com",linkText:"サンプルリンク",enableCopyOnClick:!1,buttonAlign:"center",buttonColor:"#000000",buttonTextColor:"#ffffff",buttonFontSize:"16px",buttonFontWeight:"normal",buttonPadding:"",buttonMargin:"",buttonBorderRadius:"",buttonBorderStyle:"",buttonBorderWidth:"",buttonBorderColor:"",cartItems:"",amountCondition:"",triggerCondition:"",ga4:{creative_name:"sample_creative_name",creative_slot:"popup",promotion_id:"sample_promotion_id",promotion_name:"sample_promotion_name"}});function i(){window.TryPopupBanner.show({popupId:"basic",popupName:"基本バナーのテスト",imageUrl:"https://placehold.jp/600x300.png",text:"基本バナーのテスト",buttonText:"OK",ga4:{creative_name:"basic_creative_name",creative_slot:"popup",promotion_id:"basic_promotion_id",promotion_name:"basic_promotion_name"}})}function l(){window.TryPopupBanner.show({popupId:"eventClick",popupName:"クリックイベントテスト",imageUrl:"https://placehold.jp/600x300.png",text:"クリックした時にアラートを表示",buttonText:"OK",onButtonClick:()=>alert("クリック"),onClose:()=>console.log("閉じる"),ga4:{creative_name:"eventClick_creative_name",creative_slot:"popup",promotion_id:"eventClick_promotion_id",promotion_name:"eventClick_promotion_name"}})}function p(){window.TryPopupBanner.show({popupId:"trigger",popupName:"triggerConditionテスト",imageUrl:"https://placehold.jp/600x300.png",text:"基本バナーのテスト",buttonText:"OK",triggerCondition:{selectors:[{selector:".cart-item",exists:!0}]},ga4:{creative_name:"trigger_creative_name",creative_slot:"popup",promotion_id:"trigger_promotion_id",promotion_name:"trigger_promotion_name"}})}function c(){window.TryPopupBanner.show({popupId:"trigger2",popupName:"triggerConditionテスト2",imageUrl:"https://placehold.jp/600x300.png",text:"ページ内に .cart-item と .special-offer が存在する場合に表示されます。",buttonText:"OK",triggerCondition:{selectors:[{selector:".cart-item",exists:!0},{selector:".special-offer",exists:!0}],logic:"AND"},ga4:{creative_name:"trigger2_creative_name",creative_slot:"popup",promotion_id:"trigger2_promotion_id",promotion_name:"trigger2_promotion_name"}})}function g(){window.TryPopupBanner.show({popupId:"trigger3",popupName:"triggerConditionテスト3",imageUrl:"https://placehold.jp/600x300.png",text:"ページ内の .shopping-info のテキストが「送料無料」の場合に表示されます。",buttonText:"OK",triggerCondition:{selectors:[{selector:".shopping-info",exists:!0,textMatches:"送料無料"}]},ga4:{creative_name:"trigger3_creative_name",creative_slot:"popup",promotion_id:"trigger3_promotion_id",promotion_name:"trigger3_promotion_name"}})}function m(){const o=Array.from(document.querySelectorAll(".cart-items li")).map((f,Y)=>{var q,me,ve,at,mn;return{id:Y,name:((q=f.querySelector(".cart-item-name"))==null?void 0:q.textContent)||"",price:parseInt(((ve=(me=f.querySelector(".cart-item-price"))==null?void 0:me.textContent)==null?void 0:ve.replace(/[^0-9]/g,""))||"0"),quantity:parseInt(((mn=(at=f.querySelector(".cart-item-quantity"))==null?void 0:at.textContent)==null?void 0:mn.replace(/[^0-9]/g,""))||"0")}});window.TryPopupBanner.show({popupId:"amount",popupName:"amountConditionテスト",imageUrl:"https://placehold.jp/600x300.png",text:"カート内の商品の合計金額が5000円以下の場合に表示されます。",cartItems:o,amountCondition:{operator:"lt",value:5e3},ga4:{creative_name:"amount_creative_name",creative_slot:"popup",promotion_id:"amount_promotion_id",promotion_name:"amount_promotion_name"}})}function y(){window.TryPopupBanner.show([{popupId:"abTestA",popupName:"A/BテストバナーA",text:"Aバリアントのバナー",imageUrl:"https://placehold.jp/600x300.png",buttonText:"Aを選択",ga4:{creative_name:"abTestA_creative_name",creative_slot:"popup",promotion_id:"abTestA_promotion_id",promotion_name:"abTestA_promotion_name"}},{popupId:"abTestB",popupName:"A/BテストバナーB",text:"Bバリアントのバナー",imageUrl:"https://placehold.jp/600x300.png",buttonText:"Bを選択",ga4:{creative_name:"abTestB_creative_name",creative_slot:"popup",promotion_id:"abTestB_promotion_id",promotion_name:"abTestB_promotion_name"}}])}function _(){window.TryPopupBanner.show([{popupId:"abTest2A",popupName:"A/BテストバナーA",text:"Aバリアントのバナー",imageUrl:"https://placehold.jp/600x300.png",buttonText:"Aを選択",ga4:{creative_name:"abTest2A_creative_name",creative_slot:"popup",promotion_id:"abTest2A_promotion_id",promotion_name:"abTest2A_promotion_name"}},{popupId:"abTest2B",popupName:"A/BテストバナーB",text:"Bバリアントのバナー",imageUrl:"https://placehold.jp/600x300.png",buttonText:"Bを選択",ga4:{creative_name:"abTest2B_creative_name",creative_slot:"popup",promotion_id:"abTest2B_promotion_id",promotion_name:"abTest2B_promotion_name"}}])}function v(){window.TryPopupBanner.show({popupId:"queueTest",popupName:"キューテスト1",imageUrl:"https://placehold.jp/600x300.png",text:"1つ目のバナー",ga4:{creative_name:"queueTest_creative_name",creative_slot:"popup",promotion_id:"queueTest_promotion_id",promotion_name:"queueTest_promotion_name"}}),window.TryPopupBanner.show({popupId:"queueTest2",popupName:"キューテスト2",popupWidth:"300px",dimBackground:!1,imageUrl:"https://placehold.jp/600x300.png",text:"2つ目のバナー",popupPosition:"bottom-right",ga4:{creative_name:"queueTest2_creative_name",creative_slot:"popup",promotion_id:"queueTest2_promotion_id",promotion_name:"queueTest2_promotion_name"}})}function w(){const o={...a(n)};if(a(n).cartItems)try{a(n).cartItems.trim().startsWith("()")?o.cartItems=new Function("return "+a(n).cartItems)()():o.cartItems=JSON.parse(a(n).cartItems)}catch(f){console.warn("cartItems parse error:",f)}if(a(n).amountCondition)try{o.amountCondition=JSON.parse(a(n).amountCondition)}catch{}if(a(n).triggerCondition)try{o.triggerCondition=JSON.parse(a(n).triggerCondition)}catch{}return a(n).ga4&&(a(n).ga4.creative_name||a(n).ga4.promotion_id||a(n).ga4.promotion_name)&&(o.ga4={...a(n).ga4}),a(n).middleText&&(o.text=a(n).middleText),a(n).imageURL&&(o.imageUrl=a(n).imageURL),a(n).imageLink&&(o.imageLink=a(n).imageLink),a(n).imageLinkTarget&&(o.imageLinkTarget=a(n).imageLinkTarget),a(n).linkText&&(o.buttonText=a(n).linkText),a(n).buttonLink&&(o.buttonLink=a(n).buttonLink),Object.keys(o).forEach(f=>{(o[f]===""||o[f]===null||o[f]===void 0||typeof o[f]=="object"&&o[f]!==null&&Object.keys(o[f]).length===0)&&delete o[f]}),o.popupId=a(n).popupId,o.popupName=a(n).popupName,o}function A(){const o=w();window.TryPopupBanner.show(o)}function R(){const o=w(),f=(q,me=2)=>{const ve=" ".repeat(me);if(q==null)return"null";if(typeof q=="string")return`'${q.replace(/'/g,"\\'")}'`;if(typeof q=="number"||typeof q=="boolean")return q.toString();if(Array.isArray(q))return q.length===0?"[]":`[
${q.map(mn=>`${ve}  ${f(mn,me+2)}`).join(`,
`)}
${ve}]`;if(typeof q=="object"){const at=Object.keys(q);return at.length===0?"{}":`{
${at.map(Qa=>`${ve}  ${Qa}: ${f(q[Qa],me+2)}`).join(`,
`)}
${ve}}`}return String(q)};return`TryPopupBanner.show(${f(o,0)});`}let O=W(!1),H=W(!1),N=W("");function U(){C(O,!a(O))}function G(){C(H,!a(H))}function he(){navigator.clipboard.writeText(a(r)).then(()=>{alert("コードをクリップボードにコピーしました！")}).catch(o=>{console.error("コピーに失敗しました:",o),alert("コピーに失敗しました。手動でコピーしてください。")})}function I(o){try{const f=o.match(/TryPopupBanner\.show\s*\(\s*({[\s\S]*})\s*\)/);if(!f)throw new Error("TryPopupBanner.show()の形式が見つかりません");let Y=f[1];return Y=Y.replace(/'/g,'"'),Y=Y.replace(/([{,]\s*)([a-zA-Z_$][a-zA-Z0-9_$]*)\s*:/g,'$1"$2":'),Y=Y.replace(/,(\s*[}\]])/g,"$1"),JSON.parse(Y)}catch(f){throw console.error("コードのパースに失敗しました:",f),new Error(`コードの解析に失敗しました: ${f.message}`)}}function Z(o){const f={popupId:"",popupName:"",bannerNonDisplaySpanHours:"0",shouldSetCookie:!0,startDate:"",endDate:"",popupPosition:"",popupWidth:"",dimBackground:!0,popupBackgroundColor:"",closeButtonColor:"",closeButtonBackgroundColor:"",closeButtonTop:"",closeButtonRight:"",popupPadding:"",popupMargin:"",popupBorderRadius:"",imageURL:"",imagePadding:"",imageMargin:"",imageBorderRadius:"",imageLink:"",imageLinkTarget:"",middleText:"",middleTextAlign:"",middleTextLineHeight:"",middleTextColor:"",middleTextFontSize:"",middleTextFontWeight:"",middleTextPadding:"",middleTextMargin:"",underBtnText:"",underBtnTextAlign:"",underBtnTextLineHeight:"",underBtnTextColor:"",underBtnTextFontSize:"",underBtnTextFontWeight:"",underBtnTextPadding:"",underBtnTextMargin:"",buttonLink:"",linkText:"",enableCopyOnClick:!1,buttonAlign:"",buttonColor:"",buttonTextColor:"",buttonFontSize:"",buttonFontWeight:"",buttonPadding:"",buttonMargin:"",buttonBorderRadius:"",buttonBorderStyle:"",buttonBorderWidth:"",buttonBorderColor:"",cartItems:"",amountCondition:"",triggerCondition:"",ga4:{creative_name:"",creative_slot:"popup",promotion_id:"",promotion_name:""}};o.popupId&&(f.popupId=o.popupId),o.popupName&&(f.popupName=o.popupName),o.bannerNonDisplaySpanHours!==void 0&&(f.bannerNonDisplaySpanHours=String(o.bannerNonDisplaySpanHours)),o.shouldSetCookie!==void 0&&(f.shouldSetCookie=o.shouldSetCookie),o.startDate&&(f.startDate=o.startDate),o.endDate&&(f.endDate=o.endDate),o.popupPosition&&(f.popupPosition=o.popupPosition),o.popupWidth&&(f.popupWidth=o.popupWidth),o.dimBackground!==void 0&&(f.dimBackground=o.dimBackground),o.popupBackgroundColor&&(f.popupBackgroundColor=o.popupBackgroundColor),o.closeButtonColor&&(f.closeButtonColor=o.closeButtonColor),o.closeButtonBackgroundColor&&(f.closeButtonBackgroundColor=o.closeButtonBackgroundColor),o.closeButtonTop&&(f.closeButtonTop=o.closeButtonTop),o.closeButtonRight&&(f.closeButtonRight=o.closeButtonRight),o.popupPadding&&(f.popupPadding=o.popupPadding),o.popupMargin&&(f.popupMargin=o.popupMargin),o.popupBorderRadius&&(f.popupBorderRadius=o.popupBorderRadius),o.imageUrl&&(f.imageURL=o.imageUrl),o.imagePadding&&(f.imagePadding=o.imagePadding),o.imageMargin&&(f.imageMargin=o.imageMargin),o.imageBorderRadius&&(f.imageBorderRadius=o.imageBorderRadius),o.imageLink&&(f.imageLink=o.imageLink),o.imageLinkTarget&&(f.imageLinkTarget=o.imageLinkTarget),o.text&&(f.middleText=o.text),o.middleTextAlign&&(f.middleTextAlign=o.middleTextAlign),o.middleTextLineHeight&&(f.middleTextLineHeight=o.middleTextLineHeight),o.middleTextColor&&(f.middleTextColor=o.middleTextColor),o.middleTextFontSize&&(f.middleTextFontSize=o.middleTextFontSize),o.middleTextFontWeight&&(f.middleTextFontWeight=o.middleTextFontWeight),o.middleTextPadding&&(f.middleTextPadding=o.middleTextPadding),o.middleTextMargin&&(f.middleTextMargin=o.middleTextMargin),o.underBtnText&&(f.underBtnText=o.underBtnText),o.underBtnTextAlign&&(f.underBtnTextAlign=o.underBtnTextAlign),o.underBtnTextLineHeight&&(f.underBtnTextLineHeight=o.underBtnTextLineHeight),o.underBtnTextColor&&(f.underBtnTextColor=o.underBtnTextColor),o.underBtnTextFontSize&&(f.underBtnTextFontSize=o.underBtnTextFontSize),o.underBtnTextFontWeight&&(f.underBtnTextFontWeight=o.underBtnTextFontWeight),o.underBtnTextPadding&&(f.underBtnTextPadding=o.underBtnTextPadding),o.underBtnTextMargin&&(f.underBtnTextMargin=o.underBtnTextMargin),o.buttonLink&&(f.buttonLink=o.buttonLink),o.buttonText&&(f.linkText=o.buttonText),o.enableCopyOnClick!==void 0&&(f.enableCopyOnClick=o.enableCopyOnClick),o.buttonAlign&&(f.buttonAlign=o.buttonAlign),o.buttonColor&&(f.buttonColor=o.buttonColor),o.buttonTextColor&&(f.buttonTextColor=o.buttonTextColor),o.buttonFontSize&&(f.buttonFontSize=o.buttonFontSize),o.buttonFontWeight&&(f.buttonFontWeight=o.buttonFontWeight),o.buttonPadding&&(f.buttonPadding=o.buttonPadding),o.buttonMargin&&(f.buttonMargin=o.buttonMargin),o.buttonBorderRadius&&(f.buttonBorderRadius=o.buttonBorderRadius),o.buttonBorderStyle&&(f.buttonBorderStyle=o.buttonBorderStyle),o.buttonBorderWidth&&(f.buttonBorderWidth=o.buttonBorderWidth),o.buttonBorderColor&&(f.buttonBorderColor=o.buttonBorderColor),o.cartItems&&(f.cartItems=JSON.stringify(o.cartItems,null,2)),o.amountCondition&&(f.amountCondition=JSON.stringify(o.amountCondition,null,2)),o.triggerCondition&&(f.triggerCondition=JSON.stringify(o.triggerCondition,null,2)),o.ga4&&(f.ga4={...f.ga4,...o.ga4}),C(n,f)}function pe(){try{if(!a(N).trim()){alert("コードを入力してください。");return}const o=I(a(N));Z(o),alert("設定を正常に読み込みました！"),C(H,!1),C(N,"")}catch(o){alert(`設定の読み込みに失敗しました:
${o.message}`)}}Wo(()=>{Promise.resolve().then(()=>as)}),ae(()=>a(O),()=>{C(r,a(O)?R():"")}),uo(),Ro();var Oe=Dl(),He=u(Bn(Oe),4),D=d(He),Ue=d(D),ut=u(Ue,4);ut.textContent=`
      
TryPopupBanner.show({
  popupId: 'basic',
  popupName: '基本バナーのテスト',
  imageUrl: 'https://placehold.jp/600x300.png',
  text: '基本バナーのテスト',
  buttonText: 'OK',
  triggerCondition: {
    selectors: [
      { selector: '.cart-item', exists: true }
    ]
  },
  ga4: {
    creative_name: 'basic_creative_name',
    creative_slot: 'popup',
    promotion_id: 'basic_promotion_id',
    promotion_name: 'basic_promotion_name'
  }
});
    `;var je=u(D,2),dt=d(je),zt=u(dt,4);zt.textContent=`
      
TryPopupBanner.show({
  popupId: 'eventClick',
  popupName: 'クリックイベントテスト',
  imageUrl: 'https://placehold.jp/600x300.png',
  text: 'クリックした時にアラートを表示',
  buttonText: 'OK',
  onButtonClick: () => alert('クリック'),
  onClose: () => console.log('閉じる'),
  ga4: {
    creative_name: 'eventClick_creative_name',
    creative_slot: 'popup',
    promotion_id: 'eventClick_promotion_id',
    promotion_name: 'eventClick_promotion_name'
  }
});
    `;var Se=u(je,2),$t=d(Se),Vt=u($t,6);Vt.textContent=`
      
TryPopupBanner.show({
  popupId: 'trigger',
  popupName: 'triggerConditionテスト',
  imageUrl: 'https://placehold.jp/600x300.png',
  text: '基本バナーのテスト',
  buttonText: 'OK',
  triggerCondition: {
    selectors: [
      { selector: '.cart-item', exists: true }
    ]
  },
  ga4: {
    creative_name: 'trigger_creative_name',
    creative_slot: 'popup',
    promotion_id: 'trigger_promotion_id',
    promotion_name: 'trigger_promotion_name'
  }
});
    `;var ce=u(Se,2),Pe=d(ce),ze=u(Pe,8);ze.textContent=`
      
TryPopupBanner.show({
  popupId: 'trigger2',
  popupName: 'triggerConditionテスト2',
  imageUrl: 'https://placehold.jp/600x300.png',
  text: 'ページ内に .cart-item と .special-offer が存在する場合に表示されます。',
  buttonText: 'OK',
  triggerCondition: {
    "selectors": [
      { "selector": ".cart-item", "exists": true },
      { "selector": ".special-offer", "exists": true }
    ],
    "logic": "AND"
  },
  ga4: {
    creative_name: 'trigger2_creative_name',
    creative_slot: 'popup',
    promotion_id: 'trigger2_promotion_id',
    promotion_name: 'trigger2_promotion_name'
  }
});
    `;var pt=u(ce,2),$e=d(pt),ct=u($e,6);ct.textContent=`
      
TryPopupBanner.show({
  popupId: 'trigger3',
  popupName: 'triggerConditionテスト3',
  imageUrl: 'https://placehold.jp/600x300.png',
  text: 'ページ内の .shopping-info のテキストが「送料無料」の場合に表示されます。',
  buttonText: 'OK',
  triggerCondition: {
    "selectors": [
      { "selector": ".shopping-info", "exists": true, "textMatches": "送料無料" }
    ]
  },
  ga4: {
    creative_name: 'trigger3_creative_name',
    creative_slot: 'popup',
    promotion_id: 'trigger3_promotion_id',
    promotion_name: 'trigger3_promotion_name'
  }
});
    `;var Ve=u(pt,2),Ge=d(Ve),ft=u(Ge,6);ft.textContent=`
      
// カート内の商品の合計金額を計算
// 以下の形式にして、dataCartItemsに格納する
// [
//   { id: '1', name: 'A', price: 2000, quantity: 1 },
//   { id: '2', name: 'B', price: 1500, quantity: 1 }
// ]
const dataCartItems = Array.from(document.querySelectorAll('.cart-items li'))
  .map((item, index) => ({
    id: index,
    name: item.querySelector('.cart-item-name')?.textContent || '',
    price: parseInt(item.querySelector('.cart-item-price')?.textContent?.replace(/[^0-9]/g, '') || '0'),
    quantity: parseInt(item.querySelector('.cart-item-quantity')?.textContent?.replace(/[^0-9]/g, '') || '0')
  }));

TryPopupBanner.show({
  popupId: 'amount',
  popupName: 'amountConditionテスト',
  text: 'amountConditionテスト',
  cartItems: dataCartItems,
  amountCondition: { operator: 'lt', value: 5000 },
  ga4: {
    creative_name: 'amount_creative_name',
    creative_slot: 'popup',
    promotion_id: 'amount_promotion_id',
    promotion_name: 'amount_promotion_name'
  }
});
    `;var Ke=u(Ve,2),Ye=d(Ke),Gt=u(Ye,4);Gt.textContent=`
      
TryPopupBanner.show([
  {
    popupId: 'abTestA',
    popupName: 'A/BテストバナーA',
    text: 'Aバリアントのバナー',
    imageUrl: 'https://placehold.jp/600x300.png',
    buttonText: 'Aを選択',
    ga4: {
      creative_name: 'abTestA_creative_name',
      creative_slot: 'popup',
      promotion_id: 'abTestA_promotion_id',
      promotion_name: 'abTestA_promotion_name'
    }
  },
  {
    popupId: 'abTestB',
    popupName: 'A/BテストバナーB',
    text: 'Bバリアントのバナー',
    imageUrl: 'https://placehold.jp/600x300.png',
    buttonText: 'Bを選択',
    ga4: {
      creative_name: 'abTestB_creative_name',
      creative_slot: 'popup',
      promotion_id: 'abTestB_promotion_id',
      promotion_name: 'abTestB_promotion_name'
    }
  }
]);

    `;var Je=u(Ke,2),Qe=d(Je),gt=u(Qe,4);gt.textContent=`
          
TryPopupBanner.show([
  {
    popupId: 'abTest2A',
    popupName: 'A/BテストバナーA',
    text: 'Aバリアントのバナー',
    imageUrl: 'https://placehold.jp/600x300.png',
    buttonText: 'Aを選択',
    ga4: {
      creative_name: 'abTest2A_creative_name',
      creative_slot: 'popup',
      promotion_id: 'abTest2A_promotion_id',
      promotion_name: 'abTest2A_promotion_name'
    }
  },
  {
    popupId: 'abTest2B',
    popupName: 'A/BテストバナーB',
    text: 'Bバリアントのバナー',
    imageUrl: 'https://placehold.jp/600x300.png',
    buttonText: 'Bを選択',
    ga4: {
      creative_name: 'abTest2B_creative_name',
      creative_slot: 'popup',
      promotion_id: 'abTest2B_promotion_id',
      promotion_name: 'abTest2B_promotion_name'
    }
  }
]);

        `;var mt=u(Je,2),Ze=d(mt),vt=u(Ze,4);vt.textContent=`
          
TryPopupBanner.show({
  popupId: 'queueTest',
  popupName: 'キューテスト1',
  imageUrl: 'https://placehold.jp/600x300.png',
  text: '1つ目のバナー',
  ga4: {
    creative_name: 'queueTest_creative_name',
    creative_slot: 'popup',
    promotion_id: 'queueTest_promotion_id',
    promotion_name: 'queueTest_promotion_name'
  }
});
TryPopupBanner.show({
  popupId: 'queueTest2',
  popupName: 'キューテスト2',
  imageUrl: 'https://placehold.jp/600x300.png',
  text: '2つ目のバナー',
  ga4: {
    creative_name: 'queueTest2_creative_name',
    creative_slot: 'popup',
    promotion_id: 'queueTest2_promotion_id',
    promotion_name: 'queueTest2_promotion_name'
  }
});

        `;var Le=u(He,2),Xe=u(d(Le),2),et=u(d(Xe),2),xt=d(et),_t=u(et,4),bt=d(_t),Kt=u(Xe,4),ht=u(d(Kt),2),Tt=d(ht),tt=u(ht,4),Bt=d(tt),nt=u(tt,4),yt=d(nt),Ct=u(nt,4),wt=d(Ct),kt=u(Kt,6),Te=u(d(kt),2),fe=d(Te);j(()=>{a(n),Ao(()=>{})});var X=d(fe);X.value=X.__value="center";var Be=u(X);Be.value=Be.__value="top";var At=u(Be);At.value=At.__value="bottom";var k=u(At);k.value=k.__value="middle-right";var K=u(k);K.value=K.__value="middle-left";var Ee=u(K);Ee.value=Ee.__value="bottom-right";var Nn=u(Ee);Nn.value=Nn.__value="bottom-left";var un=u(Te,4),Fn=d(un),dn=u(un,4),wr=d(dn),pn=u(dn,4),Rn=d(pn),St=u(Rn,2);de(St,1,"banner-form-colorpicker svelte-x5xgas"),j(()=>qe(St,"value",(a(n),$(()=>a(n).popupBackgroundColor))));var Dn=u(pn,4),kr=d(Dn),cn=u(Dn,4),qn=d(cn),Ar=u(cn,4),Sr=d(Ar),Wn=u(kt,4),s=u(d(Wn),2),ye=d(s),Yt=u(ye,2);de(Yt,1,"banner-form-colorpicker svelte-x5xgas"),j(()=>qe(Yt,"value",(a(n),$(()=>a(n).closeButtonColor))));var On=u(s,4),fn=d(On),rt=u(fn,2);de(rt,1,"banner-form-colorpicker svelte-x5xgas"),j(()=>qe(rt,"value",(a(n),$(()=>a(n).closeButtonBackgroundColor))));var Pt=u(On,4),Hn=d(Pt),Pr=u(Pt,4),Un=d(Pr),jn=u(Wn,4),gn=u(d(jn),2),Lr=d(gn),zn=u(gn,4),Er=d(zn),M=u(zn,4),F=d(M),Ce=u(M,4),Ir=d(Ce),$n=u(Ce,4),ot=d($n),ge=u($n,4),Jt=d(ge);j(()=>{a(n),Ao(()=>{})});var Mr=d(Jt);Mr.value=Mr.__value="_blank";var Nr=u(Mr);Nr.value=Nr.__value="_self";var Fr=u(Nr);Fr.value=Fr.__value="_parent";var Xo=u(Fr);Xo.value=Xo.__value="_top";var ea=u(jn,4),ta=u(d(ea),2),is=d(ta),na=u(ta,4),ls=d(na),ra=u(na,4),ss=d(ra),oa=u(ra,4),aa=d(oa),Rr=u(aa,2);de(Rr,1,"banner-form-colorpicker svelte-x5xgas"),j(()=>qe(Rr,"value",(a(n),$(()=>a(n).middleTextColor))));var ia=u(oa,4),us=d(ia),la=u(ia,4),ds=d(la),sa=u(la,4),ps=d(sa),cs=u(sa,4),fs=d(cs),ua=u(ea,4),da=u(d(ua),2),gs=d(da),pa=u(da,4),ms=d(pa),ca=u(pa,4),vs=d(ca),fa=u(ca,4),ga=d(fa),Dr=u(ga,2);de(Dr,1,"banner-form-colorpicker svelte-x5xgas"),j(()=>qe(Dr,"value",(a(n),$(()=>a(n).underBtnTextColor))));var ma=u(fa,4),xs=d(ma),va=u(ma,4),_s=d(va),xa=u(va,4),bs=d(xa),hs=u(xa,4),Ts=d(hs),_a=u(ua,4),ba=u(d(_a),2),Bs=d(ba),ha=u(ba,4),ys=d(ha),Ta=u(ha,4),Cs=d(Ta),Ba=u(Ta,4),ws=d(Ba),ya=u(Ba,4),Ca=d(ya),qr=u(Ca,2);de(qr,1,"banner-form-colorpicker svelte-x5xgas"),j(()=>qe(qr,"value",(a(n),$(()=>a(n).buttonColor))));var wa=u(ya,4),ka=d(wa),Wr=u(ka,2);de(Wr,1,"banner-form-colorpicker svelte-x5xgas"),j(()=>qe(Wr,"value",(a(n),$(()=>a(n).buttonTextColor))));var Aa=u(wa,4),ks=d(Aa),Sa=u(Aa,4),As=d(Sa),Pa=u(Sa,4),Ss=d(Pa),La=u(Pa,4),Ps=d(La),Ea=u(La,4),Ls=d(Ea),Ia=u(Ea,4),Es=d(Ia),Ma=u(Ia,4),Is=d(Ma),Ms=u(Ma,4),Na=d(Ms),Or=u(Na,2);de(Or,1,"banner-form-colorpicker svelte-x5xgas"),j(()=>qe(Or,"value",(a(n),$(()=>a(n).buttonBorderColor))));var Fa=u(_a,4),Ra=u(d(Fa),2),Da=d(Ra),Ns=u(Da,2),qa=u(d(Ns),2);qa.textContent=`[
  {"id":"1","name":"商品A","price":1000,"quantity":1},
  {"id":"2","name":"商品B","price":2000,"quantity":2}
]`;var Fs=u(qa,4);Fs.textContent=`() => [
  {"id":"1","name":"商品A","price":1000,"quantity":1},
  {"id":"2","name":"商品B","price":2000,"quantity":2}
]`;var Wa=u(Ra,4),Oa=d(Wa),Rs=u(Oa,2),Ha=u(d(Rs),2);Ha.textContent=`{
  "operator": "gte",
  "value": 3000
}`;var Ds=u(Ha,4);Ds.textContent=`{
  "operator": "lt",
  "value": 5000
}`;var qs=u(Wa,4),Ua=d(qs),Ws=u(Ua,2),ja=u(d(Ws),2);ja.textContent=`{
  "selectors": [
    {"selector": ".cart-item", "exists": true}
  ],
  "logic": "AND"
}`;var za=u(ja,4);za.textContent=`{
  "selectors": [
    {"selector": ".cart-item", "exists": true},
    {"selector": ".special-offer", "exists": true}
  ],
  "logic": "AND"
}`;var Os=u(za,4);Os.textContent=`{
  "selectors": [
    {
      "selector": ".shopping-info",
      "exists": true,
      "textMatches": "送料無料"
    }
  ]
}`;var $a=u(Fa,4),Va=u(d($a),2),Hs=d(Va),Ga=u(Va,4),Us=d(Ga),Ka=u(Ga,4),js=d(Ka),zs=u(Ka,4),$s=d(zs),Vs=u($a,2),Hr=u(d(Vs),2),Gs=d(Hr),Ya=u(Hr,2),Ks=d(Ya),Ja=u(Le,2);{var Ys=o=>{var f=Fl(),Y=u(d(f),4),q=u(Y,2),me=d(q),ve=u(me,2);T(Y,()=>a(N),at=>C(N,at)),P("click",me,pe),P("click",ve,()=>C(N,"")),re(o,f)};be(Ja,o=>{a(H)&&o(Ys)})}var Js=u(Ja,2);{var Qs=o=>{var f=Rl(),Y=d(f),q=u(d(Y),2),me=u(Y,2),ve=d(me);j(()=>qt(ve,a(r))),P("click",q,he),re(o,f)};be(Js,o=>{a(O)&&o(Qs)})}j(()=>{qt(Gs,a(O)?"コードジェネレーターを閉じる":"コードを生成"),qt(Ks,a(H)?"インポーターを閉じる":"設定を読み込む")}),P("click",Ue,i),P("click",dt,l),P("click",$t,p),P("click",Pe,c),P("click",$e,g),P("click",Ge,m),P("click",Ye,y),P("click",Qe,_),P("click",Ze,v),T(xt,()=>a(n).popupId,o=>x(n,a(n).popupId=o)),T(bt,()=>a(n).popupName,o=>x(n,a(n).popupName=o)),T(Tt,()=>a(n).bannerNonDisplaySpanHours,o=>x(n,a(n).bannerNonDisplaySpanHours=o)),gr(Bt,()=>a(n).shouldSetCookie,o=>x(n,a(n).shouldSetCookie=o)),T(yt,()=>a(n).startDate,o=>x(n,a(n).startDate=o)),T(wt,()=>a(n).endDate,o=>x(n,a(n).endDate=o)),Mo(fe,()=>a(n).popupPosition,o=>x(n,a(n).popupPosition=o)),T(Fn,()=>a(n).popupWidth,o=>x(n,a(n).popupWidth=o)),gr(wr,()=>a(n).dimBackground,o=>x(n,a(n).dimBackground=o)),T(Rn,()=>a(n).popupBackgroundColor,o=>x(n,a(n).popupBackgroundColor=o)),P("color-changed",St,o=>x(n,a(n).popupBackgroundColor=o.detail.value)),T(kr,()=>a(n).popupPadding,o=>x(n,a(n).popupPadding=o)),T(qn,()=>a(n).popupMargin,o=>x(n,a(n).popupMargin=o)),T(Sr,()=>a(n).popupBorderRadius,o=>x(n,a(n).popupBorderRadius=o)),T(ye,()=>a(n).closeButtonColor,o=>x(n,a(n).closeButtonColor=o)),P("color-changed",Yt,o=>x(n,a(n).closeButtonColor=o.detail.value)),T(fn,()=>a(n).closeButtonBackgroundColor,o=>x(n,a(n).closeButtonBackgroundColor=o)),P("color-changed",rt,o=>x(n,a(n).closeButtonBackgroundColor=o.detail.value)),T(Hn,()=>a(n).closeButtonTop,o=>x(n,a(n).closeButtonTop=o)),T(Un,()=>a(n).closeButtonRight,o=>x(n,a(n).closeButtonRight=o)),T(Lr,()=>a(n).imageURL,o=>x(n,a(n).imageURL=o)),T(Er,()=>a(n).imagePadding,o=>x(n,a(n).imagePadding=o)),T(F,()=>a(n).imageMargin,o=>x(n,a(n).imageMargin=o)),T(Ir,()=>a(n).imageBorderRadius,o=>x(n,a(n).imageBorderRadius=o)),T(ot,()=>a(n).imageLink,o=>x(n,a(n).imageLink=o)),Mo(Jt,()=>a(n).imageLinkTarget,o=>x(n,a(n).imageLinkTarget=o)),T(is,()=>a(n).middleText,o=>x(n,a(n).middleText=o)),T(ls,()=>a(n).middleTextAlign,o=>x(n,a(n).middleTextAlign=o)),T(ss,()=>a(n).middleTextLineHeight,o=>x(n,a(n).middleTextLineHeight=o)),T(aa,()=>a(n).middleTextColor,o=>x(n,a(n).middleTextColor=o)),P("color-changed",Rr,o=>x(n,a(n).middleTextColor=o.detail.value)),T(us,()=>a(n).middleTextFontSize,o=>x(n,a(n).middleTextFontSize=o)),T(ds,()=>a(n).middleTextFontWeight,o=>x(n,a(n).middleTextFontWeight=o)),T(ps,()=>a(n).middleTextPadding,o=>x(n,a(n).middleTextPadding=o)),T(fs,()=>a(n).middleTextMargin,o=>x(n,a(n).middleTextMargin=o)),T(gs,()=>a(n).underBtnText,o=>x(n,a(n).underBtnText=o)),T(ms,()=>a(n).underBtnTextAlign,o=>x(n,a(n).underBtnTextAlign=o)),T(vs,()=>a(n).underBtnTextLineHeight,o=>x(n,a(n).underBtnTextLineHeight=o)),T(ga,()=>a(n).underBtnTextColor,o=>x(n,a(n).underBtnTextColor=o)),P("color-changed",Dr,o=>x(n,a(n).underBtnTextColor=o.detail.value)),T(xs,()=>a(n).underBtnTextFontSize,o=>x(n,a(n).underBtnTextFontSize=o)),T(_s,()=>a(n).underBtnTextFontWeight,o=>x(n,a(n).underBtnTextFontWeight=o)),T(bs,()=>a(n).underBtnTextPadding,o=>x(n,a(n).underBtnTextPadding=o)),T(Ts,()=>a(n).underBtnTextMargin,o=>x(n,a(n).underBtnTextMargin=o)),T(Bs,()=>a(n).buttonLink,o=>x(n,a(n).buttonLink=o)),T(ys,()=>a(n).linkText,o=>x(n,a(n).linkText=o)),gr(Cs,()=>a(n).enableCopyOnClick,o=>x(n,a(n).enableCopyOnClick=o)),T(ws,()=>a(n).buttonAlign,o=>x(n,a(n).buttonAlign=o)),T(Ca,()=>a(n).buttonColor,o=>x(n,a(n).buttonColor=o)),P("color-changed",qr,o=>x(n,a(n).buttonColor=o.detail.value)),T(ka,()=>a(n).buttonTextColor,o=>x(n,a(n).buttonTextColor=o)),P("color-changed",Wr,o=>x(n,a(n).buttonTextColor=o.detail.value)),T(ks,()=>a(n).buttonFontSize,o=>x(n,a(n).buttonFontSize=o)),T(As,()=>a(n).buttonFontWeight,o=>x(n,a(n).buttonFontWeight=o)),T(Ss,()=>a(n).buttonPadding,o=>x(n,a(n).buttonPadding=o)),T(Ps,()=>a(n).buttonMargin,o=>x(n,a(n).buttonMargin=o)),T(Ls,()=>a(n).buttonBorderRadius,o=>x(n,a(n).buttonBorderRadius=o)),T(Es,()=>a(n).buttonBorderStyle,o=>x(n,a(n).buttonBorderStyle=o)),T(Is,()=>a(n).buttonBorderWidth,o=>x(n,a(n).buttonBorderWidth=o)),T(Na,()=>a(n).buttonBorderColor,o=>x(n,a(n).buttonBorderColor=o)),P("color-changed",Or,o=>x(n,a(n).buttonBorderColor=o.detail.value)),T(Da,()=>a(n).cartItems,o=>x(n,a(n).cartItems=o)),T(Oa,()=>a(n).amountCondition,o=>x(n,a(n).amountCondition=o)),T(Ua,()=>a(n).triggerCondition,o=>x(n,a(n).triggerCondition=o)),T(Hs,()=>a(n).ga4.creative_name,o=>x(n,a(n).ga4.creative_name=o)),T(Us,()=>a(n).ga4.creative_slot,o=>x(n,a(n).ga4.creative_slot=o)),T(js,()=>a(n).ga4.promotion_id,o=>x(n,a(n).ga4.promotion_id=o)),T($s,()=>a(n).ga4.promotion_name,o=>x(n,a(n).ga4.promotion_name=o)),P("click",Hr,U),P("click",Ya,G),P("submit",Le,il(A)),re(e,Oe),er()}const Wl=Eo(ql,{target:document.getElementById("app")}),Ut=(e,t=0,r=1)=>e>r?r:e<t?t:e,V=(e,t=0,r=Math.pow(10,t))=>Math.round(r*e)/r,Ol=e=>zl(xr(e)),xr=e=>(e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?V(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?V(parseInt(e.substring(6,8),16)/255,2):1}),Hl=e=>jl(Ul(e)),zo=({h:e,s:t,v:r,a:n})=>{const i=(200-t)*r/100;return{h:V(e),s:V(i>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0),l:V(i/2),a:V(n,2)}},_r=e=>{const{h:t,s:r,l:n}=zo(e);return`hsl(${t}, ${r}%, ${n}%)`},br=e=>{const{h:t,s:r,l:n,a:i}=zo(e);return`hsla(${t}, ${r}%, ${n}%, ${i})`},Ul=({h:e,s:t,v:r,a:n})=>{e=e/360*6,t=t/100,r=r/100;const i=Math.floor(e),l=r*(1-t),p=r*(1-(e-i)*t),c=r*(1-(1-e+i)*t),g=i%6;return{r:V([r,p,l,l,c,r][g]*255),g:V([c,r,r,p,l,l][g]*255),b:V([l,l,c,r,r,p][g]*255),a:V(n,2)}},Ln=e=>{const t=e.toString(16);return t.length<2?"0"+t:t},jl=({r:e,g:t,b:r,a:n})=>{const i=n<1?Ln(V(n*255)):"";return"#"+Ln(e)+Ln(t)+Ln(r)+i},zl=({r:e,g:t,b:r,a:n})=>{const i=Math.max(e,t,r),l=i-Math.min(e,t,r),p=l?i===e?(t-r)/l:i===t?2+(r-e)/l:4+(e-t)/l:0;return{h:V(60*(p<0?p+6:p)),s:V(i?l/i*100:0),v:V(i/255*100),a:n}},$o=(e,t)=>{if(e===t)return!0;for(const r in e)if(e[r]!==t[r])return!1;return!0},$l=(e,t)=>e.toLowerCase()===t.toLowerCase()?!0:$o(xr(e),xr(t)),Vo={},Go=e=>{let t=Vo[e];return t||(t=document.createElement("template"),t.innerHTML=e,Vo[e]=t),t},hr=(e,t,r)=>{e.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:r}))};let jt=!1;const Tr=e=>"touches"in e,Vl=e=>jt&&!Tr(e)?!1:(jt||(jt=Tr(e)),!0),Ko=(e,t)=>{const r=Tr(t)?t.touches[0]:t,n=e.el.getBoundingClientRect();hr(e.el,"move",e.getMove({x:Ut((r.pageX-(n.left+window.pageXOffset))/n.width),y:Ut((r.pageY-(n.top+window.pageYOffset))/n.height)}))},Gl=(e,t)=>{const r=t.keyCode;r>40||e.xy&&r<37||r<33||(t.preventDefault(),hr(e.el,"move",e.getMove({x:r===39?.01:r===37?-.01:r===34?.05:r===33?-.05:r===35?1:r===36?-1:0,y:r===40?.01:r===38?-.01:0},!0)))};class Br{constructor(t,r,n,i){const l=Go(`<div role="slider" tabindex="0" part="${r}" ${n}><div part="${r}-pointer"></div></div>`);t.appendChild(l.content.cloneNode(!0));const p=t.querySelector(`[part=${r}]`);p.addEventListener("mousedown",this),p.addEventListener("touchstart",this),p.addEventListener("keydown",this),this.el=p,this.xy=i,this.nodes=[p.firstChild,p]}set dragging(t){const r=t?document.addEventListener:document.removeEventListener;r(jt?"touchmove":"mousemove",this),r(jt?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!Vl(t)||!jt&&t.button!=0)return;this.el.focus(),Ko(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),Ko(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":Gl(this,t);break}}style(t){t.forEach((r,n)=>{for(const i in r)this.nodes[n].style.setProperty(i,r[i])})}}class Kl extends Br{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:`${t/360*100}%`,color:_r({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${V(t)}`)}getMove(t,r){return{h:r?Ut(this.h+t.x*360,0,360):360*t.x}}}class Yl extends Br{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:`${100-t.v}%`,left:`${t.s}%`,color:_r(t)},{"background-color":_r({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${V(t.s)}%, Brightness ${V(t.v)}%`)}getMove(t,r){return{s:r?Ut(this.hsva.s+t.x*100,0,100):t.x*100,v:r?Ut(this.hsva.v-t.y*100,0,100):Math.round(100-t.y*100)}}}const Jl=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',Ql="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",Zl="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",En=Symbol("same"),yr=Symbol("color"),Yo=Symbol("hsva"),Cr=Symbol("update"),Jo=Symbol("parts"),In=Symbol("css"),Mn=Symbol("sliders");class Xl extends HTMLElement{static get observedAttributes(){return["color"]}get[In](){return[Jl,Ql,Zl]}get[Mn](){return[Yl,Kl]}get color(){return this[yr]}set color(t){if(!this[En](t)){const r=this.colorModel.toHsva(t);this[Cr](r),this[yr]=t}}constructor(){super();const t=Go(`<style>${this[In].join("")}</style>`),r=this.attachShadow({mode:"open"});r.appendChild(t.content.cloneNode(!0)),r.addEventListener("move",this),this[Jo]=this[Mn].map(n=>new n(r))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,r,n){const i=this.colorModel.fromAttr(n);this[En](i)||(this.color=i)}handleEvent(t){const r=this[Yo],n={...r,...t.detail};this[Cr](n);let i;!$o(n,r)&&!this[En](i=this.colorModel.fromHsva(n))&&(this[yr]=i,hr(this,"color-changed",{value:i}))}[En](t){return this.color&&this.colorModel.equal(t,this.color)}[Cr](t){this[Yo]=t,this[Jo].forEach(r=>r.update(t))}}class es extends Br{constructor(t){super(t,"alpha",'aria-label="Alpha" aria-valuemin="0" aria-valuemax="1"',!1)}update(t){this.hsva=t;const r=br({...t,a:0}),n=br({...t,a:1}),i=t.a*100;this.style([{left:`${i}%`,color:br(t)},{"--gradient":`linear-gradient(90deg, ${r}, ${n}`}]);const l=V(i);this.el.setAttribute("aria-valuenow",`${l}`),this.el.setAttribute("aria-valuetext",`${l}%`)}getMove(t,r){return{a:r?Ut(this.hsva.a+t.x):t.x}}}const ts=`[part=alpha]{flex:0 0 24px}[part=alpha]::after{display:block;content:"";position:absolute;top:0;left:0;right:0;bottom:0;border-radius:inherit;background-image:var(--gradient);box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part^=alpha]{background-color:#fff;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>')}[part=alpha-pointer]{top:50%}`;class ns extends Xl{get[In](){return[...super[In],ts]}get[Mn](){return[...super[Mn],es]}}const rs={defaultColor:"#0001",toHsva:Ol,fromHsva:Hl,equal:$l,fromAttr:e=>e};class os extends ns{get colorModel(){return rs}}class Qo extends os{}customElements.define("hex-alpha-color-picker",Qo);const as=Object.freeze(Object.defineProperty({__proto__:null,HexAlphaColorPicker:Qo},Symbol.toStringTag,{value:"Module"}));return Wl});
