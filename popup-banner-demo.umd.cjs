(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".popup-banner.svelte-1ncgpv8{border-radius:8px;box-shadow:0 2px 8px #00000026;padding:40px 0 20px;max-width:400px;width:90%;margin:0 auto;position:fixed;left:50%;transform:translate(-50%);z-index:10000;box-sizing:border-box;background:#fff;top:40px}.position-bottom.svelte-1ncgpv8{top:auto;bottom:40px}.position-top.svelte-1ncgpv8{top:40px;bottom:auto}.position-center.svelte-1ncgpv8{top:50%;left:50%;bottom:auto;right:auto;transform:translate(-50%,-50%)}.position-middle-left.svelte-1ncgpv8{top:50%;left:40px;right:auto;bottom:auto;transform:translateY(-50%)}.position-middle-right.svelte-1ncgpv8{top:50%;right:40px;left:auto;bottom:auto;transform:translateY(-50%)}.position-bottom-left.svelte-1ncgpv8{bottom:40px;left:40px;right:auto;top:auto;transform:none}.position-bottom-right.svelte-1ncgpv8{bottom:40px;right:40px;left:auto;top:auto;transform:none}@media (max-width: 600px){.popup-banner.svelte-1ncgpv8{max-width:98vw;width:98vw;padding:8px}}.close-btn.svelte-1ncgpv8{position:absolute;top:8px;right:8px;background:transparent;border:none;font-size:20px;cursor:pointer}.banner-image.svelte-1ncgpv8{display:block;max-width:100%;margin:0 auto}.banner-text.svelte-1ncgpv8{margin:16px;font-size:1.1em;text-align:center}.banner-btn.svelte-1ncgpv8{display:block;margin:0 auto;padding:8px 24px;font-size:1em;border-radius:4px;border:none;background:#0070f3;color:#fff;cursor:pointer}.under-btn-text.svelte-1ncgpv8{margin:16px;font-size:.95em;text-align:center}.dim-bg.svelte-1ncgpv8{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#0006;z-index:9999}.banner-test-list.svelte-1enf53u{list-style:none;padding:0;margin:0;display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.banner-test-list.svelte-1enf53u>li:where(.svelte-1enf53u){margin-bottom:16px;padding:16px;background:#fafbfc;border:1px solid #ddd;border-radius:12px;box-shadow:0 2px 8px #0000000a}.banner-test-list.svelte-1enf53u>li:where(.svelte-1enf53u) p:where(.svelte-1enf53u){margin-top:8px;font-size:.9em;color:#666}.banner-test-code.svelte-1enf53u{margin-top:8px;font-size:.9em;color:#666;background:#ebe9e9;border-radius:12px;overflow-x:auto;padding:0 0 15px 20px}.banner-form.svelte-1enf53u{margin-bottom:32px;max-width:700px;padding:24px 16px;background:#fafbfc;border:1px solid #ddd;border-radius:12px;box-shadow:0 2px 8px #0000000a}.banner-form-grid.svelte-1enf53u{display:grid;grid-template-columns:200px 1fr;row-gap:14px;column-gap:12px;align-items:center}.banner-form-label.svelte-1enf53u{color:#222;font-size:.98em}.banner-form-input.svelte-1enf53u,.banner-form-input-wide.svelte-1enf53u{width:calc(100% - 20px);padding:4px 8px;font-size:1em;border:1px solid #ccc;border-radius:4px;background:#fff}.banner-form-input-color.svelte-1enf53u{width:120px;margin-bottom:4px;margin-top:4px;padding:4px 8px;font-size:1em;border:1px solid #ccc;border-radius:4px;background:#fff}.banner-form-checkbox.svelte-1enf53u{transform:scale(1.2);margin-right:6px}.banner-form-card.svelte-1enf53u{background:#fff;border:1px solid #e0e0e0;border-radius:8px;padding:10px 8px;overflow-x:auto}.banner-form-submit.svelte-1enf53u{padding:8px 32px;font-size:1.1em;border-radius:6px;background:#1976d2;color:#fff;border:none;cursor:pointer;margin-top:16px}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
(function(S,e){typeof exports=="object"&&typeof module<"u"?module.exports=e():typeof define=="function"&&define.amd?define(e):(S=typeof globalThis<"u"?globalThis:S||self,S.PopupBannerDemo=e())})(this,function(){"use strict";var S;const DEV=!1;var is_array=Array.isArray,index_of=Array.prototype.indexOf,array_from=Array.from,define_property=Object.defineProperty,get_descriptor=Object.getOwnPropertyDescriptor,get_descriptors=Object.getOwnPropertyDescriptors,object_prototype=Object.prototype,array_prototype=Array.prototype,get_prototype_of=Object.getPrototypeOf,is_extensible=Object.isExtensible;function run(e){return e()}function run_all(e){for(var t=0;t<e.length;t++)e[t]()}const DERIVED=2,EFFECT=4,RENDER_EFFECT=8,BLOCK_EFFECT=16,BRANCH_EFFECT=32,ROOT_EFFECT=64,BOUNDARY_EFFECT=128,UNOWNED=256,DISCONNECTED=512,CLEAN=1024,DIRTY=2048,MAYBE_DIRTY=4096,INERT=8192,DESTROYED=16384,EFFECT_RAN=32768,EFFECT_TRANSPARENT=65536,LEGACY_DERIVED_PROP=1<<17,HEAD_EFFECT=1<<19,EFFECT_HAS_DERIVED=1<<20,EFFECT_IS_UPDATING=1<<21,STATE_SYMBOL=Symbol("$state"),LEGACY_PROPS=Symbol("legacy props"),LOADING_ATTR_SYMBOL=Symbol("");function equals(e){return e===this.v}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function safe_equals(e){return!safe_not_equal(e,this.v)}function effect_in_teardown(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function effect_in_unowned_derived(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function effect_orphan(e){throw new Error("https://svelte.dev/e/effect_orphan")}function effect_update_depth_exceeded(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function props_invalid_value(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function state_descriptors_fixed(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function state_prototype_fixed(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function state_unsafe_mutation(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let legacy_mode_flag=!1,tracing_mode_flag=!1;function enable_legacy_mode_flag(){legacy_mode_flag=!0}const PROPS_IS_RUNES=2,PROPS_IS_BINDABLE=8,TEMPLATE_FRAGMENT=1,TEMPLATE_USE_IMPORT_NODE=2,UNINITIALIZED=Symbol(),NAMESPACE_HTML="http://www.w3.org/1999/xhtml";function lifecycle_outside_component(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let component_context=null;function set_component_context(e){component_context=e}function push(e,t=!1,n){var r=component_context={p:component_context,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};legacy_mode_flag&&!t&&(component_context.l={s:null,u:null,r1:[],r2:source(!1)}),teardown(()=>{r.d=!0})}function pop(e){const t=component_context;if(t!==null){e!==void 0&&(t.x=e);const l=t.e;if(l!==null){var n=active_effect,r=active_reaction;t.e=null;try{for(var o=0;o<l.length;o++){var i=l[o];set_active_effect(i.effect),set_active_reaction(i.reaction),effect(i.fn)}}finally{set_active_effect(n),set_active_reaction(r)}}component_context=t.p,t.m=!0}return e||{}}function is_runes(){return!legacy_mode_flag||component_context!==null&&component_context.l===null}function proxy(e){if(typeof e!="object"||e===null||STATE_SYMBOL in e)return e;const t=get_prototype_of(e);if(t!==object_prototype&&t!==array_prototype)return e;var n=new Map,r=is_array(e),o=state(0),i=active_reaction,l=s=>{var u=active_reaction;set_active_reaction(i);var d=s();return set_active_reaction(u),d};return r&&n.set("length",state(e.length)),new Proxy(e,{defineProperty(s,u,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&state_descriptors_fixed();var _=n.get(u);return _===void 0?_=l(()=>{var c=state(d.value);return n.set(u,c),c}):set(_,d.value,!0),!0},deleteProperty(s,u){var d=n.get(u);if(d===void 0){if(u in s){const f=l(()=>state(UNINITIALIZED));n.set(u,f),update_version(o)}}else{if(r&&typeof u=="string"){var _=n.get("length"),c=Number(u);Number.isInteger(c)&&c<_.v&&set(_,c)}set(d,UNINITIALIZED),update_version(o)}return!0},get(s,u,d){var g;if(u===STATE_SYMBOL)return e;var _=n.get(u),c=u in s;if(_===void 0&&(!c||(g=get_descriptor(s,u))!=null&&g.writable)&&(_=l(()=>{var v=proxy(c?s[u]:UNINITIALIZED),h=state(v);return h}),n.set(u,_)),_!==void 0){var f=get(_);return f===UNINITIALIZED?void 0:f}return Reflect.get(s,u,d)},getOwnPropertyDescriptor(s,u){var d=Reflect.getOwnPropertyDescriptor(s,u);if(d&&"value"in d){var _=n.get(u);_&&(d.value=get(_))}else if(d===void 0){var c=n.get(u),f=c==null?void 0:c.v;if(c!==void 0&&f!==UNINITIALIZED)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return d},has(s,u){var f;if(u===STATE_SYMBOL)return!0;var d=n.get(u),_=d!==void 0&&d.v!==UNINITIALIZED||Reflect.has(s,u);if(d!==void 0||active_effect!==null&&(!_||(f=get_descriptor(s,u))!=null&&f.writable)){d===void 0&&(d=l(()=>{var g=_?proxy(s[u]):UNINITIALIZED,v=state(g);return v}),n.set(u,d));var c=get(d);if(c===UNINITIALIZED)return!1}return _},set(s,u,d,_){var b;var c=n.get(u),f=u in s;if(r&&u==="length")for(var g=d;g<c.v;g+=1){var v=n.get(g+"");v!==void 0?set(v,UNINITIALIZED):g in s&&(v=l(()=>state(UNINITIALIZED)),n.set(g+"",v))}if(c===void 0)(!f||(b=get_descriptor(s,u))!=null&&b.writable)&&(c=l(()=>state(void 0)),set(c,proxy(d)),n.set(u,c));else{f=c.v!==UNINITIALIZED;var h=l(()=>proxy(d));set(c,h)}var C=Reflect.getOwnPropertyDescriptor(s,u);if(C!=null&&C.set&&C.set.call(_,d),!f){if(r&&typeof u=="string"){var B=n.get("length"),T=Number(u);Number.isInteger(T)&&T>=B.v&&set(B,T+1)}update_version(o)}return!0},ownKeys(s){get(o);var u=Reflect.ownKeys(s).filter(c=>{var f=n.get(c);return f===void 0||f.v!==UNINITIALIZED});for(var[d,_]of n)_.v!==UNINITIALIZED&&!(d in s)&&u.push(d);return u},setPrototypeOf(){state_prototype_fixed()}})}function update_version(e,t=1){set(e,e.v+t)}function get_proxied_value(e){try{if(e!==null&&typeof e=="object"&&STATE_SYMBOL in e)return e[STATE_SYMBOL]}catch{}return e}function is(e,t){return Object.is(get_proxied_value(e),get_proxied_value(t))}function derived(e){var t=DERIVED|DIRTY,n=active_reaction!==null&&(active_reaction.f&DERIVED)!==0?active_reaction:null;return active_effect===null||n!==null&&(n.f&UNOWNED)!==0?t|=UNOWNED:active_effect.f|=EFFECT_HAS_DERIVED,{ctx:component_context,deps:null,effects:null,equals,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??active_effect}}function derived_safe_equal(e){const t=derived(e);return t.equals=safe_equals,t}function destroy_derived_effects(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)destroy_effect(t[n])}}function get_derived_parent_effect(e){for(var t=e.parent;t!==null;){if((t.f&DERIVED)===0)return t;t=t.parent}return null}function execute_derived(e){var t,n=active_effect;set_active_effect(get_derived_parent_effect(e));try{destroy_derived_effects(e),t=update_reaction(e)}finally{set_active_effect(n)}return t}function update_derived(e){var t=execute_derived(e);if(e.equals(t)||(e.v=t,e.wv=increment_write_version()),!is_destroying_effect){var n=(skip_reaction||(e.f&UNOWNED)!==0)&&e.deps!==null?MAYBE_DIRTY:CLEAN;set_signal_status(e,n)}}const old_values=new Map;function source(e,t){var n={f:0,v:e,reactions:null,equals,rv:0,wv:0};return n}function state(e,t){const n=source(e);return push_reaction_value(n),n}function mutable_source(e,t=!1,n=!0){var o;const r=source(e);return t||(r.equals=safe_equals),legacy_mode_flag&&n&&component_context!==null&&component_context.l!==null&&((o=component_context.l).s??(o.s=[])).push(r),r}function mutate(e,t){return set(e,untrack(()=>get(e))),t}function set(e,t,n=!1){active_reaction!==null&&!untracking&&is_runes()&&(active_reaction.f&(DERIVED|BLOCK_EFFECT))!==0&&!(reaction_sources!=null&&reaction_sources[1].includes(e)&&reaction_sources[0]===active_reaction)&&state_unsafe_mutation();let r=n?proxy(t):t;return internal_set(e,r)}function internal_set(e,t){if(!e.equals(t)){var n=e.v;is_destroying_effect?old_values.set(e,t):old_values.set(e,n),e.v=t,(e.f&DERIVED)!==0&&((e.f&DIRTY)!==0&&execute_derived(e),set_signal_status(e,(e.f&UNOWNED)===0?CLEAN:MAYBE_DIRTY)),e.wv=increment_write_version(),mark_reactions(e,DIRTY),is_runes()&&active_effect!==null&&(active_effect.f&CLEAN)!==0&&(active_effect.f&(BRANCH_EFFECT|ROOT_EFFECT))===0&&(untracked_writes===null?set_untracked_writes([e]):untracked_writes.push(e))}return t}function mark_reactions(e,t){var n=e.reactions;if(n!==null)for(var r=is_runes(),o=n.length,i=0;i<o;i++){var l=n[i],s=l.f;(s&DIRTY)===0&&(!r&&l===active_effect||(set_signal_status(l,t),(s&(CLEAN|UNOWNED))!==0&&((s&DERIVED)!==0?mark_reactions(l,MAYBE_DIRTY):schedule_effect(l))))}}function select_multiple_invalid_value(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}var $window,is_firefox,first_child_getter,next_sibling_getter;function init_operations(){if($window===void 0){$window=window,is_firefox=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;first_child_getter=get_descriptor(t,"firstChild").get,next_sibling_getter=get_descriptor(t,"nextSibling").get,is_extensible(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),is_extensible(n)&&(n.__t=void 0)}}function create_text(e=""){return document.createTextNode(e)}function get_first_child(e){return first_child_getter.call(e)}function get_next_sibling(e){return next_sibling_getter.call(e)}function child(e,t){return get_first_child(e)}function first_child(e,t){{var n=get_first_child(e);return n instanceof Comment&&n.data===""?get_next_sibling(n):n}}function sibling(e,t=1,n=!1){let r=e;for(;t--;)r=get_next_sibling(r);return r}function validate_effect(e){active_effect===null&&active_reaction===null&&effect_orphan(),active_reaction!==null&&(active_reaction.f&UNOWNED)!==0&&active_effect===null&&effect_in_unowned_derived(),is_destroying_effect&&effect_in_teardown()}function push_effect(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function create_effect(e,t,n,r=!0){var o=active_effect,i={ctx:component_context,deps:null,nodes_start:null,nodes_end:null,f:e|DIRTY,first:null,fn:t,last:null,next:null,parent:o,prev:null,teardown:null,transitions:null,wv:0};if(n)try{update_effect(i),i.f|=EFFECT_RAN}catch(u){throw destroy_effect(i),u}else t!==null&&schedule_effect(i);var l=n&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(EFFECT_HAS_DERIVED|BOUNDARY_EFFECT))===0;if(!l&&r&&(o!==null&&push_effect(i,o),active_reaction!==null&&(active_reaction.f&DERIVED)!==0)){var s=active_reaction;(s.effects??(s.effects=[])).push(i)}return i}function teardown(e){const t=create_effect(RENDER_EFFECT,null,!1);return set_signal_status(t,CLEAN),t.teardown=e,t}function user_effect(e){validate_effect();var t=active_effect!==null&&(active_effect.f&BRANCH_EFFECT)!==0&&component_context!==null&&!component_context.m;if(t){var n=component_context;(n.e??(n.e=[])).push({fn:e,effect:active_effect,reaction:active_reaction})}else{var r=effect(e);return r}}function user_pre_effect(e){return validate_effect(),render_effect(e)}function component_root(e){const t=create_effect(ROOT_EFFECT,e,!0);return(n={})=>new Promise(r=>{n.outro?pause_effect(t,()=>{destroy_effect(t),r(void 0)}):(destroy_effect(t),r(void 0))})}function effect(e){return create_effect(EFFECT,e,!1)}function legacy_pre_effect(e,t){var n=component_context,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=render_effect(()=>{e(),!r.ran&&(r.ran=!0,set(n.l.r2,!0),untrack(t))})}function legacy_pre_effect_reset(){var e=component_context;render_effect(()=>{if(get(e.l.r2)){for(var t of e.l.r1){var n=t.effect;(n.f&CLEAN)!==0&&set_signal_status(n,MAYBE_DIRTY),check_dirtiness(n)&&update_effect(n),t.ran=!1}e.l.r2.v=!1}})}function render_effect(e){return create_effect(RENDER_EFFECT,e,!0)}function template_effect(e,t=[],n=derived){const r=t.map(n);return block(()=>e(...r.map(get)))}function block(e,t=0){return create_effect(RENDER_EFFECT|BLOCK_EFFECT|t,e,!0)}function branch(e,t=!0){return create_effect(RENDER_EFFECT|BRANCH_EFFECT,e,!0,t)}function execute_effect_teardown(e){var t=e.teardown;if(t!==null){const n=is_destroying_effect,r=active_reaction;set_is_destroying_effect(!0),set_active_reaction(null);try{t.call(null)}finally{set_is_destroying_effect(n),set_active_reaction(r)}}}function destroy_effect_children(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&ROOT_EFFECT)!==0?n.parent=null:destroy_effect(n,t),n=r}}function destroy_block_effect_children(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&BRANCH_EFFECT)===0&&destroy_effect(t),t=n}}function destroy_effect(e,t=!0){var n=!1;(t||(e.f&HEAD_EFFECT)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(remove_effect_dom(e.nodes_start,e.nodes_end),n=!0),destroy_effect_children(e,t&&!n),remove_reactions(e,0),set_signal_status(e,DESTROYED);var r=e.transitions;if(r!==null)for(const i of r)i.stop();execute_effect_teardown(e);var o=e.parent;o!==null&&o.first!==null&&unlink_effect(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function remove_effect_dom(e,t){for(;e!==null;){var n=e===t?null:get_next_sibling(e);e.remove(),e=n}}function unlink_effect(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function pause_effect(e,t){var n=[];pause_children(e,n,!0),run_out_transitions(n,()=>{destroy_effect(e),t&&t()})}function run_out_transitions(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var o of e)o.out(r)}else t()}function pause_children(e,t,n){if((e.f&INERT)===0){if(e.f^=INERT,e.transitions!==null)for(const l of e.transitions)(l.is_global||n)&&t.push(l);for(var r=e.first;r!==null;){var o=r.next,i=(r.f&EFFECT_TRANSPARENT)!==0||(r.f&BRANCH_EFFECT)!==0;pause_children(r,t,i?n:!1),r=o}}}function resume_effect(e){resume_children(e,!0)}function resume_children(e,t){if((e.f&INERT)!==0){e.f^=INERT;for(var n=e.first;n!==null;){var r=n.next,o=(n.f&EFFECT_TRANSPARENT)!==0||(n.f&BRANCH_EFFECT)!==0;resume_children(n,o?t:!1),n=r}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let micro_tasks=[],idle_tasks=[];function run_micro_tasks(){var e=micro_tasks;micro_tasks=[],run_all(e)}function run_idle_tasks(){var e=idle_tasks;idle_tasks=[],run_all(e)}function queue_micro_task(e){micro_tasks.length===0&&queueMicrotask(run_micro_tasks),micro_tasks.push(e)}function flush_tasks(){micro_tasks.length>0&&run_micro_tasks(),idle_tasks.length>0&&run_idle_tasks()}function handle_error(e){var t=active_effect;if((t.f&EFFECT_RAN)===0){if((t.f&BOUNDARY_EFFECT)===0)throw e;t.fn(e)}else invoke_error_boundary(e,t)}function invoke_error_boundary(e,t){for(;t!==null;){if((t.f&BOUNDARY_EFFECT)!==0)try{t.fn(e);return}catch{}t=t.parent}throw e}let is_flushing=!1,last_scheduled_effect=null,is_updating_effect=!1,is_destroying_effect=!1;function set_is_destroying_effect(e){is_destroying_effect=e}let queued_root_effects=[],dev_effect_stack=[],active_reaction=null,untracking=!1;function set_active_reaction(e){active_reaction=e}let active_effect=null;function set_active_effect(e){active_effect=e}let reaction_sources=null;function push_reaction_value(e){active_reaction!==null&&active_reaction.f&EFFECT_IS_UPDATING&&(reaction_sources===null?reaction_sources=[active_reaction,[e]]:reaction_sources[1].push(e))}let new_deps=null,skipped_deps=0,untracked_writes=null;function set_untracked_writes(e){untracked_writes=e}let write_version=1,read_version=0,skip_reaction=!1,captured_signals=null;function increment_write_version(){return++write_version}function check_dirtiness(e){var c;var t=e.f;if((t&DIRTY)!==0)return!0;if((t&MAYBE_DIRTY)!==0){var n=e.deps,r=(t&UNOWNED)!==0;if(n!==null){var o,i,l=(t&DISCONNECTED)!==0,s=r&&active_effect!==null&&!skip_reaction,u=n.length;if(l||s){var d=e,_=d.parent;for(o=0;o<u;o++)i=n[o],(l||!((c=i==null?void 0:i.reactions)!=null&&c.includes(d)))&&(i.reactions??(i.reactions=[])).push(d);l&&(d.f^=DISCONNECTED),s&&_!==null&&(_.f&UNOWNED)===0&&(d.f^=UNOWNED)}for(o=0;o<u;o++)if(i=n[o],check_dirtiness(i)&&update_derived(i),i.wv>e.wv)return!0}(!r||active_effect!==null&&!skip_reaction)&&set_signal_status(e,CLEAN)}return!1}function schedule_possible_effect_self_invalidation(e,t,n=!0){var r=e.reactions;if(r!==null)for(var o=0;o<r.length;o++){var i=r[o];reaction_sources!=null&&reaction_sources[1].includes(e)&&reaction_sources[0]===active_reaction||((i.f&DERIVED)!==0?schedule_possible_effect_self_invalidation(i,t,!1):t===i&&(n?set_signal_status(i,DIRTY):(i.f&CLEAN)!==0&&set_signal_status(i,MAYBE_DIRTY),schedule_effect(i)))}}function update_reaction(e){var g;var t=new_deps,n=skipped_deps,r=untracked_writes,o=active_reaction,i=skip_reaction,l=reaction_sources,s=component_context,u=untracking,d=e.f;new_deps=null,skipped_deps=0,untracked_writes=null,skip_reaction=(d&UNOWNED)!==0&&(untracking||!is_updating_effect||active_reaction===null),active_reaction=(d&(BRANCH_EFFECT|ROOT_EFFECT))===0?e:null,reaction_sources=null,set_component_context(e.ctx),untracking=!1,read_version++,e.f|=EFFECT_IS_UPDATING;try{var _=(0,e.fn)(),c=e.deps;if(new_deps!==null){var f;if(remove_reactions(e,skipped_deps),c!==null&&skipped_deps>0)for(c.length=skipped_deps+new_deps.length,f=0;f<new_deps.length;f++)c[skipped_deps+f]=new_deps[f];else e.deps=c=new_deps;if(!skip_reaction)for(f=skipped_deps;f<c.length;f++)((g=c[f]).reactions??(g.reactions=[])).push(e)}else c!==null&&skipped_deps<c.length&&(remove_reactions(e,skipped_deps),c.length=skipped_deps);if(is_runes()&&untracked_writes!==null&&!untracking&&c!==null&&(e.f&(DERIVED|MAYBE_DIRTY|DIRTY))===0)for(f=0;f<untracked_writes.length;f++)schedule_possible_effect_self_invalidation(untracked_writes[f],e);return o!==null&&o!==e&&(read_version++,untracked_writes!==null&&(r===null?r=untracked_writes:r.push(...untracked_writes))),_}catch(v){handle_error(v)}finally{new_deps=t,skipped_deps=n,untracked_writes=r,active_reaction=o,skip_reaction=i,reaction_sources=l,set_component_context(s),untracking=u,e.f^=EFFECT_IS_UPDATING}}function remove_reaction(e,t){let n=t.reactions;if(n!==null){var r=index_of.call(n,e);if(r!==-1){var o=n.length-1;o===0?n=t.reactions=null:(n[r]=n[o],n.pop())}}n===null&&(t.f&DERIVED)!==0&&(new_deps===null||!new_deps.includes(t))&&(set_signal_status(t,MAYBE_DIRTY),(t.f&(UNOWNED|DISCONNECTED))===0&&(t.f^=DISCONNECTED),destroy_derived_effects(t),remove_reactions(t,0))}function remove_reactions(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)remove_reaction(e,n[r])}function update_effect(e){var t=e.f;if((t&DESTROYED)===0){set_signal_status(e,CLEAN);var n=active_effect,r=is_updating_effect;active_effect=e,is_updating_effect=!0;try{(t&BLOCK_EFFECT)!==0?destroy_block_effect_children(e):destroy_effect_children(e),execute_effect_teardown(e);var o=update_reaction(e);e.teardown=typeof o=="function"?o:null,e.wv=write_version;var i}finally{is_updating_effect=r,active_effect=n}}}function infinite_loop_guard(){try{effect_update_depth_exceeded()}catch(e){if(last_scheduled_effect!==null)invoke_error_boundary(e,last_scheduled_effect);else throw e}}function flush_queued_root_effects(){var e=is_updating_effect;try{var t=0;for(is_updating_effect=!0;queued_root_effects.length>0;){t++>1e3&&infinite_loop_guard();var n=queued_root_effects,r=n.length;queued_root_effects=[];for(var o=0;o<r;o++){var i=process_effects(n[o]);flush_queued_effects(i)}old_values.clear()}}finally{is_flushing=!1,is_updating_effect=e,last_scheduled_effect=null}}function flush_queued_effects(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];(r.f&(DESTROYED|INERT))===0&&check_dirtiness(r)&&(update_effect(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?unlink_effect(r):r.fn=null))}}function schedule_effect(e){is_flushing||(is_flushing=!0,queueMicrotask(flush_queued_root_effects));for(var t=last_scheduled_effect=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(ROOT_EFFECT|BRANCH_EFFECT))!==0){if((n&CLEAN)===0)return;t.f^=CLEAN}}queued_root_effects.push(t)}function process_effects(e){for(var t=[],n=e;n!==null;){var r=n.f,o=(r&(BRANCH_EFFECT|ROOT_EFFECT))!==0,i=o&&(r&CLEAN)!==0;if(!i&&(r&INERT)===0){(r&EFFECT)!==0?t.push(n):o?n.f^=CLEAN:check_dirtiness(n)&&update_effect(n);var l=n.first;if(l!==null){n=l;continue}}var s=n.parent;for(n=n.next;n===null&&s!==null;)n=s.next,s=s.parent}return t}function flushSync(e){for(var t;;){if(flush_tasks(),queued_root_effects.length===0)return is_flushing=!1,last_scheduled_effect=null,t;is_flushing=!0,flush_queued_root_effects()}}function get(e){var t=e.f,n=(t&DERIVED)!==0;if(captured_signals!==null&&captured_signals.add(e),active_reaction!==null&&!untracking){if(!(reaction_sources!=null&&reaction_sources[1].includes(e))||reaction_sources[0]!==active_reaction){var r=active_reaction.deps;e.rv<read_version&&(e.rv=read_version,new_deps===null&&r!==null&&r[skipped_deps]===e?skipped_deps++:new_deps===null?new_deps=[e]:(!skip_reaction||!new_deps.includes(e))&&new_deps.push(e))}}else if(n&&e.deps===null&&e.effects===null){var o=e,i=o.parent;i!==null&&(i.f&UNOWNED)===0&&(o.f^=UNOWNED)}return n&&(o=e,check_dirtiness(o)&&update_derived(o)),is_destroying_effect&&old_values.has(e)?old_values.get(e):e.v}function capture_signals(e){var t=captured_signals;captured_signals=new Set;var n=captured_signals,r;try{if(untrack(e),t!==null)for(r of captured_signals)t.add(r)}finally{captured_signals=t}return n}function invalidate_inner_signals(e){var t=capture_signals(()=>untrack(e));for(var n of t)if((n.f&LEGACY_DERIVED_PROP)!==0)for(const r of n.deps||[])(r.f&DERIVED)===0&&internal_set(r,r.v);else internal_set(n,n.v)}function untrack(e){var t=untracking;try{return untracking=!0,e()}finally{untracking=t}}const STATUS_MASK=-7169;function set_signal_status(e,t){e.f=e.f&STATUS_MASK|t}function deep_read_state(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(STATE_SYMBOL in e)deep_read(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&STATE_SYMBOL in n&&deep_read(n)}}}function deep_read(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{deep_read(e[r],t)}catch{}const n=get_prototype_of(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=get_descriptors(n);for(let o in r){const i=r[o].get;if(i)try{i.call(e)}catch{}}}}}const PASSIVE_EVENTS=["touchstart","touchmove"];function is_passive_event(e){return PASSIVE_EVENTS.includes(e)}let listening_to_form_reset=!1;function add_form_reset_listener(){listening_to_form_reset||(listening_to_form_reset=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function without_reactive_context(e){var t=active_reaction,n=active_effect;set_active_reaction(null),set_active_effect(null);try{return e()}finally{set_active_reaction(t),set_active_effect(n)}}function listen_to_event_and_reset_event(e,t,n,r=n){e.addEventListener(t,()=>without_reactive_context(n));const o=e.__on_r;o?e.__on_r=()=>{o(),r(!0)}:e.__on_r=()=>r(!0),add_form_reset_listener()}const all_registered_events=new Set,root_event_handles=new Set;function create_event(e,t,n,r={}){function o(i){if(r.capture||handle_event_propagation.call(t,i),!i.cancelBubble)return without_reactive_context(()=>n==null?void 0:n.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?queue_micro_task(()=>{t.addEventListener(e,o,r)}):t.addEventListener(e,o,r),o}function event(e,t,n,r,o){var i={capture:r,passive:o},l=create_event(e,t,n,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&teardown(()=>{t.removeEventListener(e,l,i)})}function handle_event_propagation(e){var T;var t=this,n=t.ownerDocument,r=e.type,o=((T=e.composedPath)==null?void 0:T.call(e))||[],i=o[0]||e.target,l=0,s=e.__root;if(s){var u=o.indexOf(s);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var d=o.indexOf(t);if(d===-1)return;u<=d&&(l=u)}if(i=o[l]||e.target,i!==t){define_property(e,"currentTarget",{configurable:!0,get(){return i||n}});var _=active_reaction,c=active_effect;set_active_reaction(null),set_active_effect(null);try{for(var f,g=[];i!==null;){var v=i.assignedSlot||i.parentNode||i.host||null;try{var h=i["__"+r];if(h!=null&&(!i.disabled||e.target===i))if(is_array(h)){var[C,...B]=h;C.apply(i,[e,...B])}else h.call(i,e)}catch(b){f?g.push(b):f=b}if(e.cancelBubble||v===t||v===null)break;i=v}if(f){for(let b of g)queueMicrotask(()=>{throw b});throw f}}finally{e.__root=t,delete e.currentTarget,set_active_reaction(_),set_active_effect(c)}}}function create_fragment_from_html(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function assign_nodes(e,t){var n=active_effect;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function from_html(e,t){var n=(t&TEMPLATE_FRAGMENT)!==0,r=(t&TEMPLATE_USE_IMPORT_NODE)!==0,o,i=!e.startsWith("<!>");return()=>{o===void 0&&(o=create_fragment_from_html(i?e:"<!>"+e),n||(o=get_first_child(o)));var l=r||is_firefox?document.importNode(o,!0):o.cloneNode(!0);if(n){var s=get_first_child(l),u=l.lastChild;assign_nodes(s,u)}else assign_nodes(l,l);return l}}function append(e,t){e!==null&&e.before(t)}function set_text(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function mount(e,t){return _mount(e,t)}const document_listeners=new Map;function _mount(e,{target:t,anchor:n,props:r={},events:o,context:i,intro:l=!0}){init_operations();var s=new Set,u=c=>{for(var f=0;f<c.length;f++){var g=c[f];if(!s.has(g)){s.add(g);var v=is_passive_event(g);t.addEventListener(g,handle_event_propagation,{passive:v});var h=document_listeners.get(g);h===void 0?(document.addEventListener(g,handle_event_propagation,{passive:v}),document_listeners.set(g,1)):document_listeners.set(g,h+1)}}};u(array_from(all_registered_events)),root_event_handles.add(u);var d=void 0,_=component_root(()=>{var c=n??t.appendChild(create_text());return branch(()=>{if(i){push({});var f=component_context;f.c=i}o&&(r.$$events=o),d=e(c,r)||{},i&&pop()}),()=>{var v;for(var f of s){t.removeEventListener(f,handle_event_propagation);var g=document_listeners.get(f);--g===0?(document.removeEventListener(f,handle_event_propagation),document_listeners.delete(f)):document_listeners.set(f,g)}root_event_handles.delete(u),c!==n&&((v=c.parentNode)==null||v.removeChild(c))}});return mounted_components.set(d,_),d}let mounted_components=new WeakMap;function if_block(e,t,[n,r]=[0,0]){var o=e,i=null,l=null,s=UNINITIALIZED,u=n>0?EFFECT_TRANSPARENT:0,d=!1;const _=(f,g=!0)=>{d=!0,c(g,f)},c=(f,g)=>{s!==(s=f)&&(s?(i?resume_effect(i):g&&(i=branch(()=>g(o))),l&&pause_effect(l,()=>{l=null})):(l?resume_effect(l):g&&(l=branch(()=>g(o,[n+1,r]))),i&&pause_effect(i,()=>{i=null})))};block(()=>{d=!1,t(_),d||c(null,null)},u)}function to_class(e,t,n){var r=e==null?"":""+e;return t&&(r=r?r+" "+t:t),r===""?null:r}function to_style(e,t){return e==null?null:String(e)}function set_class(e,t,n,r,o,i){var l=e.__className;if(l!==n||l===void 0){var s=to_class(n,r);s==null?e.removeAttribute("class"):e.className=s,e.__className=n}return i}function set_style(e,t,n,r){var o=e.__style;if(o!==t){var i=to_style(t);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=t}return r}function select_option(e,t,n){if(e.multiple){if(t==null)return;if(!is_array(t))return select_multiple_invalid_value();for(var r of e.options)r.selected=t.includes(get_option_value(r));return}for(r of e.options){var o=get_option_value(r);if(is(o,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function init_select(e,t){effect(()=>{var n=new MutationObserver(()=>{var r=e.__value;select_option(e,r)});return n.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function bind_select_value(e,t,n=t){var r=!0;listen_to_event_and_reset_event(e,"change",o=>{var i=o?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(i),get_option_value);else{var s=e.querySelector(i)??e.querySelector("option:not([disabled])");l=s&&get_option_value(s)}n(l)}),effect(()=>{var o=t();if(select_option(e,o,r),r&&o===void 0){var i=e.querySelector(":checked");i!==null&&(o=get_option_value(i),n(o))}e.__value=o,r=!1}),init_select(e)}function get_option_value(e){return"__value"in e?e.__value:e.value}const IS_CUSTOM_ELEMENT=Symbol("is custom element"),IS_HTML=Symbol("is html");function set_attribute(e,t,n,r){var o=get_attributes(e);o[t]!==(o[t]=n)&&(t==="loading"&&(e[LOADING_ATTR_SYMBOL]=n),n==null?e.removeAttribute(t):typeof n!="string"&&get_setters(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function set_custom_element_data(e,t,n){var r=active_reaction,o=active_effect;set_active_reaction(null),set_active_effect(null);try{t!=="style"&&(setters_cache.has(e.nodeName)||!customElements||customElements.get(e.tagName.toLowerCase())?get_setters(e).includes(t):n&&typeof n=="object")?e[t]=n:set_attribute(e,t,n==null?n:String(n))}finally{set_active_reaction(r),set_active_effect(o)}}function get_attributes(e){return e.__attributes??(e.__attributes={[IS_CUSTOM_ELEMENT]:e.nodeName.includes("-"),[IS_HTML]:e.namespaceURI===NAMESPACE_HTML})}var setters_cache=new Map;function get_setters(e){var t=setters_cache.get(e.nodeName);if(t)return t;setters_cache.set(e.nodeName,t=[]);for(var n,r=e,o=Element.prototype;o!==r;){n=get_descriptors(r);for(var i in n)n[i].set&&t.push(i);r=get_prototype_of(r)}return t}function bind_value(e,t,n=t){var r=is_runes();listen_to_event_and_reset_event(e,"input",o=>{var i=o?e.defaultValue:e.value;if(i=is_numberlike_input(e)?to_number(i):i,n(i),r&&i!==(i=t())){var l=e.selectionStart,s=e.selectionEnd;e.value=i??"",s!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(s,e.value.length))}}),untrack(t)==null&&e.value&&n(is_numberlike_input(e)?to_number(e.value):e.value),render_effect(()=>{var o=t();is_numberlike_input(e)&&o===to_number(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function bind_checked(e,t,n=t){listen_to_event_and_reset_event(e,"change",r=>{var o=r?e.defaultChecked:e.checked;n(o)}),untrack(t)==null&&n(e.checked),render_effect(()=>{var r=t();e.checked=!!r})}function is_numberlike_input(e){var t=e.type;return t==="number"||t==="range"}function to_number(e){return e===""?null:+e}function preventDefault(e){return function(...t){var n=t[0];return n.preventDefault(),e==null?void 0:e.apply(this,t)}}function init(e=!1){const t=component_context,n=t.l.u;if(!n)return;let r=()=>deep_read_state(t.s);if(e){let o=0,i={};const l=derived(()=>{let s=!1;const u=t.s;for(const d in u)u[d]!==i[d]&&(i[d]=u[d],s=!0);return s&&o++,o});r=()=>get(l)}n.b.length&&user_pre_effect(()=>{observe_all(t,r),run_all(n.b)}),user_effect(()=>{const o=untrack(()=>n.m.map(run));return()=>{for(const i of o)typeof i=="function"&&i()}}),n.a.length&&user_effect(()=>{observe_all(t,r),run_all(n.a)})}function observe_all(e,t){if(e.l.s)for(const n of e.l.s)get(n);t()}let is_store_binding=!1;function capture_store_binding(e){var t=is_store_binding;try{return is_store_binding=!1,[e(),is_store_binding]}finally{is_store_binding=t}}function has_destroyed_component_ctx(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function prop(e,t,n,r){var w;var o=!legacy_mode_flag||(n&PROPS_IS_RUNES)!==0,i=(n&PROPS_IS_BINDABLE)!==0,l=!1,s;[s,l]=capture_store_binding(()=>e[t]);var u=STATE_SYMBOL in e||LEGACY_PROPS in e,d=(((w=get_descriptor(e,t))==null?void 0:w.set)??(u&&t in e&&(m=>e[t]=m)))||void 0,_=r,c=!0,f=!1,g=()=>(f=!0,c&&(c=!1,_=r),_);s===void 0&&r!==void 0&&(d&&o&&props_invalid_value(),s=g(),d&&d(s));var v;if(o)v=()=>{var m=e[t];return m===void 0?g():(c=!0,f=!1,m)};else{var h=derived_safe_equal(()=>e[t]);h.f|=LEGACY_DERIVED_PROP,v=()=>{var m=get(h);return m!==void 0&&(_=void 0),m===void 0?_:m}}if(d){var C=e.$$legacy;return function(m,k){return arguments.length>0?((!o||!k||C||l)&&d(k?v():m),m):v()}}var B=!1,T=!1,b=mutable_source(s),y=derived(()=>{var m=v(),k=get(b);return B?(B=!1,T=!0,k):(T=!1,b.v=m)});return get(y),y.equals=safe_equals,function(m,k){if(captured_signals!==null&&(B=T,v(),get(b)),arguments.length>0){const E=k?get(y):o&&i?proxy(m):m;if(!y.equals(E)){if(B=!0,set(b,E),f&&_!==void 0&&(_=E),has_destroyed_component_ctx(y))return m;untrack(()=>get(y))}return m}return has_destroyed_component_ctx(y)?y.v:get(y)}}function onMount(e){component_context===null&&lifecycle_outside_component(),legacy_mode_flag&&component_context.l!==null?init_update_callbacks(component_context).m.push(e):user_effect(()=>{const t=untrack(e);if(typeof t=="function")return t})}function init_update_callbacks(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const PUBLIC_VERSION="5";typeof window<"u"&&((S=window.__svelte??(window.__svelte={})).v??(S.v=new Set)).add(PUBLIC_VERSION),enable_legacy_mode_flag();var root_1=from_html('<div class="dim-bg svelte-1ncgpv8"></div>'),root_2=from_html('<img class="banner-image svelte-1ncgpv8" alt="バナー画像"/>'),root_3=from_html('<button class="banner-btn svelte-1ncgpv8"> </button>'),root_4=from_html('<div class="under-btn-text svelte-1ncgpv8"> </div>'),root$1=from_html('<!> <div><button class="close-btn svelte-1ncgpv8">×</button> <!> <div class="banner-text svelte-1ncgpv8"> </div> <!> <!></div>',1);function PopupBanner(e,t){push(t,!1);const n=mutable_source(),r=mutable_source(),o=mutable_source(),i=mutable_source(),l=mutable_source(),s=mutable_source(),u=mutable_source();let d=prop(t,"popupId",12,"sample"),_=prop(t,"popupName",12,"サンプルバナー"),c=prop(t,"popupPosition",12,"center"),f=prop(t,"popupWidth",12,""),g=prop(t,"popupBackgroundColor",12,""),v=prop(t,"popupPadding",12,""),h=prop(t,"popupMargin",12,""),C=prop(t,"dimBackground",12,!0),B=prop(t,"closeButtonColor",12,""),T=prop(t,"closeButtonBackgroundColor",12,""),b=prop(t,"closeButtonTop",12,""),y=prop(t,"closeButtonRight",12,""),w=prop(t,"imageUrl",12,null),m=prop(t,"imagePadding",12,""),k=prop(t,"imageMargin",12,""),E=prop(t,"imageBorderRadius",12,""),ne=prop(t,"text",12,""),A=prop(t,"middleTextAlign",12,""),I=prop(t,"middleTextLineHeight",12,""),N=prop(t,"middleTextColor",12,""),P=prop(t,"middleTextFontSize",12,""),R=prop(t,"middleTextFontWeight",12,""),F=prop(t,"middleTextPadding",12,""),D=prop(t,"middleTextMargin",12,""),ee=prop(t,"buttonText",12,""),M=prop(t,"buttonAlign",12,""),O=prop(t,"buttonColor",12,""),L=prop(t,"buttonTextColor",12,""),U=prop(t,"buttonFontSize",12,""),H=prop(t,"buttonFontWeight",12,""),q=prop(t,"buttonPadding",12,""),W=prop(t,"buttonMargin",12,""),$=prop(t,"buttonBorderRadius",12,""),Y=prop(t,"buttonBorderStyle",12,""),j=prop(t,"buttonBorderWidth",12,""),V=prop(t,"buttonBorderColor",12,""),te=prop(t,"underBtnText",12,""),z=prop(t,"underBtnTextAlign",12,""),G=prop(t,"underBtnTextLineHeight",12,""),K=prop(t,"underBtnTextColor",12,""),Z=prop(t,"underBtnTextFontSize",12,""),Q=prop(t,"underBtnTextFontWeight",12,""),J=prop(t,"underBtnTextPadding",12,""),X=prop(t,"underBtnTextMargin",12,""),re=prop(t,"onButtonClick",12,()=>{}),oe=prop(t,"onClose",12,()=>{});legacy_pre_effect(()=>(deep_read_state(g()),deep_read_state(f()),deep_read_state(v()),deep_read_state(h())),()=>{set(n,`
    ${g()?`background:${g()};`:""}
    ${f()?`max-width:${f()};`:""}
    ${v()?`padding:${v()};`:""}
    ${h()?`margin:${h()};`:""}
  `)}),legacy_pre_effect(()=>deep_read_state(c()),()=>{set(r,c()==="bottom"?"position-bottom":c()==="top"?"position-top":c()==="center"?"position-center":c()==="middle-left"?"position-middle-left":c()==="middle-right"?"position-middle-right":c()==="bottom-left"?"position-bottom-left":c()==="bottom-right"?"position-bottom-right":"")}),legacy_pre_effect(()=>(deep_read_state(B()),deep_read_state(T()),deep_read_state(b()),deep_read_state(y())),()=>{set(o,`
    ${B()?`color:${B()};`:""}
    ${T()?`background:${T()};`:""}
    ${b()?`top:${b()};`:""}
    ${y()?`right:${y()};`:""}
  `)}),legacy_pre_effect(()=>(deep_read_state(m()),deep_read_state(k()),deep_read_state(E())),()=>{set(i,`
    ${m()?`padding:${m()};`:""}
    ${k()?`margin:${k()};`:""}
    ${E()?`border-radius:${E()};`:""}
  `)}),legacy_pre_effect(()=>(deep_read_state(N()),deep_read_state(A()),deep_read_state(I()),deep_read_state(P()),deep_read_state(R()),deep_read_state(F()),deep_read_state(D())),()=>{set(l,`
    ${N()?`color:${N()};`:""}
    ${A()?`text-align:${A()};`:""}
    ${I()?`line-height:${I()};`:""}
    ${P()?`font-size:${P()};`:""}
    ${R()?`font-weight:${R()};`:""}
    ${F()?`padding:${F()};`:""}
    ${D()?`margin:${D()};`:""}
  `)}),legacy_pre_effect(()=>(deep_read_state(O()),deep_read_state(L()),deep_read_state(U()),deep_read_state(H()),deep_read_state(q()),deep_read_state(W()),deep_read_state($()),deep_read_state(Y()),deep_read_state(j()),deep_read_state(V()),deep_read_state(M())),()=>{set(s,`
    ${O()?`background:${O()};`:""}
    ${L()?`color:${L()};`:""}
    ${U()?`font-size:${U()};`:""}
    ${H()?`font-weight:${H()};`:""}
    ${q()?`padding:${q()};`:""}
    ${W()?`margin:${W()};`:""}
    ${$()?`border-radius:${$()};`:""}
    ${Y()?`border-style:${Y()};`:""}
    ${j()?`border-width:${j()};`:""}
    ${V()?`border-color:${V()};`:""}
    ${M()?`display:block;margin-left:auto;margin-right:auto;text-align:${M()};`:""}
  `)}),legacy_pre_effect(()=>(deep_read_state(K()),deep_read_state(z()),deep_read_state(G()),deep_read_state(Z()),deep_read_state(Q()),deep_read_state(J()),deep_read_state(X())),()=>{set(u,`
    ${K()?`color:${K()};`:""}
    ${z()?`text-align:${z()};`:""}
    ${G()?`line-height:${G()};`:""}
    ${Z()?`font-size:${Z()};`:""}
    ${Q()?`font-weight:${Q()};`:""}
    ${J()?`padding:${J()};`:""}
    ${X()?`margin:${X()};`:""}
  `)}),legacy_pre_effect_reset();var ue=root$1(),de=first_child(ue);{var pe=a=>{var x=root_1();append(a,x)};if_block(de,a=>{C()&&a(pe)})}var ie=sibling(de,2),ae=child(ie),ce=sibling(ae,2);{var ge=a=>{var x=root_2();template_effect(()=>{set_attribute(x,"src",w()),set_style(x,get(i))}),append(a,x)};if_block(ce,a=>{w()&&a(ge)})}var le=sibling(ce,2),ve=child(le),fe=sibling(le,2);{var me=a=>{var x=root_3(),se=child(x);template_effect(()=>{set_style(x,get(s)),set_text(se,ee())}),event("click",x,function(...xe){var _e;(_e=re())==null||_e.apply(this,xe)}),append(a,x)};if_block(fe,a=>{ee()&&a(me)})}var he=sibling(fe,2);{var be=a=>{var x=root_4(),se=child(x);template_effect(()=>{set_style(x,get(u)),set_text(se,te())}),append(a,x)};if_block(he,a=>{te()&&a(be)})}return template_effect(()=>{set_class(ie,1,`popup-banner ${get(r)??""}`,"svelte-1ncgpv8"),set_style(ie,get(n)),set_style(ae,get(o)),set_style(le,get(l)),set_text(ve,ne())}),event("click",ae,function(...a){var x;(x=oe())==null||x.apply(this,a)}),append(e,ue),pop({get popupId(){return d()},set popupId(a){d(a),flushSync()},get popupName(){return _()},set popupName(a){_(a),flushSync()},get popupPosition(){return c()},set popupPosition(a){c(a),flushSync()},get popupWidth(){return f()},set popupWidth(a){f(a),flushSync()},get popupBackgroundColor(){return g()},set popupBackgroundColor(a){g(a),flushSync()},get popupPadding(){return v()},set popupPadding(a){v(a),flushSync()},get popupMargin(){return h()},set popupMargin(a){h(a),flushSync()},get dimBackground(){return C()},set dimBackground(a){C(a),flushSync()},get closeButtonColor(){return B()},set closeButtonColor(a){B(a),flushSync()},get closeButtonBackgroundColor(){return T()},set closeButtonBackgroundColor(a){T(a),flushSync()},get closeButtonTop(){return b()},set closeButtonTop(a){b(a),flushSync()},get closeButtonRight(){return y()},set closeButtonRight(a){y(a),flushSync()},get imageUrl(){return w()},set imageUrl(a){w(a),flushSync()},get imagePadding(){return m()},set imagePadding(a){m(a),flushSync()},get imageMargin(){return k()},set imageMargin(a){k(a),flushSync()},get imageBorderRadius(){return E()},set imageBorderRadius(a){E(a),flushSync()},get text(){return ne()},set text(a){ne(a),flushSync()},get middleTextAlign(){return A()},set middleTextAlign(a){A(a),flushSync()},get middleTextLineHeight(){return I()},set middleTextLineHeight(a){I(a),flushSync()},get middleTextColor(){return N()},set middleTextColor(a){N(a),flushSync()},get middleTextFontSize(){return P()},set middleTextFontSize(a){P(a),flushSync()},get middleTextFontWeight(){return R()},set middleTextFontWeight(a){R(a),flushSync()},get middleTextPadding(){return F()},set middleTextPadding(a){F(a),flushSync()},get middleTextMargin(){return D()},set middleTextMargin(a){D(a),flushSync()},get buttonText(){return ee()},set buttonText(a){ee(a),flushSync()},get buttonAlign(){return M()},set buttonAlign(a){M(a),flushSync()},get buttonColor(){return O()},set buttonColor(a){O(a),flushSync()},get buttonTextColor(){return L()},set buttonTextColor(a){L(a),flushSync()},get buttonFontSize(){return U()},set buttonFontSize(a){U(a),flushSync()},get buttonFontWeight(){return H()},set buttonFontWeight(a){H(a),flushSync()},get buttonPadding(){return q()},set buttonPadding(a){q(a),flushSync()},get buttonMargin(){return W()},set buttonMargin(a){W(a),flushSync()},get buttonBorderRadius(){return $()},set buttonBorderRadius(a){$(a),flushSync()},get buttonBorderStyle(){return Y()},set buttonBorderStyle(a){Y(a),flushSync()},get buttonBorderWidth(){return j()},set buttonBorderWidth(a){j(a),flushSync()},get buttonBorderColor(){return V()},set buttonBorderColor(a){V(a),flushSync()},get underBtnText(){return te()},set underBtnText(a){te(a),flushSync()},get underBtnTextAlign(){return z()},set underBtnTextAlign(a){z(a),flushSync()},get underBtnTextLineHeight(){return G()},set underBtnTextLineHeight(a){G(a),flushSync()},get underBtnTextColor(){return K()},set underBtnTextColor(a){K(a),flushSync()},get underBtnTextFontSize(){return Z()},set underBtnTextFontSize(a){Z(a),flushSync()},get underBtnTextFontWeight(){return Q()},set underBtnTextFontWeight(a){Q(a),flushSync()},get underBtnTextPadding(){return J()},set underBtnTextPadding(a){J(a),flushSync()},get underBtnTextMargin(){return X()},set underBtnTextMargin(a){X(a),flushSync()},get onButtonClick(){return re()},set onButtonClick(a){re(a),flushSync()},get onClose(){return oe()},set onClose(a){oe(a),flushSync()}})}function evaluateTriggerCondition(e){if(!e||!Array.isArray(e.selectors))return!1;const t=e.logic||"AND",n=e.selectors.map(r=>{const o=document.querySelector(r.selector);if(r.exists!==void 0&&(r.exists&&!o||!r.exists&&o)||r.notExists!==void 0&&(r.notExists&&o||!r.notExists&&!o))return!1;if(r.textMatches&&o){const i=o.textContent||"";if(typeof r.textMatches=="string"){if(!i.includes(r.textMatches))return!1}else if(r.textMatches instanceof RegExp&&!r.textMatches.test(i))return!1}if(r.attributeMatches&&o){const i=o.getAttribute(r.attributeMatches.attr)||"";if(r.attributeMatches.value&&i!==r.attributeMatches.value||r.attributeMatches.regex&&!r.attributeMatches.regex.test(i))return!1}return!0});return t==="AND"?n.every(Boolean):n.some(Boolean)}function evaluateAmountCondition(e,t){if(!Array.isArray(e)||e.length===0)return!1;const n=e.reduce((r,o)=>r+o.price*o.quantity,0);switch(t.operator){case"eq":return n===t.value;case"gt":return n>t.value;case"gte":return n>=t.value;case"lt":return n<t.value;case"lte":return n<=t.value;default:return!1}}function ensureDataLayer(){window.dataLayer||(window.dataLayer=[])}function sendGA4Event(e){ensureDataLayer(),window.dataLayer.push(e),console.log("GA4 event sent",e)}function sendViewPromotion(e){sendGA4Event({event:"view_promotion",...e})}function sendSelectPromotion(e){sendGA4Event({event:"select_promotion",...e})}function getAbTestGroupPopupId(e,t="popupBannerAbTestGroupIndex"){var i,l;let n=[];const r=localStorage.getItem(t);r&&(n=r.split(",").map(s=>s.trim()).filter(Boolean));let o=n.find(s=>e.some(u=>(u==null?void 0:u.popupId)===s));if(!o){const s=Math.floor(Math.random()*e.length);if(o=(i=e[s])==null?void 0:i.popupId,o){n.push(o);const u=Array.from(new Set(n));localStorage.setItem(t,u.join(","))}}return o||((l=e[0])==null?void 0:l.popupId)}(function(e){const t=function(...n){(t.q=t.q||[]).push(n)};e.PopupBanner=e.PopupBanner||t})(typeof window<"u"?window:globalThis);function setCookie(e,t,n){let r=`${e}=${encodeURIComponent(t)}; path=/;`;typeof n=="number"&&n>=0&&(r+=` max-age=${n};`),console.log("[PopupBanner][setCookie] set cookie:",r),document.cookie=r}function getCookie(e){const t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()\[\]\\\/\+^])/g,"$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):null}function shouldShowBanner(e){try{if(e.triggerCondition){const t=evaluateTriggerCondition(e.triggerCondition);if(console.log("[PopupBanner] triggerCondition 判定:",t,e.triggerCondition),!t)return!1}if(e.amountCondition&&e.cartItems){const t=e.cartItems,n=evaluateAmountCondition(t,e.amountCondition);if(console.log("[PopupBanner] amountCondition 判定:",n,{items:t,amountCondition:e.amountCondition}),!n)return!1}if(e.shouldSetCookie&&e.popupCookieName){const t=getCookie(e.popupCookieName)==="closed";if(console.log("[PopupBanner] 再表示制御 判定:",!t,"cookieName=",e.popupCookieName,"closed=",t),t)return!1}return console.log("[PopupBanner] shouldShowBanner: 全ての条件を通過しました",e),!0}catch(t){return console.error("shouldShowBanner error",t),!1}}function setBannerClosed(e){if(e.shouldSetCookie&&e.popupCookieName){let t,n=e.bannerNonDisplaySpanHours;if(typeof n=="string"&&(n=Number(n)),n===0){console.log("[PopupBanner][setBannerClosed] bannerNonDisplaySpanHours is 0, not setting cookie.");return}typeof n=="number"&&!isNaN(n)&&(console.log("[PopupBanner][setBannerClosed] a"),t=Math.floor(n*3600)),console.log("[PopupBanner][setBannerClosed] bannerNonDisplaySpanHours:",e.bannerNonDisplaySpanHours,"maxAge:",t),setCookie(e.popupCookieName,"closed",t)}}let bannerQueue=[],isBannerShowing=!1;const PopupBannerAPI={show(e){if(Array.isArray(e)){if(e.length===0)return;const t=getAbTestGroupPopupId(e),n=e.find(r=>(r==null?void 0:r.popupId)===t)||e[0];n&&this.show(n);return}bannerQueue.push(e),processBannerQueue()},noConflict(){if(typeof window<"u"){const e=window,t=e.PopupBanner;return e.PopupBanner=void 0,t}}};function processBannerQueue(){if(isBannerShowing)return;const e=bannerQueue.shift();if(e){if(!e.popupId||!e.popupName){console.error("[PopupBanner] popupIdとpopupNameは必須です",e),processBannerQueue();return}!e.popupCookieName&&e.popupId&&(e.popupCookieName="popupBanner_"+e.popupId);try{if(!shouldShowBanner(e)){console.log("[PopupBanner] 表示条件を満たさないためバナーを表示しません",e),processBannerQueue();return}isBannerShowing=!0;const t=document.createElement("div");document.body.appendChild(t);const n=mount(PopupBanner,{target:t,props:{popupId:e.popupId,popupName:e.popupName,popupPosition:e.popupPosition,popupWidth:e.popupWidth,popupBackgroundColor:e.popupBackgroundColor,popupPadding:e.popupPadding,popupMargin:e.popupMargin,dimBackground:e.dimBackground,closeButtonColor:e.closeButtonColor,closeButtonBackgroundColor:e.closeButtonBackgroundColor,closeButtonTop:e.closeButtonTop,closeButtonRight:e.closeButtonRight,imageUrl:e.imageUrl,imagePadding:e.imagePadding,imageMargin:e.imageMargin,imageBorderRadius:e.imageBorderRadius,text:e.text,middleTextAlign:e.middleTextAlign,middleTextLineHeight:e.middleTextLineHeight,middleTextColor:e.middleTextColor,middleTextFontSize:e.middleTextFontSize,middleTextFontWeight:e.middleTextFontWeight,middleTextPadding:e.middleTextPadding,middleTextMargin:e.middleTextMargin,buttonText:e.buttonText,buttonAlign:e.buttonAlign,buttonColor:e.buttonColor,buttonTextColor:e.buttonTextColor,buttonFontSize:e.buttonFontSize,buttonFontWeight:e.buttonFontWeight,buttonPadding:e.buttonPadding,buttonMargin:e.buttonMargin,buttonBorderRadius:e.buttonBorderRadius,buttonBorderStyle:e.buttonBorderStyle,buttonBorderWidth:e.buttonBorderWidth,buttonBorderColor:e.buttonBorderColor,underBtnText:e.underBtnText,underBtnTextAlign:e.underBtnTextAlign,underBtnTextLineHeight:e.underBtnTextLineHeight,underBtnTextColor:e.underBtnTextColor,underBtnTextFontSize:e.underBtnTextFontSize,underBtnTextFontWeight:e.underBtnTextFontWeight,underBtnTextPadding:e.underBtnTextPadding,underBtnTextMargin:e.underBtnTextMargin,onButtonClick:()=>{console.log("[PopupBanner] ボタンがクリックされました",e),e.onButtonClick&&e.onButtonClick(),sendSelectPromotion(e.ga4||{})},onClose:()=>{console.log("[PopupBanner] バナーを閉じました",e),setBannerClosed(e),n&&typeof n.destroy=="function"&&n.destroy(),t.remove(),isBannerShowing=!1,processBannerQueue(),e.onClose&&e.onClose()}}});console.log("[PopupBanner] バナーを表示しました",e),sendViewPromotion(e.ga4||{})}catch(t){console.error("PopupBanner.show error",t),isBannerShowing=!1,processBannerQueue()}}}(function(e){var r;const t=PopupBannerAPI,n=(r=e.PopupBanner)==null?void 0:r.q;e.PopupBanner=t,n&&n.forEach(o=>{const i=o[0];typeof t[i]=="function"&&t[i](...o.slice(1))})})(typeof window<"u"?window:globalThis);var root=from_html('<h1>PopupBanner デモ</h1> <h2>基本動作</h2> <ul class="banner-test-list svelte-1enf53u"><li class="svelte-1enf53u"><button>基本バナー</button> <p class="svelte-1enf53u">基本バナーを表示します。</p> <pre class="banner-test-code svelte-1enf53u"></pre></li> <li class="svelte-1enf53u"><button>クリックイベントテスト</button> <p class="svelte-1enf53u">バナー内のボタンをクリックした時にアラートを表示します。</p> <pre class="banner-test-code svelte-1enf53u"></pre></li> <li class="svelte-1enf53u"><button>triggerConditionテスト</button> <p class="svelte-1enf53u">triggerConditionテスト<br/> ページ内に .cart-item が存在する場合に表示されます。</p> <p class="cart-item svelte-1enf53u">判定用要素（クラス名cart-item）</p> <pre class="banner-test-code svelte-1enf53u"></pre></li> <li class="svelte-1enf53u"><button>triggerConditionテスト2</button> <p class="svelte-1enf53u">triggerConditionテスト<br/> ページ内に .cart-item と .special-offer が存在する場合に表示されます。</p> <p class="cart-item svelte-1enf53u">判定用要素（クラス名cart-item）</p> <p class="special-offer svelte-1enf53u">判定用要素（クラス名special-offer）</p> <pre class="banner-test-code svelte-1enf53u"></pre></li> <li class="svelte-1enf53u"><button>triggerConditionテスト3</button> <p class="svelte-1enf53u">triggerConditionテスト<br/> ページ内の .shopping-info のテキストが「送料無料」の場合に表示されます。</p> <p class="shopping-info svelte-1enf53u">送料無料</p> <pre class="banner-test-code svelte-1enf53u"></pre></li> <li class="svelte-1enf53u"><button>amountConditionテスト</button> <p class="svelte-1enf53u">カート内の商品の合計金額が5000円以下の場合に表示されます。<br/> DOMからカート内の商品を取得して判定する例です。</p> <ul class="cart-items"><li><span class="cart-item-name">商品A</span> <span class="cart-item-price">500円</span> <span class="cart-item-quantity">2個</span></li> <li><span class="cart-item-name">商品B</span> <span class="cart-item-price">1,500円</span> <span class="cart-item-quantity">1個</span></li></ul> <pre class="banner-test-code svelte-1enf53u"></pre></li> <li class="svelte-1enf53u"><button>A/Bテストバナー</button> <p class="svelte-1enf53u">A/Bテストバナーを表示します。</p> <pre class="banner-test-code svelte-1enf53u"></pre></li> <li class="svelte-1enf53u"><button>A/Bテストバナー2</button> <p class="svelte-1enf53u">A/Bテストバナー2を表示します。（複数のABテストが実行されても問題無いか確認用）</p> <pre class="banner-test-code svelte-1enf53u"></pre></li> <li class="svelte-1enf53u"><button>キューテスト</button> <p class="svelte-1enf53u">複数のバナーの表示を同時に指定された時に順番に表示されるかテストします。</p> <pre class="banner-test-code svelte-1enf53u"></pre></li></ul> <form class="banner-form svelte-1enf53u"><h2>基本設定</h2> <dl class="banner-form-grid svelte-1enf53u"><dt class="banner-form-label svelte-1enf53u">popupId</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u" required/></dd> <dt class="banner-form-label svelte-1enf53u">popupName</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u" required/></dd></dl> <h2>表示制御・Cookie設定</h2> <dl class="banner-form-grid svelte-1enf53u"><dt class="banner-form-label svelte-1enf53u">bannerNonDisplaySpanHours</dt> <dd><input type="number" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">shouldSetCookie</dt> <dd><input type="checkbox" class="banner-form-checkbox svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">startDate</dt> <dd><input type="datetime-local" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">endDate</dt> <dd><input type="datetime-local" class="banner-form-input svelte-1enf53u"/></dd></dl> <h2>バナー見た目・デザイン設定</h2> <h3>バナー全体・背景</h3> <dl class="banner-form-grid svelte-1enf53u"><dt class="banner-form-label svelte-1enf53u">popupPosition</dt> <dd><select class="banner-form-input svelte-1enf53u"><option>center</option><option>top</option><option>bottom</option><option>middle-right</option><option>middle-left</option><option>bottom-right</option><option>bottom-left</option></select></dd> <dt class="banner-form-label svelte-1enf53u">popupWidth</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">dimBackground</dt> <dd><input type="checkbox" class="banner-form-checkbox svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">popupBackgroundColor</dt> <dd class="banner-form-card svelte-1enf53u"><input type="text" class="banner-form-input-color svelte-1enf53u"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-1enf53u">popupPadding</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">popupMargin</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd></dl> <h3>閉じるボタン</h3> <dl class="banner-form-grid svelte-1enf53u"><dt class="banner-form-label svelte-1enf53u">closeButtonColor</dt> <dd class="banner-form-card svelte-1enf53u"><input type="text" class="banner-form-input-color svelte-1enf53u"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-1enf53u">closeButtonBackgroundColor</dt> <dd class="banner-form-card svelte-1enf53u"><input type="text" class="banner-form-input-color svelte-1enf53u"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-1enf53u">closeButtonTop</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">closeButtonRight</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd></dl> <h3>画像</h3> <dl class="banner-form-grid svelte-1enf53u"><dt class="banner-form-label svelte-1enf53u">imageURL</dt> <dd><input type="text" class="banner-form-input-wide svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">imagePadding</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">imageMargin</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">imageBorderRadius</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd></dl> <h3>メインテキスト</h3> <dl class="banner-form-grid svelte-1enf53u"><dt class="banner-form-label svelte-1enf53u">middleText</dt> <dd><input type="text" class="banner-form-input-wide svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">middleTextAlign</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">middleTextLineHeight</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">middleTextColor</dt> <dd class="banner-form-card svelte-1enf53u"><input type="text" class="banner-form-input-color svelte-1enf53u"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-1enf53u">middleTextFontSize</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">middleTextFontWeight</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">middleTextPadding</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">middleTextMargin</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd></dl> <h3>ボタン下テキスト</h3> <dl class="banner-form-grid svelte-1enf53u"><dt class="banner-form-label svelte-1enf53u">underBtnText</dt> <dd><input type="text" class="banner-form-input-wide svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">underBtnTextAlign</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">underBtnTextLineHeight</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">underBtnTextColor</dt> <dd class="banner-form-card svelte-1enf53u"><input type="text" class="banner-form-input-color svelte-1enf53u"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-1enf53u">underBtnTextFontSize</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">underBtnTextFontWeight</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">underBtnTextPadding</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">underBtnTextMargin</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd></dl> <h3>ボタン</h3> <dl class="banner-form-grid svelte-1enf53u"><dt class="banner-form-label svelte-1enf53u">linkURL</dt> <dd><input type="text" class="banner-form-input-wide svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">linkText</dt> <dd><input type="text" class="banner-form-input-wide svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">enableCopyOnClick</dt> <dd><input type="checkbox" class="banner-form-checkbox svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">buttonAlign</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">buttonColor</dt> <dd class="banner-form-card svelte-1enf53u"><input type="text" class="banner-form-input-color svelte-1enf53u"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-1enf53u">buttonTextColor</dt> <dd class="banner-form-card svelte-1enf53u"><input type="text" class="banner-form-input-color svelte-1enf53u"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd> <dt class="banner-form-label svelte-1enf53u">buttonFontSize</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">buttonFontWeight</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">buttonPadding</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">buttonMargin</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">buttonBorderRadius</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">buttonBorderStyle</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">buttonBorderWidth</dt> <dd><input type="text" class="banner-form-input svelte-1enf53u"/></dd> <dt class="banner-form-label svelte-1enf53u">buttonBorderColor</dt> <dd class="banner-form-card svelte-1enf53u"><input type="text" class="banner-form-input-color svelte-1enf53u"/> <hex-alpha-color-picker></hex-alpha-color-picker></dd></dl> <h2>条件・連携設定</h2> <h3>カート・金額・トリガー・GA4</h3> <dl class="banner-form-grid svelte-1enf53u"><dt class="banner-form-label svelte-1enf53u">cartItems</dt> <dd><textarea class="banner-form-input-wide svelte-1enf53u" rows="2"></textarea> <p></p></dd> <dt class="banner-form-label svelte-1enf53u">amountCondition</dt> <dd><textarea class="banner-form-input-wide svelte-1enf53u" rows="2"></textarea> <p></p></dd> <dt class="banner-form-label svelte-1enf53u">triggerCondition</dt> <dd><textarea class="banner-form-input-wide svelte-1enf53u" rows="2"></textarea> <p></p></dd> <dt class="banner-form-label svelte-1enf53u">ga4</dt> <dd><textarea class="banner-form-input-wide svelte-1enf53u" rows="2"></textarea> <p></p></dd></dl> <div style="text-align:center;margin-top:16px;"><button type="submit" class="banner-form-submit svelte-1enf53u">バナー表示</button></div></form>',3);function App($$anchor,$$props){push($$props,!1);let form=mutable_source({popupId:"sample",popupName:"サンプルバナー",bannerNonDisplaySpanHours:"0",shouldSetCookie:!0,startDate:"",endDate:"",popupPosition:"center",popupWidth:"400px",dimBackground:!0,popupBackgroundColor:"#ffffff",closeButtonColor:"#000000",closeButtonBackgroundColor:"transparent",closeButtonTop:"",closeButtonRight:"",popupPadding:"",popupMargin:"",imageURL:"https://placehold.jp/600x300.png",imagePadding:"",imageMargin:"",imageBorderRadius:"",middleText:"サンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキスト",middleTextAlign:"left",middleTextLineHeight:"1.5",middleTextColor:"#000000",middleTextFontSize:"16px",middleTextFontWeight:"normal",middleTextPadding:"",middleTextMargin:"",underBtnText:"サンプルテキストサンプルテキストサンプルテキスト",underBtnTextAlign:"",underBtnTextLineHeight:"1.5",underBtnTextColor:"#000000",underBtnTextFontSize:"12px",underBtnTextFontWeight:"normal",underBtnTextPadding:"",underBtnTextMargin:"",linkURL:"https://www.google.com",linkText:"サンプルリンク",enableCopyOnClick:!1,buttonAlign:"center",buttonColor:"#000000",buttonTextColor:"#ffffff",buttonFontSize:"16px",buttonFontWeight:"normal",buttonPadding:"",buttonMargin:"",buttonBorderRadius:"",buttonBorderStyle:"",buttonBorderWidth:"",buttonBorderColor:"",cartItems:"",amountCondition:"",triggerCondition:"",ga4:""});function showBasic(){PopupBannerAPI.show({popupId:"basic",popupName:"基本バナーのテスト",imageUrl:"https://placehold.jp/600x300.png",text:"基本バナーのテスト",buttonText:"OK",onButtonClick:()=>alert("クリック"),onClose:()=>console.log("閉じる")})}function showEventClick(){PopupBannerAPI.show({popupId:"eventClick",popupName:"クリックイベントテスト",imageUrl:"https://placehold.jp/600x300.png",text:"クリックした時にアラートを表示",buttonText:"OK",onButtonClick:()=>alert("クリック")})}function showTrigger(){PopupBannerAPI.show({popupId:"trigger",popupName:"triggerConditionテスト",imageUrl:"https://placehold.jp/600x300.png",text:"基本バナーのテスト",buttonText:"OK",triggerCondition:{selectors:[{selector:".cart-item",exists:!0}]}})}function showTrigger2(){PopupBannerAPI.show({popupId:"trigger2",popupName:"triggerConditionテスト2",imageUrl:"https://placehold.jp/600x300.png",text:"ページ内に .cart-item と .special-offer が存在する場合に表示されます。",buttonText:"OK",triggerCondition:{selectors:[{selector:".cart-item",exists:!0},{selector:".special-offer",exists:!0}],logic:"AND"}})}function showTrigger3(){PopupBannerAPI.show({popupId:"trigger3",popupName:"triggerConditionテスト3",imageUrl:"https://placehold.jp/600x300.png",text:"ページ内の .shopping-info のテキストが「送料無料」の場合に表示されます。",buttonText:"OK",triggerCondition:{selectors:[{selector:".shopping-info",exists:!0,textMatches:"送料無料"}]}})}function showAmount(){const e=Array.from(document.querySelectorAll(".cart-items li")).map((t,n)=>{var r,o,i,l,s;return{id:n,name:((r=t.querySelector(".cart-item-name"))==null?void 0:r.textContent)||"",price:parseInt(((i=(o=t.querySelector(".cart-item-price"))==null?void 0:o.textContent)==null?void 0:i.replace(/[^0-9]/g,""))||"0"),quantity:parseInt(((s=(l=t.querySelector(".cart-item-quantity"))==null?void 0:l.textContent)==null?void 0:s.replace(/[^0-9]/g,""))||"0")}});PopupBannerAPI.show({popupId:"amount",popupName:"amountConditionテスト",imageUrl:"https://placehold.jp/600x300.png",text:"カート内の商品の合計金額が5000円以下の場合に表示されます。",cartItems:e,amountCondition:{operator:"lt",value:5e3}})}function showABTest(){PopupBannerAPI.show([{popupId:"abTestA",popupName:"A/BテストバナーA",text:"Aバリアントのバナー",imageUrl:"https://placehold.jp/600x300.png",buttonText:"Aを選択",onButtonClick:()=>alert("Aバリアントがクリックされました")},{popupId:"abTestB",popupName:"A/BテストバナーB",text:"Bバリアントのバナー",imageUrl:"https://placehold.jp/600x300.png",buttonText:"Bを選択",onButtonClick:()=>alert("Bバリアントがクリックされました")}])}function showABTest2(){PopupBannerAPI.show([{popupId:"abTest2A",popupName:"A/BテストバナーA",text:"Aバリアントのバナー",imageUrl:"https://placehold.jp/600x300.png",buttonText:"Aを選択",onButtonClick:()=>alert("Aバリアントがクリックされました")},{popupId:"abTest2B",popupName:"A/BテストバナーB",text:"Bバリアントのバナー",imageUrl:"https://placehold.jp/600x300.png",buttonText:"Bを選択",onButtonClick:()=>alert("Bバリアントがクリックされました")}])}function showQueueTest(){PopupBannerAPI.show({popupId:"queueTest",popupName:"キューテスト1",imageUrl:"https://placehold.jp/600x300.png",text:"1つ目のバナー"}),PopupBannerAPI.show({popupId:"queueTest2",popupName:"キューテスト2",popupWidth:"300px",dimBackground:!1,imageUrl:"https://placehold.jp/600x300.png",text:"2つ目のバナー",popupPosition:"bottom-right"})}function showBannerFromForm(){const options={...get(form)};if(get(form).abTestVariants)try{options.abTestVariants=JSON.parse(get(form).abTestVariants)}catch{options.abTestVariants=get(form).abTestVariants.split(",").map(e=>e.trim()).filter(Boolean)}if(get(form).cartItems)try{options.cartItems=eval(get(form).cartItems)}catch{try{options.cartItems=JSON.parse(get(form).cartItems)}catch{}}if(get(form).amountCondition)try{options.amountCondition=JSON.parse(get(form).amountCondition)}catch{}if(get(form).triggerCondition)try{options.triggerCondition=JSON.parse(get(form).triggerCondition)}catch{}if(get(form).ga4)try{options.ga4=JSON.parse(get(form).ga4)}catch{}get(form).middleText&&(options.text=get(form).middleText),get(form).imageURL&&(options.imageUrl=get(form).imageURL),get(form).linkText&&(options.buttonText=get(form).linkText),Object.keys(options).forEach(e=>{(options[e]===""||options[e]===null||options[e]===void 0||typeof options[e]=="object"&&options[e]!==null&&Object.keys(options[e]).length===0)&&delete options[e]}),options.popupId=get(form).popupId,options.popupName=get(form).popupName,PopupBannerAPI.show(options)}onMount(()=>{Promise.resolve().then(()=>hexAlphaColorPicker)}),init();var fragment=root(),ul=sibling(first_child(fragment),4),li=child(ul),button=child(li),pre=sibling(button,4);pre.textContent=`
      
PopupBanner.show({
  popupId: 'basic',
  popupName: '基本バナーのテスト',
  imageUrl: 'https://placehold.jp/600x300.png',
  text: '基本バナーのテスト',
  buttonText: 'OK',
  triggerCondition: {
    selectors: [
      { selector: '.cart-item', exists: true }
    ]
  }
});
    `;var li_1=sibling(li,2),button_1=child(li_1),pre_1=sibling(button_1,4);pre_1.textContent=`
      
PopupBanner.show({
  popupId: 'eventClick',
  popupName: 'クリックイベントテスト',
  imageUrl: 'https://placehold.jp/600x300.png',
  text: 'クリックした時にアラートを表示',
  buttonText: 'OK',
  onButtonClick: () => alert('クリック')
});
    `;var li_2=sibling(li_1,2),button_2=child(li_2),pre_2=sibling(button_2,6);pre_2.textContent=`
      
PopupBanner.show({
  popupId: 'trigger',
  popupName: 'triggerConditionテスト',
  imageUrl: 'https://placehold.jp/600x300.png',
  text: '基本バナーのテスト',
  buttonText: 'OK',
  triggerCondition: {
    selectors: [
      { selector: '.cart-item', exists: true }
    ]
  }
});
    `;var li_3=sibling(li_2,2),button_3=child(li_3),pre_3=sibling(button_3,8);pre_3.textContent=`
      
PopupBanner.show({
  popupId: 'trigger2',
  popupName: 'triggerConditionテスト2',
  imageUrl: 'https://placehold.jp/600x300.png',
  text: 'ページ内に .cart-item と .special-offer が存在する場合に表示されます。',
  buttonText: 'OK',
  triggerCondition: {
    "selectors": [
      { "selector": ".cart-item", "exists": true },
      { "selector": ".special-offer", "exists": true }
    ],
    "logic": "AND"
  }
});
    `;var li_4=sibling(li_3,2),button_4=child(li_4),pre_4=sibling(button_4,6);pre_4.textContent=`
      
PopupBanner.show({
  popupId: 'trigger3',
  popupName: 'triggerConditionテスト3',
  imageUrl: 'https://placehold.jp/600x300.png',
  text: 'ページ内の .shopping-info のテキストが「送料無料」の場合に表示されます。',
  buttonText: 'OK',
  triggerCondition: {
    "selectors": [
      { "selector": ".shopping-info", "exists": true, "textMatches": "送料無料" }
    ]
  }
});
    `;var li_5=sibling(li_4,2),button_5=child(li_5),pre_5=sibling(button_5,6);pre_5.textContent=`
      
// カート内の商品の合計金額を計算
// 以下の形式にして、dataCartItemsに格納する
// [
//   { id: '1', name: 'A', price: 2000, quantity: 1 },
//   { id: '2', name: 'B', price: 1500, quantity: 1 }
// ]
const dataCartItems = Array.from(document.querySelectorAll('.cart-items li'))
  .map((item, index) => ({
    id: index,
    name: item.querySelector('.cart-item-name')?.textContent || '',
    price: parseInt(item.querySelector('.cart-item-price')?.textContent?.replace(/[^0-9]/g, '') || '0'),
    quantity: parseInt(item.querySelector('.cart-item-quantity')?.textContent?.replace(/[^0-9]/g, '') || '0')
  }));

PopupBanner.show({
  popupId: 'amount',
  popupName: 'amountConditionテスト',
  text: 'amountConditionテスト',
  cartItems: dataCartItems,
  amountCondition: { operator: 'lt', value: 5000 }
});
    `;var li_6=sibling(li_5,2),button_6=child(li_6),pre_6=sibling(button_6,4);pre_6.textContent=`
      
PopupBanner.show([
  {
    popupId: 'abTestA',
    popupName: 'A/BテストバナーA',
    text: 'Aバリアントのバナー',
    imageUrl: 'https://placehold.jp/600x300.png',
    buttonText: 'Aを選択',
    onButtonClick: () => alert('Aバリアントがクリックされました')
  },
  {
    popupId: 'abTestB',
    popupName: 'A/BテストバナーB',
    text: 'Bバリアントのバナー',
    imageUrl: 'https://placehold.jp/600x300.png',
    buttonText: 'Bを選択',
    onButtonClick: () => alert('Bバリアントがクリックされました')
  }
]);

    `;var li_7=sibling(li_6,2),button_7=child(li_7),pre_7=sibling(button_7,4);pre_7.textContent=`
          
PopupBanner.show([
  {
    popupId: 'abTest2A',
    popupName: 'A/BテストバナーA',
    text: 'Aバリアントのバナー',
    imageUrl: 'https://placehold.jp/600x300.png',
    buttonText: 'Aを選択',
    onButtonClick: () => alert('Aバリアントがクリックされました')
  },
  {
    popupId: 'abTest2B',
    popupName: 'A/BテストバナーB',
    text: 'Bバリアントのバナー',
    imageUrl: 'https://placehold.jp/600x300.png',
    buttonText: 'Bを選択',
    onButtonClick: () => alert('Bバリアントがクリックされました')
  }
]);

        `;var li_8=sibling(li_7,2),button_8=child(li_8),pre_8=sibling(button_8,4);pre_8.textContent=`
          
PopupBanner.show([
  {
    popupId: 'queueTestA',
    popupName: 'キューテストA',
    text: 'Aバリアントのバナー',
    imageUrl: 'https://placehold.jp/600x300.png',
    buttonText: 'Aを選択',
    onButtonClick: () => alert('Aバリアントがクリックされました')
  },
  {
    popupId: 'queueTestB',
    popupName: 'キューテストB',
    text: 'Bバリアントのバナー',
    imageUrl: 'https://placehold.jp/600x300.png',
    buttonText: 'Bを選択',
    onButtonClick: () => alert('Bバリアントがクリックされました')
  }
]);

        `;var form_1=sibling(ul,2),dl=sibling(child(form_1),2),dd=sibling(child(dl),2),input=child(dd),dd_1=sibling(dd,4),input_1=child(dd_1),dl_1=sibling(dl,4),dd_2=sibling(child(dl_1),2),input_2=child(dd_2),dd_3=sibling(dd_2,4),input_3=child(dd_3),dd_4=sibling(dd_3,4),input_4=child(dd_4),dd_5=sibling(dd_4,4),input_5=child(dd_5),dl_2=sibling(dl_1,6),dd_6=sibling(child(dl_2),2),select=child(dd_6);template_effect(()=>{get(form),invalidate_inner_signals(()=>{})});var option=child(select);option.value=option.__value="center";var option_1=sibling(option);option_1.value=option_1.__value="top";var option_2=sibling(option_1);option_2.value=option_2.__value="bottom";var option_3=sibling(option_2);option_3.value=option_3.__value="middle-right";var option_4=sibling(option_3);option_4.value=option_4.__value="middle-left";var option_5=sibling(option_4);option_5.value=option_5.__value="bottom-right";var option_6=sibling(option_5);option_6.value=option_6.__value="bottom-left";var dd_7=sibling(dd_6,4),input_6=child(dd_7),dd_8=sibling(dd_7,4),input_7=child(dd_8),dd_9=sibling(dd_8,4),input_8=child(dd_9),hex_alpha_color_picker=sibling(input_8,2);set_class(hex_alpha_color_picker,1,"banner-form-colorpicker svelte-1enf53u"),template_effect(()=>set_custom_element_data(hex_alpha_color_picker,"value",(get(form),untrack(()=>get(form).popupBackgroundColor))));var dd_10=sibling(dd_9,4),input_9=child(dd_10),dd_11=sibling(dd_10,4),input_10=child(dd_11),dl_3=sibling(dl_2,4),dd_12=sibling(child(dl_3),2),input_11=child(dd_12),hex_alpha_color_picker_1=sibling(input_11,2);set_class(hex_alpha_color_picker_1,1,"banner-form-colorpicker svelte-1enf53u"),template_effect(()=>set_custom_element_data(hex_alpha_color_picker_1,"value",(get(form),untrack(()=>get(form).closeButtonColor))));var dd_13=sibling(dd_12,4),input_12=child(dd_13),hex_alpha_color_picker_2=sibling(input_12,2);set_class(hex_alpha_color_picker_2,1,"banner-form-colorpicker svelte-1enf53u"),template_effect(()=>set_custom_element_data(hex_alpha_color_picker_2,"value",(get(form),untrack(()=>get(form).closeButtonBackgroundColor))));var dd_14=sibling(dd_13,4),input_13=child(dd_14),dd_15=sibling(dd_14,4),input_14=child(dd_15),dl_4=sibling(dl_3,4),dd_16=sibling(child(dl_4),2),input_15=child(dd_16),dd_17=sibling(dd_16,4),input_16=child(dd_17),dd_18=sibling(dd_17,4),input_17=child(dd_18),dd_19=sibling(dd_18,4),input_18=child(dd_19),dl_5=sibling(dl_4,4),dd_20=sibling(child(dl_5),2),input_19=child(dd_20),dd_21=sibling(dd_20,4),input_20=child(dd_21),dd_22=sibling(dd_21,4),input_21=child(dd_22),dd_23=sibling(dd_22,4),input_22=child(dd_23),hex_alpha_color_picker_3=sibling(input_22,2);set_class(hex_alpha_color_picker_3,1,"banner-form-colorpicker svelte-1enf53u"),template_effect(()=>set_custom_element_data(hex_alpha_color_picker_3,"value",(get(form),untrack(()=>get(form).middleTextColor))));var dd_24=sibling(dd_23,4),input_23=child(dd_24),dd_25=sibling(dd_24,4),input_24=child(dd_25),dd_26=sibling(dd_25,4),input_25=child(dd_26),dd_27=sibling(dd_26,4),input_26=child(dd_27),dl_6=sibling(dl_5,4),dd_28=sibling(child(dl_6),2),input_27=child(dd_28),dd_29=sibling(dd_28,4),input_28=child(dd_29),dd_30=sibling(dd_29,4),input_29=child(dd_30),dd_31=sibling(dd_30,4),input_30=child(dd_31),hex_alpha_color_picker_4=sibling(input_30,2);set_class(hex_alpha_color_picker_4,1,"banner-form-colorpicker svelte-1enf53u"),template_effect(()=>set_custom_element_data(hex_alpha_color_picker_4,"value",(get(form),untrack(()=>get(form).underBtnTextColor))));var dd_32=sibling(dd_31,4),input_31=child(dd_32),dd_33=sibling(dd_32,4),input_32=child(dd_33),dd_34=sibling(dd_33,4),input_33=child(dd_34),dd_35=sibling(dd_34,4),input_34=child(dd_35),dl_7=sibling(dl_6,4),dd_36=sibling(child(dl_7),2),input_35=child(dd_36),dd_37=sibling(dd_36,4),input_36=child(dd_37),dd_38=sibling(dd_37,4),input_37=child(dd_38),dd_39=sibling(dd_38,4),input_38=child(dd_39),dd_40=sibling(dd_39,4),input_39=child(dd_40),hex_alpha_color_picker_5=sibling(input_39,2);set_class(hex_alpha_color_picker_5,1,"banner-form-colorpicker svelte-1enf53u"),template_effect(()=>set_custom_element_data(hex_alpha_color_picker_5,"value",(get(form),untrack(()=>get(form).buttonColor))));var dd_41=sibling(dd_40,4),input_40=child(dd_41),hex_alpha_color_picker_6=sibling(input_40,2);set_class(hex_alpha_color_picker_6,1,"banner-form-colorpicker svelte-1enf53u"),template_effect(()=>set_custom_element_data(hex_alpha_color_picker_6,"value",(get(form),untrack(()=>get(form).buttonTextColor))));var dd_42=sibling(dd_41,4),input_41=child(dd_42),dd_43=sibling(dd_42,4),input_42=child(dd_43),dd_44=sibling(dd_43,4),input_43=child(dd_44),dd_45=sibling(dd_44,4),input_44=child(dd_45),dd_46=sibling(dd_45,4),input_45=child(dd_46),dd_47=sibling(dd_46,4),input_46=child(dd_47),dd_48=sibling(dd_47,4),input_47=child(dd_48),dd_49=sibling(dd_48,4),input_48=child(dd_49),hex_alpha_color_picker_7=sibling(input_48,2);set_class(hex_alpha_color_picker_7,1,"banner-form-colorpicker svelte-1enf53u"),template_effect(()=>set_custom_element_data(hex_alpha_color_picker_7,"value",(get(form),untrack(()=>get(form).buttonBorderColor))));var dl_8=sibling(dl_7,6),dd_50=sibling(child(dl_8),2),textarea=child(dd_50),p=sibling(textarea,2);p.textContent='例: [{"id":"1","name":"A","price":1000,"quantity":1}] または ()=>[{{...}}]';var dd_51=sibling(dd_50,4),textarea_1=child(dd_51),p_1=sibling(textarea_1,2);p_1.textContent='例: {"operator":"gte","value":3000}';var dd_52=sibling(dd_51,4),textarea_2=child(dd_52),p_2=sibling(textarea_2,2);p_2.textContent='例: {"selectors":[{"selector":".cart-item","exists":true}],"logic":"AND"}';var dd_53=sibling(dd_52,4),textarea_3=child(dd_53),p_3=sibling(textarea_3,2);p_3.textContent='例: {"creative_name":"...","promotion_id":"..."}',event("click",button,showBasic),event("click",button_1,showEventClick),event("click",button_2,showTrigger),event("click",button_3,showTrigger2),event("click",button_4,showTrigger3),event("click",button_5,showAmount),event("click",button_6,showABTest),event("click",button_7,showABTest2),event("click",button_8,showQueueTest),bind_value(input,()=>get(form).popupId,e=>mutate(form,get(form).popupId=e)),bind_value(input_1,()=>get(form).popupName,e=>mutate(form,get(form).popupName=e)),bind_value(input_2,()=>get(form).bannerNonDisplaySpanHours,e=>mutate(form,get(form).bannerNonDisplaySpanHours=e)),bind_checked(input_3,()=>get(form).shouldSetCookie,e=>mutate(form,get(form).shouldSetCookie=e)),bind_value(input_4,()=>get(form).startDate,e=>mutate(form,get(form).startDate=e)),bind_value(input_5,()=>get(form).endDate,e=>mutate(form,get(form).endDate=e)),bind_select_value(select,()=>get(form).popupPosition,e=>mutate(form,get(form).popupPosition=e)),bind_value(input_6,()=>get(form).popupWidth,e=>mutate(form,get(form).popupWidth=e)),bind_checked(input_7,()=>get(form).dimBackground,e=>mutate(form,get(form).dimBackground=e)),bind_value(input_8,()=>get(form).popupBackgroundColor,e=>mutate(form,get(form).popupBackgroundColor=e)),event("color-changed",hex_alpha_color_picker,e=>mutate(form,get(form).popupBackgroundColor=e.detail.value)),bind_value(input_9,()=>get(form).popupPadding,e=>mutate(form,get(form).popupPadding=e)),bind_value(input_10,()=>get(form).popupMargin,e=>mutate(form,get(form).popupMargin=e)),bind_value(input_11,()=>get(form).closeButtonColor,e=>mutate(form,get(form).closeButtonColor=e)),event("color-changed",hex_alpha_color_picker_1,e=>mutate(form,get(form).closeButtonColor=e.detail.value)),bind_value(input_12,()=>get(form).closeButtonBackgroundColor,e=>mutate(form,get(form).closeButtonBackgroundColor=e)),event("color-changed",hex_alpha_color_picker_2,e=>mutate(form,get(form).closeButtonBackgroundColor=e.detail.value)),bind_value(input_13,()=>get(form).closeButtonTop,e=>mutate(form,get(form).closeButtonTop=e)),bind_value(input_14,()=>get(form).closeButtonRight,e=>mutate(form,get(form).closeButtonRight=e)),bind_value(input_15,()=>get(form).imageURL,e=>mutate(form,get(form).imageURL=e)),bind_value(input_16,()=>get(form).imagePadding,e=>mutate(form,get(form).imagePadding=e)),bind_value(input_17,()=>get(form).imageMargin,e=>mutate(form,get(form).imageMargin=e)),bind_value(input_18,()=>get(form).imageBorderRadius,e=>mutate(form,get(form).imageBorderRadius=e)),bind_value(input_19,()=>get(form).middleText,e=>mutate(form,get(form).middleText=e)),bind_value(input_20,()=>get(form).middleTextAlign,e=>mutate(form,get(form).middleTextAlign=e)),bind_value(input_21,()=>get(form).middleTextLineHeight,e=>mutate(form,get(form).middleTextLineHeight=e)),bind_value(input_22,()=>get(form).middleTextColor,e=>mutate(form,get(form).middleTextColor=e)),event("color-changed",hex_alpha_color_picker_3,e=>mutate(form,get(form).middleTextColor=e.detail.value)),bind_value(input_23,()=>get(form).middleTextFontSize,e=>mutate(form,get(form).middleTextFontSize=e)),bind_value(input_24,()=>get(form).middleTextFontWeight,e=>mutate(form,get(form).middleTextFontWeight=e)),bind_value(input_25,()=>get(form).middleTextPadding,e=>mutate(form,get(form).middleTextPadding=e)),bind_value(input_26,()=>get(form).middleTextMargin,e=>mutate(form,get(form).middleTextMargin=e)),bind_value(input_27,()=>get(form).underBtnText,e=>mutate(form,get(form).underBtnText=e)),bind_value(input_28,()=>get(form).underBtnTextAlign,e=>mutate(form,get(form).underBtnTextAlign=e)),bind_value(input_29,()=>get(form).underBtnTextLineHeight,e=>mutate(form,get(form).underBtnTextLineHeight=e)),bind_value(input_30,()=>get(form).underBtnTextColor,e=>mutate(form,get(form).underBtnTextColor=e)),event("color-changed",hex_alpha_color_picker_4,e=>mutate(form,get(form).underBtnTextColor=e.detail.value)),bind_value(input_31,()=>get(form).underBtnTextFontSize,e=>mutate(form,get(form).underBtnTextFontSize=e)),bind_value(input_32,()=>get(form).underBtnTextFontWeight,e=>mutate(form,get(form).underBtnTextFontWeight=e)),bind_value(input_33,()=>get(form).underBtnTextPadding,e=>mutate(form,get(form).underBtnTextPadding=e)),bind_value(input_34,()=>get(form).underBtnTextMargin,e=>mutate(form,get(form).underBtnTextMargin=e)),bind_value(input_35,()=>get(form).linkURL,e=>mutate(form,get(form).linkURL=e)),bind_value(input_36,()=>get(form).linkText,e=>mutate(form,get(form).linkText=e)),bind_checked(input_37,()=>get(form).enableCopyOnClick,e=>mutate(form,get(form).enableCopyOnClick=e)),bind_value(input_38,()=>get(form).buttonAlign,e=>mutate(form,get(form).buttonAlign=e)),bind_value(input_39,()=>get(form).buttonColor,e=>mutate(form,get(form).buttonColor=e)),event("color-changed",hex_alpha_color_picker_5,e=>mutate(form,get(form).buttonColor=e.detail.value)),bind_value(input_40,()=>get(form).buttonTextColor,e=>mutate(form,get(form).buttonTextColor=e)),event("color-changed",hex_alpha_color_picker_6,e=>mutate(form,get(form).buttonTextColor=e.detail.value)),bind_value(input_41,()=>get(form).buttonFontSize,e=>mutate(form,get(form).buttonFontSize=e)),bind_value(input_42,()=>get(form).buttonFontWeight,e=>mutate(form,get(form).buttonFontWeight=e)),bind_value(input_43,()=>get(form).buttonPadding,e=>mutate(form,get(form).buttonPadding=e)),bind_value(input_44,()=>get(form).buttonMargin,e=>mutate(form,get(form).buttonMargin=e)),bind_value(input_45,()=>get(form).buttonBorderRadius,e=>mutate(form,get(form).buttonBorderRadius=e)),bind_value(input_46,()=>get(form).buttonBorderStyle,e=>mutate(form,get(form).buttonBorderStyle=e)),bind_value(input_47,()=>get(form).buttonBorderWidth,e=>mutate(form,get(form).buttonBorderWidth=e)),bind_value(input_48,()=>get(form).buttonBorderColor,e=>mutate(form,get(form).buttonBorderColor=e)),event("color-changed",hex_alpha_color_picker_7,e=>mutate(form,get(form).buttonBorderColor=e.detail.value)),bind_value(textarea,()=>get(form).cartItems,e=>mutate(form,get(form).cartItems=e)),bind_value(textarea_1,()=>get(form).amountCondition,e=>mutate(form,get(form).amountCondition=e)),bind_value(textarea_2,()=>get(form).triggerCondition,e=>mutate(form,get(form).triggerCondition=e)),bind_value(textarea_3,()=>get(form).ga4,e=>mutate(form,get(form).ga4=e)),event("submit",form_1,preventDefault(showBannerFromForm)),append($$anchor,fragment),pop()}const app=mount(App,{target:document.getElementById("app")}),clamp=(e,t=0,n=1)=>e>n?n:e<t?t:e,round=(e,t=0,n=Math.pow(10,t))=>Math.round(n*e)/n,hexToHsva=e=>rgbaToHsva(hexToRgba(e)),hexToRgba=e=>(e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?round(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?round(parseInt(e.substring(6,8),16)/255,2):1}),hsvaToHex=e=>rgbaToHex(hsvaToRgba(e)),hsvaToHsla=({h:e,s:t,v:n,a:r})=>{const o=(200-t)*n/100;return{h:round(e),s:round(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:round(o/2),a:round(r,2)}},hsvaToHslString=e=>{const{h:t,s:n,l:r}=hsvaToHsla(e);return`hsl(${t}, ${n}%, ${r}%)`},hsvaToHslaString=e=>{const{h:t,s:n,l:r,a:o}=hsvaToHsla(e);return`hsla(${t}, ${n}%, ${r}%, ${o})`},hsvaToRgba=({h:e,s:t,v:n,a:r})=>{e=e/360*6,t=t/100,n=n/100;const o=Math.floor(e),i=n*(1-t),l=n*(1-(e-o)*t),s=n*(1-(1-e+o)*t),u=o%6;return{r:round([n,l,i,i,s,n][u]*255),g:round([s,n,n,l,i,i][u]*255),b:round([i,i,s,n,n,l][u]*255),a:round(r,2)}},format=e=>{const t=e.toString(16);return t.length<2?"0"+t:t},rgbaToHex=({r:e,g:t,b:n,a:r})=>{const o=r<1?format(round(r*255)):"";return"#"+format(e)+format(t)+format(n)+o},rgbaToHsva=({r:e,g:t,b:n,a:r})=>{const o=Math.max(e,t,n),i=o-Math.min(e,t,n),l=i?o===e?(t-n)/i:o===t?2+(n-e)/i:4+(e-t)/i:0;return{h:round(60*(l<0?l+6:l)),s:round(o?i/o*100:0),v:round(o/255*100),a:r}},equalColorObjects=(e,t)=>{if(e===t)return!0;for(const n in e)if(e[n]!==t[n])return!1;return!0},equalHex=(e,t)=>e.toLowerCase()===t.toLowerCase()?!0:equalColorObjects(hexToRgba(e),hexToRgba(t)),cache={},tpl=e=>{let t=cache[e];return t||(t=document.createElement("template"),t.innerHTML=e,cache[e]=t),t},fire=(e,t,n)=>{e.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n}))};let hasTouched=!1;const isTouch=e=>"touches"in e,isValid=e=>hasTouched&&!isTouch(e)?!1:(hasTouched||(hasTouched=isTouch(e)),!0),pointerMove=(e,t)=>{const n=isTouch(t)?t.touches[0]:t,r=e.el.getBoundingClientRect();fire(e.el,"move",e.getMove({x:clamp((n.pageX-(r.left+window.pageXOffset))/r.width),y:clamp((n.pageY-(r.top+window.pageYOffset))/r.height)}))},keyMove=(e,t)=>{const n=t.keyCode;n>40||e.xy&&n<37||n<33||(t.preventDefault(),fire(e.el,"move",e.getMove({x:n===39?.01:n===37?-.01:n===34?.05:n===33?-.05:n===35?1:n===36?-1:0,y:n===40?.01:n===38?-.01:0},!0)))};class Slider{constructor(t,n,r,o){const i=tpl(`<div role="slider" tabindex="0" part="${n}" ${r}><div part="${n}-pointer"></div></div>`);t.appendChild(i.content.cloneNode(!0));const l=t.querySelector(`[part=${n}]`);l.addEventListener("mousedown",this),l.addEventListener("touchstart",this),l.addEventListener("keydown",this),this.el=l,this.xy=o,this.nodes=[l.firstChild,l]}set dragging(t){const n=t?document.addEventListener:document.removeEventListener;n(hasTouched?"touchmove":"mousemove",this),n(hasTouched?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!isValid(t)||!hasTouched&&t.button!=0)return;this.el.focus(),pointerMove(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),pointerMove(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":keyMove(this,t);break}}style(t){t.forEach((n,r)=>{for(const o in n)this.nodes[r].style.setProperty(o,n[o])})}}class Hue extends Slider{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:`${t/360*100}%`,color:hsvaToHslString({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${round(t)}`)}getMove(t,n){return{h:n?clamp(this.h+t.x*360,0,360):360*t.x}}}class Saturation extends Slider{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:`${100-t.v}%`,left:`${t.s}%`,color:hsvaToHslString(t)},{"background-color":hsvaToHslString({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${round(t.s)}%, Brightness ${round(t.v)}%`)}getMove(t,n){return{s:n?clamp(this.hsva.s+t.x*100,0,100):t.x*100,v:n?clamp(this.hsva.v-t.y*100,0,100):Math.round(100-t.y*100)}}}const css=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',hueCss="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",saturationCss="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",$isSame=Symbol("same"),$color=Symbol("color"),$hsva=Symbol("hsva"),$update=Symbol("update"),$parts=Symbol("parts"),$css=Symbol("css"),$sliders=Symbol("sliders");class ColorPicker extends HTMLElement{static get observedAttributes(){return["color"]}get[$css](){return[css,hueCss,saturationCss]}get[$sliders](){return[Saturation,Hue]}get color(){return this[$color]}set color(t){if(!this[$isSame](t)){const n=this.colorModel.toHsva(t);this[$update](n),this[$color]=t}}constructor(){super();const t=tpl(`<style>${this[$css].join("")}</style>`),n=this.attachShadow({mode:"open"});n.appendChild(t.content.cloneNode(!0)),n.addEventListener("move",this),this[$parts]=this[$sliders].map(r=>new r(n))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,n,r){const o=this.colorModel.fromAttr(r);this[$isSame](o)||(this.color=o)}handleEvent(t){const n=this[$hsva],r={...n,...t.detail};this[$update](r);let o;!equalColorObjects(r,n)&&!this[$isSame](o=this.colorModel.fromHsva(r))&&(this[$color]=o,fire(this,"color-changed",{value:o}))}[$isSame](t){return this.color&&this.colorModel.equal(t,this.color)}[$update](t){this[$hsva]=t,this[$parts].forEach(n=>n.update(t))}}class Alpha extends Slider{constructor(t){super(t,"alpha",'aria-label="Alpha" aria-valuemin="0" aria-valuemax="1"',!1)}update(t){this.hsva=t;const n=hsvaToHslaString({...t,a:0}),r=hsvaToHslaString({...t,a:1}),o=t.a*100;this.style([{left:`${o}%`,color:hsvaToHslaString(t)},{"--gradient":`linear-gradient(90deg, ${n}, ${r}`}]);const i=round(o);this.el.setAttribute("aria-valuenow",`${i}`),this.el.setAttribute("aria-valuetext",`${i}%`)}getMove(t,n){return{a:n?clamp(this.hsva.a+t.x):t.x}}}const alphaCss=`[part=alpha]{flex:0 0 24px}[part=alpha]::after{display:block;content:"";position:absolute;top:0;left:0;right:0;bottom:0;border-radius:inherit;background-image:var(--gradient);box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part^=alpha]{background-color:#fff;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>')}[part=alpha-pointer]{top:50%}`;class AlphaColorPicker extends ColorPicker{get[$css](){return[...super[$css],alphaCss]}get[$sliders](){return[...super[$sliders],Alpha]}}const colorModel={defaultColor:"#0001",toHsva:hexToHsva,fromHsva:hsvaToHex,equal:equalHex,fromAttr:e=>e};class HexAlphaBase extends AlphaColorPicker{get colorModel(){return colorModel}}class HexAlphaColorPicker extends HexAlphaBase{}customElements.define("hex-alpha-color-picker",HexAlphaColorPicker);const hexAlphaColorPicker=Object.freeze(Object.defineProperty({__proto__:null,HexAlphaColorPicker},Symbol.toStringTag,{value:"Module"}));return app});
