!function(){"use strict";try{if("undefined"!=typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode(".popup-container.svelte-1wq3mwc{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;pointer-events:none;z-index:10000;padding:20px;box-sizing:border-box}.popup-container.position-center.svelte-1wq3mwc{justify-content:center;align-items:center}.popup-container.position-top.svelte-1wq3mwc{justify-content:center;align-items:flex-start}.popup-container.position-top-left.svelte-1wq3mwc{justify-content:flex-start;align-items:flex-start}.popup-container.position-top-right.svelte-1wq3mwc{justify-content:flex-end;align-items:flex-start}.popup-container.position-bottom.svelte-1wq3mwc{justify-content:center;align-items:flex-end}.popup-container.position-middle-left.svelte-1wq3mwc{justify-content:flex-start;align-items:center}.popup-container.position-middle-right.svelte-1wq3mwc{justify-content:flex-end;align-items:center}.popup-container.position-bottom-left.svelte-1wq3mwc{justify-content:flex-start;align-items:flex-end}.popup-container.position-bottom-right.svelte-1wq3mwc{justify-content:flex-end;align-items:flex-end}.popup-container.svelte-1wq3mwc:not([class*=position-]){justify-content:center;align-items:flex-start}.popup-banner.svelte-1wq3mwc{border-radius:8px;box-shadow:0 2px 8px #00000026;padding:40px 0 20px;max-width:400px;width:84%;box-sizing:border-box;background:#fff;pointer-events:auto;position:relative}@media (max-width: 600px){.popup-banner.svelte-1wq3mwc{max-width:100%;width:100%}}.close-btn.svelte-1wq3mwc{position:absolute;top:-12px;right:-12px;background:transparent;border:none;font-size:24px;cursor:pointer;z-index:1;background:#fff;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#999}.banner-image.svelte-1wq3mwc{display:block;max-width:100%;margin:0 auto}.banner-image.clickable.svelte-1wq3mwc{cursor:pointer}.banner-image.clickable.svelte-1wq3mwc:hover{opacity:.8;transition:opacity .2s ease}.banner-text.svelte-1wq3mwc{margin:16px;font-size:1.1em;text-align:center}.banner-btn.svelte-1wq3mwc{display:block;margin:0 auto;padding:8px 24px;font-size:1em;border-radius:4px;border:none;background:#0070f3;color:#fff;cursor:pointer}.banner-btn.clickable.svelte-1wq3mwc:hover{opacity:.8;transition:opacity .2s ease}.under-btn-text.svelte-1wq3mwc{margin:8px 16px;font-size:.9em;text-align:center}.dim-bg.svelte-1wq3mwc{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:9999}.popup-banner.svelte-1wq3mwc{--animation-duration: .3s;--animation-easing: ease-out}.popup-banner.animate-fade-in-up.svelte-1wq3mwc{animation:svelte-1wq3mwc-fadeInUp var(--animation-duration) var(--animation-easing) forwards}.popup-banner.animate-fade-in-down.svelte-1wq3mwc{animation:svelte-1wq3mwc-fadeInDown var(--animation-duration) var(--animation-easing) forwards}.popup-banner.animate-fade-in.svelte-1wq3mwc{animation:svelte-1wq3mwc-fadeIn var(--animation-duration) var(--animation-easing) forwards}.popup-banner.animate-scale-in.svelte-1wq3mwc{animation:svelte-1wq3mwc-scaleIn var(--animation-duration) var(--animation-easing) forwards}@keyframes svelte-1wq3mwc-fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes svelte-1wq3mwc-fadeInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes svelte-1wq3mwc-fadeIn{0%{opacity:0}to{opacity:1}}@keyframes svelte-1wq3mwc-scaleIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}}();
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).PopupBanner={})}(this,function(t){"use strict";var e;"undefined"!=typeof window&&((e=window.__svelte??(window.__svelte={})).v??(e.v=new Set)).add("5");let n=!1;n=!0;const r=Symbol();var o=Array.isArray,i=Array.prototype.indexOf,u=Array.from,l=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyDescriptors,d=Object.prototype,f=Array.prototype,c=Object.getPrototypeOf,p=Object.isExtensible;function g(t){return t()}function v(t){for(var e=0;e<t.length;e++)t[e]()}const m=256,h=1024,b=2048,y=4096,w=8192,x=65536,B=1<<21,T=Symbol("$state"),$=Symbol("legacy props");function C(t){return t===this.v}function k(t){return e=t,n=this.v,!(e!=e?n==n:e!==n||null!==e&&"object"==typeof e||"function"==typeof e);var e,n}function _(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let L=null;function P(t){L=t}function S(t,e=!1,n){var r=L={p:L,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};!e&&(L.l={s:null,u:null,r1:[],r2:O(!1)}),ot(()=>{r.d=!0})}function M(t){const e=L;if(null!==e){void 0!==t&&(e.x=t);const u=e.e;if(null!==u){var n=Ft,r=Et;e.e=null;try{for(var o=0;o<u.length;o++){var i=u[o];Wt(i.effect),Nt(i.reaction),ut(i.fn)}}finally{Wt(n),Nt(r)}}L=e.p,e.m=!0}return t||{}}function E(){return null!==L&&null===L.l}function A(t){if("object"!=typeof t||null===t||T in t)return t;const e=c(t);if(e!==d&&e!==f)return t;var n=new Map,i=o(t),u=z(0),l=Et,s=t=>{var e=Et;Nt(l);var n=t();return Nt(e),n};return i&&n.set("length",z(t.length)),new Proxy(t,{defineProperty(t,e,r){"value"in r&&!1!==r.configurable&&!1!==r.enumerable&&!1!==r.writable||function(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}();var o=n.get(e);return void 0===o?o=s(()=>{var t=z(r.value);return n.set(e,t),t}):H(o,r.value,!0),!0},deleteProperty(t,e){var o=n.get(e);if(void 0===o){if(e in t){const t=s(()=>z(r));n.set(e,t),N(u)}}else{if(i&&"string"==typeof e){var l=n.get("length"),a=Number(e);Number.isInteger(a)&&a<l.v&&H(l,a)}H(o,r),N(u)}return!0},get(e,o,i){var u;if(o===T)return t;var l=n.get(o),d=o in e;if(void 0!==l||d&&!(null==(u=a(e,o))?void 0:u.writable)||(l=s(()=>z(A(d?e[o]:r))),n.set(o,l)),void 0!==l){var f=re(l);return f===r?void 0:f}return Reflect.get(e,o,i)},getOwnPropertyDescriptor(t,e){var o=Reflect.getOwnPropertyDescriptor(t,e);if(o&&"value"in o){var i=n.get(e);i&&(o.value=re(i))}else if(void 0===o){var u=n.get(e),l=null==u?void 0:u.v;if(void 0!==u&&l!==r)return{enumerable:!0,configurable:!0,value:l,writable:!0}}return o},has(t,e){var o;if(e===T)return!0;var i=n.get(e),u=void 0!==i&&i.v!==r||Reflect.has(t,e);return!((void 0!==i||null!==Ft&&(!u||(null==(o=a(t,e))?void 0:o.writable)))&&(void 0===i&&(i=s(()=>z(u?A(t[e]):r)),n.set(e,i)),re(i)===r))&&u},set(t,e,o,l){var d,f=n.get(e),c=e in t;if(i&&"length"===e)for(var p=o;p<f.v;p+=1){var g=n.get(p+"");void 0!==g?H(g,r):p in t&&(g=s(()=>z(r)),n.set(p+"",g))}void 0===f?c&&!(null==(d=a(t,e))?void 0:d.writable)||(H(f=s(()=>z(void 0)),A(o)),n.set(e,f)):(c=f.v!==r,H(f,s(()=>A(o))));var v=Reflect.getOwnPropertyDescriptor(t,e);if((null==v?void 0:v.set)&&v.set.call(l,o),!c){if(i&&"string"==typeof e){var m=n.get("length"),h=Number(e);Number.isInteger(h)&&h>=m.v&&H(m,h+1)}N(u)}return!0},ownKeys(t){re(u);var e=Reflect.ownKeys(t).filter(t=>{var e=n.get(t);return void 0===e||e.v!==r});for(var[o,i]of n)i.v===r||o in t||e.push(o);return e},setPrototypeOf(){!function(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}()}})}function N(t,e=1){H(t,t.v+e)}function F(t){var e=2050,n=null!==Et&&2&Et.f?Et:null;return null===Ft||null!==n&&0!==(n.f&m)?e|=m:Ft.f|=1048576,{ctx:L,deps:null,effects:null,equals:C,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:n??Ft}}function W(t){const e=F(t);return e.equals=k,e}function R(t){var e=t.effects;if(null!==e){t.effects=null;for(var n=0;n<e.length;n+=1)gt(e[n])}}function I(t){var e,n=Ft;Wt(function(t){for(var e=t.parent;null!==e;){if(!(2&e.f))return e;e=e.parent}return null}(t));try{R(t),e=Kt(t)}finally{Wt(n)}return e}function q(t){var e=I(t);t.equals(e)||(t.v=e,t.wv=Ht()),Pt||ue(t,!jt&&0===(t.f&m)||null===t.deps?h:y)}const D=new Map;function O(t,e){return{f:0,v:t,reactions:null,equals:C,rv:0,wv:0}}function z(t,e){const n=O(t);var r;return r=n,null!==Et&&Et.f&B&&(null===Rt?Rt=[Et,[r]]:Rt[1].push(r)),n}function j(t,e=!1,n=!0){var r;const o=O(t);return e||(o.equals=k),n&&null!==L&&null!==L.l&&((r=L.l).s??(r.s=[])).push(o),o}function H(t,e,n=!1){return null!==Et&&!At&&E()&&18&Et.f&&(!(null==Rt?void 0:Rt[1].includes(t))||Rt[0]!==Et)&&function(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}(),function(t,e){if(!t.equals(e)){var n=t.v;Pt?D.set(t,e):D.set(t,n),t.v=e,2&t.f&&(0!==(t.f&b)&&I(t),ue(t,0===(t.f&m)?h:y)),t.wv=Ht(),U(t,b),!E()||null===Ft||0===(Ft.f&h)||96&Ft.f||(null===Dt?function(t){Dt=t}([t]):Dt.push(t))}return e}(t,n?A(e):e)}function U(t,e){var n=t.reactions;if(null!==n)for(var r=E(),o=n.length,i=0;i<o;i++){var u=n[i],l=u.f;0===(l&b)&&(r||u!==Ft)&&(ue(u,e),1280&l&&(2&l?U(u,y):te(u)))}}var G,K,V,J;function Q(t=""){return document.createTextNode(t)}function X(t){return V.call(t)}function Y(t){return J.call(t)}function Z(t,e){return X(t)}function tt(t,e){var n=X(t);return n instanceof Comment&&""===n.data?Y(n):n}function et(t,e=1,n=!1){let r=t;for(;e--;)r=Y(r);return r}function nt(t){null===Ft&&null===Et&&function(){throw new Error("https://svelte.dev/e/effect_orphan")}(),null!==Et&&0!==(Et.f&m)&&null===Ft&&function(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}(),Pt&&function(){throw new Error("https://svelte.dev/e/effect_in_teardown")}()}function rt(t,e,n,r=!0){var o=Ft,i={ctx:L,deps:null,nodes_start:null,nodes_end:null,f:t|b,first:null,fn:e,last:null,next:null,parent:o,prev:null,teardown:null,transitions:null,wv:0};if(n)try{Qt(i),i.f|=32768}catch(l){throw gt(i),l}else null!==e&&te(i);if((!n||null!==i.deps||null!==i.first||null!==i.nodes_start||null!==i.teardown||1048704&i.f)&&r&&(null!==o&&function(t,e){var n=e.last;null===n?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}(i,o),null!==Et&&2&Et.f)){var u=Et;(u.effects??(u.effects=[])).push(i)}return i}function ot(t){const e=rt(8,null,!1);return ue(e,h),e.teardown=t,e}function it(t){if(nt(),!(null!==Ft&&32&Ft.f&&null!==L)||L.m)return ut(t);var e=L;(e.e??(e.e=[])).push({fn:t,effect:Ft,reaction:Et})}function ut(t){return rt(4,t,!1)}function lt(t,e){var n=L,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=at(()=>{t(),r.ran||(r.ran=!0,H(n.l.r2,!0),oe(e))})}function at(t){return rt(8,t,!0)}function st(t,e=[],n=F){const r=e.map(n);return dt(()=>t(...r.map(re)))}function dt(t,e=0){return rt(24|e,t,!0)}function ft(t,e=!0){return rt(40,t,!0,e)}function ct(t){var e=t.teardown;if(null!==e){const t=Pt,n=Et;St(!0),Nt(null);try{e.call(null)}finally{St(t),Nt(n)}}}function pt(t,e=!1){var n=t.first;for(t.first=t.last=null;null!==n;){var r=n.next;64&n.f?n.parent=null:gt(n,e),n=r}}function gt(t,e=!0){var n=!1;(e||524288&t.f)&&null!==t.nodes_start&&null!==t.nodes_end&&(function(t,e){for(;null!==t;){var n=t===e?null:Y(t);t.remove(),t=n}}(t.nodes_start,t.nodes_end),n=!0),pt(t,e&&!n),Jt(t,0),ue(t,16384);var r=t.transitions;if(null!==r)for(const i of r)i.stop();ct(t);var o=t.parent;null!==o&&null!==o.first&&vt(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function vt(t){var e=t.parent,n=t.prev,r=t.next;null!==n&&(n.next=r),null!==r&&(r.prev=n),null!==e&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function mt(t,e){var n=[];ht(t,n,!0),function(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var o of t)o.out(r)}else e()}(n,()=>{gt(t),e&&e()})}function ht(t,e,n){if(0===(t.f&w)){if(t.f^=w,null!==t.transitions)for(const r of t.transitions)(r.is_global||n)&&e.push(r);for(var r=t.first;null!==r;){var o=r.next;ht(r,e,!!(0!==(r.f&x)||32&r.f)&&n),r=o}}}function bt(t){yt(t,!0)}function yt(t,e){if(0!==(t.f&w)){t.f^=w;for(var n=t.first;null!==n;){var r=n.next;yt(n,!!(0!==(n.f&x)||32&n.f)&&e),n=r}if(null!==t.transitions)for(const n of t.transitions)(n.is_global||e)&&n.in()}}let wt=[],xt=[];function Bt(){var t=wt;wt=[],v(t)}function Tt(t){0===wt.length&&queueMicrotask(Bt),wt.push(t)}function $t(){var t;wt.length>0&&Bt(),xt.length>0&&(t=xt,xt=[],v(t))}function Ct(t,e){for(;null!==e;){if(128&e.f)try{return void e.fn(t)}catch{}e=e.parent}throw t}let kt=!1,_t=null,Lt=!1,Pt=!1;function St(t){Pt=t}let Mt=[],Et=null,At=!1;function Nt(t){Et=t}let Ft=null;function Wt(t){Ft=t}let Rt=null,It=null,qt=0,Dt=null,Ot=1,zt=0,jt=!1;function Ht(){return++Ot}function Ut(t){var e,n=t.f;if(0!==(n&b))return!0;if(0!==(n&y)){var r=t.deps,o=0!==(n&m);if(null!==r){var i,u,l=!!(512&n),a=o&&null!==Ft&&!jt,s=r.length;if(l||a){var d=t,f=d.parent;for(i=0;i<s;i++)u=r[i],!l&&(null==(e=null==u?void 0:u.reactions)?void 0:e.includes(d))||(u.reactions??(u.reactions=[])).push(d);l&&(d.f^=512),a&&null!==f&&0===(f.f&m)&&(d.f^=m)}for(i=0;i<s;i++)if(Ut(u=r[i])&&q(u),u.wv>t.wv)return!0}o&&(null===Ft||jt)||ue(t,h)}return!1}function Gt(t,e,n=!0){var r=t.reactions;if(null!==r)for(var o=0;o<r.length;o++){var i=r[o];(null==Rt?void 0:Rt[1].includes(t))&&Rt[0]===Et||(2&i.f?Gt(i,e,!1):e===i&&(n?ue(i,b):0!==(i.f&h)&&ue(i,y),te(i)))}}function Kt(t){var e,n=It,r=qt,o=Dt,i=Et,u=jt,l=Rt,a=L,s=At,d=t.f;It=null,qt=0,Dt=null,jt=0!==(d&m)&&(At||!Lt||null===Et),Et=96&d?null:t,Rt=null,P(t.ctx),At=!1,zt++,t.f|=B;try{var f=(0,t.fn)(),c=t.deps;if(null!==It){var p;if(Jt(t,qt),null!==c&&qt>0)for(c.length=qt+It.length,p=0;p<It.length;p++)c[qt+p]=It[p];else t.deps=c=It;if(!jt)for(p=qt;p<c.length;p++)((e=c[p]).reactions??(e.reactions=[])).push(t)}else null!==c&&qt<c.length&&(Jt(t,qt),c.length=qt);if(E()&&null!==Dt&&!At&&null!==c&&!(6146&t.f))for(p=0;p<Dt.length;p++)Gt(Dt[p],t);return null!==i&&i!==t&&(zt++,null!==Dt&&(null===o?o=Dt:o.push(...Dt))),f}catch(g){!function(t){var e=Ft;if(32768&e.f)Ct(t,e);else{if(!(128&e.f))throw t;e.fn(t)}}(g)}finally{It=n,qt=r,Dt=o,Et=i,jt=u,Rt=l,P(a),At=s,t.f^=B}}function Vt(t,e){let n=e.reactions;if(null!==n){var r=i.call(n,t);if(-1!==r){var o=n.length-1;0===o?n=e.reactions=null:(n[r]=n[o],n.pop())}}null===n&&2&e.f&&(null===It||!It.includes(e))&&(ue(e,y),768&e.f||(e.f^=512),R(e),Jt(e,0))}function Jt(t,e){var n=t.deps;if(null!==n)for(var r=e;r<n.length;r++)Vt(t,n[r])}function Qt(t){var e=t.f;if(!(16384&e)){ue(t,h);var n=Ft,r=Lt;Ft=t,Lt=!0;try{16&e?function(t){for(var e=t.first;null!==e;){var n=e.next;!(32&e.f)&&gt(e),e=n}}(t):pt(t),ct(t);var o=Kt(t);t.teardown="function"==typeof o?o:null,t.wv=Ot}finally{Lt=r,Ft=n}}}function Xt(){try{!function(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}()}catch(t){if(null===_t)throw t;Ct(t,_t)}}function Yt(){var t=Lt;try{var e=0;for(Lt=!0;Mt.length>0;){e++>1e3&&Xt();var n=Mt,r=n.length;Mt=[];for(var o=0;o<r;o++)Zt(ee(n[o]));D.clear()}}finally{kt=!1,Lt=t,_t=null}}function Zt(t){var e=t.length;if(0!==e)for(var n=0;n<e;n++){var r=t[n];24576&r.f||Ut(r)&&(Qt(r),null===r.deps&&null===r.first&&null===r.nodes_start&&(null===r.teardown?vt(r):r.fn=null))}}function te(t){kt||(kt=!0,queueMicrotask(Yt));for(var e=_t=t;null!==e.parent;){var n=(e=e.parent).f;if(96&n){if(0===(n&h))return;e.f^=h}}Mt.push(e)}function ee(t){for(var e=[],n=t;null!==n;){var r=n.f,o=!!(96&r);if((!o||0===(r&h))&&0===(r&w)){4&r?e.push(n):o?n.f^=h:Ut(n)&&Qt(n);var i=n.first;if(null!==i){n=i;continue}}var u=n.parent;for(n=n.next;null===n&&null!==u;)n=u.next,u=u.parent}return e}function ne(t){for(;;){if($t(),0===Mt.length)return kt=!1,void(_t=null);kt=!0,Yt()}}function re(t){var e=!!(2&t.f);if(null===Et||At){if(e&&null===t.deps&&null===t.effects){var n=t,r=n.parent;null!==r&&0===(r.f&m)&&(n.f^=m)}}else if(!(null==Rt?void 0:Rt[1].includes(t))||Rt[0]!==Et){var o=Et.deps;t.rv<zt&&(t.rv=zt,null===It&&null!==o&&o[qt]===t?qt++:null===It?It=[t]:jt&&It.includes(t)||It.push(t))}return e&&Ut(n=t)&&q(n),Pt&&D.has(t)?D.get(t):t.v}function oe(t){var e=At;try{return At=!0,t()}finally{At=e}}const ie=-7169;function ue(t,e){t.f=t.f&ie|e}function le(t){if("object"==typeof t&&t&&!(t instanceof EventTarget))if(T in t)ae(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];"object"==typeof n&&n&&T in n&&ae(n)}}function ae(t,e=new Set){if(!("object"!=typeof t||null===t||t instanceof EventTarget||e.has(t))){e.add(t),t instanceof Date&&t.getTime();for(let o in t)try{ae(t[o],e)}catch(n){}const r=c(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const e=s(r);for(let r in e){const o=e[r].get;if(o)try{o.call(t)}catch(n){}}}}}const se=new Set,de=new Set;function fe(t,e,n,r,o){var i={capture:r,passive:o},u=function(t,e,n,r={}){function o(t){if(r.capture||ce.call(e,t),!t.cancelBubble)return function(t){var e=Et,n=Ft;Nt(null),Wt(null);try{return t()}finally{Nt(e),Wt(n)}}(()=>null==n?void 0:n.call(this,t))}return t.startsWith("pointer")||t.startsWith("touch")||"wheel"===t?Tt(()=>{e.addEventListener(t,o,r)}):e.addEventListener(t,o,r),o}(t,e,n,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&ot(()=>{e.removeEventListener(t,u,i)})}function ce(t){var e,n=this,r=n.ownerDocument,i=t.type,u=(null==(e=t.composedPath)?void 0:e.call(t))||[],a=u[0]||t.target,s=0,d=t.__root;if(d){var f=u.indexOf(d);if(-1!==f&&(n===document||n===window))return void(t.__root=n);var c=u.indexOf(n);if(-1===c)return;f<=c&&(s=f)}if((a=u[s]||t.target)!==n){l(t,"currentTarget",{configurable:!0,get:()=>a||r});var p=Et,g=Ft;Nt(null),Wt(null);try{for(var v,m=[];null!==a;){var h=a.assignedSlot||a.parentNode||a.host||null;try{var b=a["__"+i];if(null!=b&&(!a.disabled||t.target===a))if(o(b)){var[y,...w]=b;y.apply(a,[t,...w])}else b.call(a,t)}catch(x){v?m.push(x):v=x}if(t.cancelBubble||h===n||null===h)break;a=h}if(v){for(let t of m)queueMicrotask(()=>{throw t});throw v}}finally{t.__root=n,delete t.currentTarget,Nt(p),Wt(g)}}}function pe(t,e){var n=Ft;null===n.nodes_start&&(n.nodes_start=t,n.nodes_end=e)}function ge(t,e){var n,r=!!(1&e),o=!!(2&e),i=!t.startsWith("<!>");return()=>{var e,u;void 0===n&&(e=i?t:"<!>"+t,(u=document.createElement("template")).innerHTML=e.replaceAll("<!>","\x3c!----\x3e"),n=u.content,r||(n=X(n)));var l=o||K?document.importNode(n,!0):n.cloneNode(!0);return r?pe(X(l),l.lastChild):pe(l,l),l}}function ve(t,e){null!==t&&t.before(e)}const me=["touchstart","touchmove"];function he(t){return me.includes(t)}function be(t,e){var n=null==e?"":"object"==typeof e?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function ye(t,e){return function(t,{target:e,anchor:n,props:r={},events:o,context:i,intro:l=!0}){!function(){if(void 0===G){G=window,K=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;V=a(e,"firstChild").get,J=a(e,"nextSibling").get,p(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),p(n)&&(n.__t=void 0)}}();var s=new Set,d=t=>{for(var n=0;n<t.length;n++){var r=t[n];if(!s.has(r)){s.add(r);var o=he(r);e.addEventListener(r,ce,{passive:o});var i=we.get(r);void 0===i?(document.addEventListener(r,ce,{passive:o}),we.set(r,1)):we.set(r,i+1)}}};d(u(se)),de.add(d);var f=void 0,c=function(){const u=rt(64,()=>{var u=n??e.appendChild(Q());return ft(()=>{i&&(S({}),L.c=i),o&&(r.$$events=o),f=t(u,r)||{},i&&M()}),()=>{var t;for(var r of s){e.removeEventListener(r,ce);var o=we.get(r);0===--o?(document.removeEventListener(r,ce),we.delete(r)):we.set(r,o)}de.delete(d),u!==n&&(null==(t=u.parentNode)||t.removeChild(u))}},!0);return(t={})=>new Promise(e=>{t.outro?mt(u,()=>{gt(u),e(void 0)}):(gt(u),e(void 0))})}();return xe.set(f,c),f}(t,e)}const we=new Map;let xe=new WeakMap;function Be(t,e,[n,o]=[0,0]){var i=t,u=null,l=null,a=r,s=!1;const d=(t,e=!0)=>{s=!0,f(e,t)},f=(t,e)=>{a!==(a=t)&&(a?(u?bt(u):e&&(u=ft(()=>e(i))),l&&mt(l,()=>{l=null})):(l?bt(l):e&&(l=ft(()=>e(i,[n+1,o]))),u&&mt(u,()=>{u=null})))};dt(()=>{s=!1,e(d),s||f(null,null)},n>0?x:0)}function Te(t,e,n,r,o,i){var u=t.__className;if(u!==n||void 0===u){var l=function(t,e){var n=null==t?"":""+t;return""===(n=n?n+" "+e:e)?null:n}(n,r);null==l?t.removeAttribute("class"):t.className=l,t.__className=n}return i}function $e(t,e,n,r){if(t.__style!==e){var o=function(t){return null==t?null:String(t)}(e);null==o?t.removeAttribute("style"):t.style.cssText=o,t.__style=e}return r}const Ce=Symbol("is custom element"),ke=Symbol("is html");function _e(t,e,n,r){var o=function(t){return t.__attributes??(t.__attributes={[Ce]:t.nodeName.includes("-"),[ke]:"http://www.w3.org/1999/xhtml"===t.namespaceURI})}(t);o[e]!==(o[e]=n)&&(null==n?t.removeAttribute(e):"string"!=typeof n&&function(t){var e,n=Le.get(t.nodeName);if(n)return n;Le.set(t.nodeName,n=[]);for(var r=t,o=Element.prototype;o!==r;){for(var i in e=s(r))e[i].set&&n.push(i);r=c(r)}return n}(t).includes(e)?t[e]=n:t.setAttribute(e,n))}var Le=new Map;function Pe(t,e){return t===e||(null==t?void 0:t[T])===e}function Se(t,e){if(t.l.s)for(const n of t.l.s)re(n);e()}let Me=!1;function Ee(t){var e;return(null==(e=t.ctx)?void 0:e.d)??!1}function Ae(t,e,n,r){var o,i,u=!!(2&n),l=!!(8&n),s=!1;[i,s]=function(){var n=Me;try{return Me=!1,[t[e],Me]}finally{Me=n}}();var d,f=T in t||$ in t,c=((null==(o=a(t,e))?void 0:o.set)??(f&&e in t&&(n=>t[e]=n)))||void 0,p=r,g=!0,v=!1,m=()=>(v=!0,g&&(g=!1,p=r),p);if(void 0===i&&void 0!==r&&(c&&u&&function(){throw new Error("https://svelte.dev/e/props_invalid_value")}(),i=m(),c&&c(i)),u)d=()=>{var n=t[e];return void 0===n?m():(g=!0,v=!1,n)};else{var h=W(()=>t[e]);h.f|=131072,d=()=>{var t=re(h);return void 0!==t&&(p=void 0),void 0===t?p:t}}if(c){var b=t.$$legacy;return function(t,e){return arguments.length>0?(u&&e&&!b&&!s||c(e?d():t),t):d()}}var y=!1,w=j(i),x=F(()=>{var t=d(),e=re(w);return y?(y=!1,e):w.v=t});return re(x),x.equals=k,function(t,e){if(arguments.length>0){const n=e?re(x):u&&l?A(t):t;if(!x.equals(n)){if(y=!0,H(w,n),v&&void 0!==p&&(p=n),Ee(x))return t;oe(()=>re(x))}return t}return Ee(x)?x.v:re(x)}}class Ne{constructor(t){this.config=t}shouldLog(t){if(!this.config.enabled)return!1;const e=["debug","info","warn","error"],n=e.indexOf(this.config.level);return e.indexOf(t)>=n}debug(t,...e){this.shouldLog("debug")}info(t,...e){this.shouldLog("info")}warn(t,...e){this.shouldLog("warn")}error(t,...e){this.shouldLog("error")}}const Fe=(t="")=>{const e="undefined"!=typeof window&&"on"===new URLSearchParams(window.location.search).get("popupBannerDebug");return new Ne({enabled:e,level:e?"debug":"error",prefix:t})},We=Fe("[PopupBanner:Image] "),Re=Fe("[PopupBanner:Animation] "),Ie=Fe("[PopupBanner:Controller] "),qe=Fe("[PopupBanner:Trigger] "),De=Fe("[PopupBanner:Cookie] "),Oe=Fe("[PopupBanner:GA4] ");var ze=ge('<img alt="バナー画像" style="display: none;" class="svelte-1wq3mwc"/>'),je=ge('<div class="dim-bg svelte-1wq3mwc" role="button" tabindex="0"></div>'),He=ge('<img class="banner-image clickable svelte-1wq3mwc" alt="バナー画像" role="button" tabindex="0"/>'),Ue=ge('<img class="banner-image svelte-1wq3mwc" alt="バナー画像"/>'),Ge=ge('<div class="banner-text svelte-1wq3mwc"> </div>'),Ke=ge("<button> </button>"),Ve=ge('<div class="under-btn-text svelte-1wq3mwc"> </div>'),Je=ge('<!> <div><div><button class="close-btn svelte-1wq3mwc">×</button> <!> <!> <!> <!></div></div>',1),Qe=ge("<!> <!>",1);function Xe(t,e){S(e,!1);const n=j(),r=j(),i=j(),u=j(),l=j(),a=j(),s=j(),d=function(){const t=L;return null===t&&_(),(e,n,r)=>{var i;const u=null==(i=t.s.$$events)?void 0:i[e];if(u){const i=o(u)?u.slice():[u],l=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}(e,n,r);for(const e of i)e.call(t.x,l);return!l.defaultPrevented}return!0}}();let f=Ae(e,"popupId",12,"sample"),c=Ae(e,"popupName",12,"サンプルバナー"),p=Ae(e,"popupPosition",12,"center"),m=Ae(e,"popupWidth",12,""),b=Ae(e,"popupBackgroundColor",12,""),w=Ae(e,"popupPadding",12,""),x=Ae(e,"popupMargin",12,""),B=Ae(e,"popupBorderRadius",12,""),T=Ae(e,"popupBoxShadow",12,""),$=Ae(e,"popupBorderWidth",12,""),C=Ae(e,"popupBorderColor",12,""),k=Ae(e,"popupBorderStyle",12,""),P=Ae(e,"dimBackground",12,!0),E=Ae(e,"closeButtonColor",12,""),A=Ae(e,"closeButtonBackgroundColor",12,""),N=Ae(e,"closeButtonTop",12,""),W=Ae(e,"closeButtonRight",12,""),R=Ae(e,"imageUrl",12,null),I=Ae(e,"imagePadding",12,""),q=Ae(e,"imageMargin",12,""),D=Ae(e,"imageBorderRadius",12,""),O=Ae(e,"imageLoadTimeout",12,5),z=Ae(e,"imageLoadErrorAction",12,"show"),U=Ae(e,"imageLink",12,""),G=Ae(e,"imageLinkTarget",12,"_blank"),K=Ae(e,"onImageClick",12,()=>{}),V=Ae(e,"animationType",12,"fade-in-up"),J=Ae(e,"animationDuration",12,300),X=Ae(e,"animationEasing",12,"ease-out"),Y=Ae(e,"text",12,""),rt=Ae(e,"middleTextAlign",12,""),ot=Ae(e,"middleTextLineHeight",12,""),dt=Ae(e,"middleTextColor",12,""),ft=Ae(e,"middleTextFontSize",12,""),ct=Ae(e,"middleTextFontWeight",12,""),pt=Ae(e,"middleTextPadding",12,""),gt=Ae(e,"middleTextMargin",12,""),vt=Ae(e,"buttonText",12,""),mt=Ae(e,"buttonAlign",12,""),ht=Ae(e,"buttonColor",12,""),bt=Ae(e,"buttonTextColor",12,""),yt=Ae(e,"buttonFontSize",12,""),wt=Ae(e,"buttonFontWeight",12,""),xt=Ae(e,"buttonPadding",12,""),Bt=Ae(e,"buttonMargin",12,""),$t=Ae(e,"buttonBorderRadius",12,""),Ct=Ae(e,"buttonBorderStyle",12,""),kt=Ae(e,"buttonBorderWidth",12,""),_t=Ae(e,"buttonBorderColor",12,""),Lt=Ae(e,"buttonLink",12,""),Pt=Ae(e,"buttonLinkTarget",12,"_blank"),St=Ae(e,"underBtnText",12,""),Mt=Ae(e,"underBtnTextAlign",12,""),Et=Ae(e,"underBtnTextLineHeight",12,""),At=Ae(e,"underBtnTextColor",12,""),Nt=Ae(e,"underBtnTextFontSize",12,""),Ft=Ae(e,"underBtnTextFontWeight",12,""),Wt=Ae(e,"underBtnTextPadding",12,""),Rt=Ae(e,"underBtnTextMargin",12,""),It=Ae(e,"onButtonClick",12,()=>{}),qt=Ae(e,"onClose",12,()=>{}),Dt=j(!1),Ot=j(!1),zt=j(!1),jt=j(!0),Ht=j(),Gt=j(!1),Kt=j("");function Vt(){We.info("画像読み込み完了:",R()),H(Dt,!0),H(zt,!0)}function Jt(){We.warn("画像読み込みエラー:",R()),H(Ot,!0),"show"===z()?(H(jt,!1),H(zt,!0)):(qt()(),d("close"))}function Xt(){if(R())return We.debug(`画像読み込み開始（タイムアウト: ${O()}秒）:`,R()),setTimeout(()=>{re(Dt)||re(Ot)||(We.warn("画像読み込みタイムアウト:",R()),Jt())},1e3*O())}function Yt(){re(Gt)||(We.info("画像がクリックされました",{imageUrl:R(),imageLink:U()}),K()&&K()(),U()&&window.open(U(),G()))}function Zt(){re(Gt)||(It()&&It()(),Lt()&&window.open(Lt(),Pt()))}function te(){(!R()||re(Dt)||re(Ot))&&(re(Ot)&&"hide"===z()?We.info("画像読み込みエラーのためバナーを表示しません"):(re(Ot)&&H(jt,!1),H(zt,!0)))}let ee=j();function ie(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),qt()(),d("close")),"Escape"===t.key&&(qt()(),d("close"))}var ae,se,de;ae=()=>{R()?Xt():te()},null===L&&_(),null!==L.l?(se=L,de=se.l,de.u??(de.u={a:[],b:[],m:[]})).m.push(ae):it(()=>{const t=oe(ae);if("function"==typeof t)return t}),lt(()=>(le(f()),le(c())),()=>{f()&&c()}),lt(()=>(le(R()),re(Dt),re(Ot)),()=>{!R()||re(Dt)||re(Ot)||H(ee,Xt())}),lt(()=>(le(b()),le(m()),le(w()),le(x()),le(B()),le(T()),le($()),le(C()),le(k())),()=>{H(n,`\n    ${b()?`background:${b()};`:""}\n    ${m()?`max-width:${m()};`:""}\n    ${w()?`padding:${w()};`:""}\n    ${x()?`margin:${x()};`:""}\n    ${B()?`border-radius:${B()};`:""}\n    ${T()?`box-shadow:${T()};`:""}\n    ${$()?`border-width:${$()};`:""}\n    ${C()?`border-color:${C()};`:""}\n    ${k()?`border-style:${k()};`:""}\n  `)}),lt(()=>le(p()),()=>{H(r,"bottom"===p()?"position-bottom":"top"===p()?"position-top":"center"===p()?"position-center":"top-left"===p()?"position-top-left":"top-right"===p()?"position-top-right":"middle-left"===p()?"position-middle-left":"middle-right"===p()?"position-middle-right":"bottom-left"===p()?"position-bottom-left":"bottom-right"===p()?"position-bottom-right":"")}),lt(()=>(le(E()),le(A()),le(N()),le(W())),()=>{H(i,`\n    ${E()?`color:${E()};`:""}\n    ${A()?`background:${A()};`:""}\n    ${N()?`top:${N()};`:""}\n    ${W()?`right:${W()};`:""}\n  `)}),lt(()=>(le(I()),le(q()),le(D())),()=>{H(u,`\n    ${I()?`padding:${I()};`:""}\n    ${q()?`margin:${q()};`:""}\n    ${D()?`border-radius:${D()};`:""}\n  `)}),lt(()=>(le(dt()),le(rt()),le(ot()),le(ft()),le(ct()),le(pt()),le(gt())),()=>{H(l,`\n    ${dt()?`color:${dt()};`:""}\n    ${rt()?`text-align:${rt()};`:""}\n    ${ot()?`line-height:${ot()};`:""}\n    ${ft()?`font-size:${ft()};`:""}\n    ${ct()?`font-weight:${ct()};`:""}\n    ${pt()?`padding:${pt()};`:""}\n    ${gt()?`margin:${gt()};`:""}\n  `)}),lt(()=>(le(ht()),le(bt()),le(yt()),le(wt()),le(xt()),le(Bt()),le($t()),le(Ct()),le(kt()),le(_t()),le(mt())),()=>{H(a,`\n    ${ht()?`background:${ht()};`:""}\n    ${bt()?`color:${bt()};`:""}\n    ${yt()?`font-size:${yt()};`:""}\n    ${wt()?`font-weight:${wt()};`:""}\n    ${xt()?`padding:${xt()};`:""}\n    ${Bt()?`margin:${Bt()};`:""}\n    ${$t()?`border-radius:${$t()};`:""}\n    ${Ct()?`border-style:${Ct()};`:""}\n    ${kt()?`border-width:${kt()};`:""}\n    ${_t()?`border-color:${_t()};`:""}\n    ${mt()?`display:block;margin-left:auto;margin-right:auto;text-align:${mt()};`:""}\n  `)}),lt(()=>(le(At()),le(Mt()),le(Et()),le(Nt()),le(Ft()),le(Wt()),le(Rt())),()=>{H(s,`\n    ${At()?`color:${At()};`:""}\n    ${Mt()?`text-align:${Mt()};`:""}\n    ${Et()?`line-height:${Et()};`:""}\n    ${Nt()?`font-size:${Nt()};`:""}\n    ${Ft()?`font-weight:${Ft()};`:""}\n    ${Wt()?`padding:${Wt()};`:""}\n    ${Rt()?`margin:${Rt()};`:""}\n  `)}),lt(()=>(le(R()),re(Dt),re(Ot)),()=>{R()&&(re(Dt)||re(Ot))&&te()}),lt(()=>(re(zt),re(Ht),le(V())),()=>{re(zt)&&re(Ht)&&requestAnimationFrame(()=>{"none"!==V()&&function(){if("fade-in-up"===V()){Re.debug("fade-in-upアニメーション初期化"),re(Ht)&&(re(Ht).style.setProperty("--animation-duration",`${J()}ms`),re(Ht).style.setProperty("--animation-easing",X())),H(Kt,"animate-fade-in-up"),H(Gt,!0);const t=()=>{H(Gt,!1),Re.debug("アニメーション完了"),re(Ht)&&re(Ht).removeEventListener("animationend",t)};re(Ht)&&re(Ht).addEventListener("animationend",t)}else if("fade-in-down"===V()){Re.debug("fade-in-downアニメーション初期化"),re(Ht)&&(re(Ht).style.setProperty("--animation-duration",`${J()}ms`),re(Ht).style.setProperty("--animation-easing",X())),H(Kt,"animate-fade-in-down"),H(Gt,!0);const t=()=>{H(Gt,!1),Re.debug("アニメーション完了"),re(Ht)&&re(Ht).removeEventListener("animationend",t)};re(Ht)&&re(Ht).addEventListener("animationend",t)}else if("fade-in"===V()){Re.debug("fade-inアニメーション初期化"),re(Ht)&&(re(Ht).style.setProperty("--animation-duration",`${J()}ms`),re(Ht).style.setProperty("--animation-easing",X())),H(Kt,"animate-fade-in"),H(Gt,!0);const t=()=>{H(Gt,!1),Re.debug("アニメーション完了"),re(Ht)&&re(Ht).removeEventListener("animationend",t)};re(Ht)&&re(Ht).addEventListener("animationend",t)}else if("scale-in"===V()){Re.debug("scale-inアニメーション初期化"),re(Ht)&&(re(Ht).style.setProperty("--animation-duration",`${J()}ms`),re(Ht).style.setProperty("--animation-easing",X())),H(Kt,"animate-scale-in"),H(Gt,!0);const t=()=>{H(Gt,!1),Re.debug("アニメーション完了"),re(Ht)&&re(Ht).removeEventListener("animationend",t)};re(Ht)&&re(Ht).addEventListener("animationend",t)}}()})}),function(){var t=L;at(()=>{if(re(t.l.r2)){for(var e of t.l.r1){var n=e.effect;0!==(n.f&h)&&ue(n,y),Ut(n)&&Qt(n),e.ran=!1}t.l.r2.v=!1}})}(),function(t=!1){const e=L,n=e.l.u;if(!n)return;let r=()=>le(e.s);if(t){let t=0,n={};const o=F(()=>{let r=!1;const o=e.s;for(const t in o)o[t]!==n[t]&&(n[t]=o[t],r=!0);return r&&t++,t});r=()=>re(o)}var o;n.b.length&&(o=()=>{Se(e,r),v(n.b)},nt(),at(o)),it(()=>{const t=oe(()=>n.m.map(g));return()=>{for(const e of t)"function"==typeof e&&e()}}),n.a.length&&it(()=>{Se(e,r),v(n.a)})}();var ce=Qe(),ge=tt(ce),me=t=>{var e=ze();st(()=>_e(e,"src",R())),fe("load",e,Vt),fe("error",e,Jt),ve(t,e)};Be(ge,t=>{!R()||re(Dt)||re(Ot)||t(me)});var he=et(ge,2),ye=t=>{var e=Je(),o=tt(e),f=t=>{var e=je();fe("click",e,()=>{qt()(),d("close")}),fe("keydown",e,ie),ve(t,e)};Be(o,t=>{P()&&t(f)});var c=et(o,2),p=Z(c),g=Z(p),v=et(g,2),m=t=>{var e,n,r,o=(e=document.createDocumentFragment(),n=document.createComment(""),r=Q(),e.append(n,r),pe(n,r),e),i=tt(o),l=t=>{var e=He();st(()=>{_e(e,"src",R()),$e(e,re(u))}),fe("click",e,Yt),fe("keydown",e,t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),Yt())}),ve(t,e)},a=t=>{var e=Ue();st(()=>{_e(e,"src",R()),$e(e,re(u))}),ve(t,e)};Be(i,t=>{U()?t(l):t(a,!1)}),ve(t,o)};Be(v,t=>{R()&&re(jt)&&t(m)});var h=et(v,2),b=t=>{var e=Ge(),n=Z(e);st(()=>{$e(e,re(l)),be(n,Y())}),ve(t,e)};Be(h,t=>{Y()&&t(b)});var y=et(h,2),w=t=>{var e=Ke(),n=Z(e);st(()=>{Te(e,0,"banner-btn"+(Lt()?" clickable":""),"svelte-1wq3mwc"),$e(e,re(a)),e.disabled=re(Gt),be(n,vt())}),fe("click",e,Zt),ve(t,e)};Be(y,t=>{vt()&&t(w)});var x=et(y,2),B=t=>{var e=Ve(),n=Z(e);st(()=>{$e(e,re(s)),be(n,St())}),ve(t,e)};Be(x,t=>{St()&&t(B)}),function(t={},e,n){ut(()=>{var r,o;return at(()=>{r=o,o=[],oe(()=>{t!==n(...o)&&(e(t,...o),r&&Pe(n(...r),t)&&e(null,...r))})}),()=>{Tt(()=>{o&&Pe(n(...o),t)&&e(null,...o)})}})}(p,t=>H(Ht,t),()=>re(Ht)),st(()=>{Te(c,0,`popup-container ${re(r)??""}`,"svelte-1wq3mwc"),Te(p,0,`popup-banner ${re(Kt)??""}`,"svelte-1wq3mwc"),$e(p,re(n)),$e(g,re(i)),g.disabled=re(Gt)}),fe("click",g,()=>{re(ee)&&clearTimeout(re(ee)),qt()(),d("close")}),ve(t,e)};return Be(he,t=>{re(zt)&&t(ye)}),ve(t,ce),M({get popupId(){return f()},set popupId(t){f(t),ne()},get popupName(){return c()},set popupName(t){c(t),ne()},get popupPosition(){return p()},set popupPosition(t){p(t),ne()},get popupWidth(){return m()},set popupWidth(t){m(t),ne()},get popupBackgroundColor(){return b()},set popupBackgroundColor(t){b(t),ne()},get popupPadding(){return w()},set popupPadding(t){w(t),ne()},get popupMargin(){return x()},set popupMargin(t){x(t),ne()},get popupBorderRadius(){return B()},set popupBorderRadius(t){B(t),ne()},get popupBoxShadow(){return T()},set popupBoxShadow(t){T(t),ne()},get popupBorderWidth(){return $()},set popupBorderWidth(t){$(t),ne()},get popupBorderColor(){return C()},set popupBorderColor(t){C(t),ne()},get popupBorderStyle(){return k()},set popupBorderStyle(t){k(t),ne()},get dimBackground(){return P()},set dimBackground(t){P(t),ne()},get closeButtonColor(){return E()},set closeButtonColor(t){E(t),ne()},get closeButtonBackgroundColor(){return A()},set closeButtonBackgroundColor(t){A(t),ne()},get closeButtonTop(){return N()},set closeButtonTop(t){N(t),ne()},get closeButtonRight(){return W()},set closeButtonRight(t){W(t),ne()},get imageUrl(){return R()},set imageUrl(t){R(t),ne()},get imagePadding(){return I()},set imagePadding(t){I(t),ne()},get imageMargin(){return q()},set imageMargin(t){q(t),ne()},get imageBorderRadius(){return D()},set imageBorderRadius(t){D(t),ne()},get imageLoadTimeout(){return O()},set imageLoadTimeout(t){O(t),ne()},get imageLoadErrorAction(){return z()},set imageLoadErrorAction(t){z(t),ne()},get imageLink(){return U()},set imageLink(t){U(t),ne()},get imageLinkTarget(){return G()},set imageLinkTarget(t){G(t),ne()},get onImageClick(){return K()},set onImageClick(t){K(t),ne()},get animationType(){return V()},set animationType(t){V(t),ne()},get animationDuration(){return J()},set animationDuration(t){J(t),ne()},get animationEasing(){return X()},set animationEasing(t){X(t),ne()},get text(){return Y()},set text(t){Y(t),ne()},get middleTextAlign(){return rt()},set middleTextAlign(t){rt(t),ne()},get middleTextLineHeight(){return ot()},set middleTextLineHeight(t){ot(t),ne()},get middleTextColor(){return dt()},set middleTextColor(t){dt(t),ne()},get middleTextFontSize(){return ft()},set middleTextFontSize(t){ft(t),ne()},get middleTextFontWeight(){return ct()},set middleTextFontWeight(t){ct(t),ne()},get middleTextPadding(){return pt()},set middleTextPadding(t){pt(t),ne()},get middleTextMargin(){return gt()},set middleTextMargin(t){gt(t),ne()},get buttonText(){return vt()},set buttonText(t){vt(t),ne()},get buttonAlign(){return mt()},set buttonAlign(t){mt(t),ne()},get buttonColor(){return ht()},set buttonColor(t){ht(t),ne()},get buttonTextColor(){return bt()},set buttonTextColor(t){bt(t),ne()},get buttonFontSize(){return yt()},set buttonFontSize(t){yt(t),ne()},get buttonFontWeight(){return wt()},set buttonFontWeight(t){wt(t),ne()},get buttonPadding(){return xt()},set buttonPadding(t){xt(t),ne()},get buttonMargin(){return Bt()},set buttonMargin(t){Bt(t),ne()},get buttonBorderRadius(){return $t()},set buttonBorderRadius(t){$t(t),ne()},get buttonBorderStyle(){return Ct()},set buttonBorderStyle(t){Ct(t),ne()},get buttonBorderWidth(){return kt()},set buttonBorderWidth(t){kt(t),ne()},get buttonBorderColor(){return _t()},set buttonBorderColor(t){_t(t),ne()},get buttonLink(){return Lt()},set buttonLink(t){Lt(t),ne()},get buttonLinkTarget(){return Pt()},set buttonLinkTarget(t){Pt(t),ne()},get underBtnText(){return St()},set underBtnText(t){St(t),ne()},get underBtnTextAlign(){return Mt()},set underBtnTextAlign(t){Mt(t),ne()},get underBtnTextLineHeight(){return Et()},set underBtnTextLineHeight(t){Et(t),ne()},get underBtnTextColor(){return At()},set underBtnTextColor(t){At(t),ne()},get underBtnTextFontSize(){return Nt()},set underBtnTextFontSize(t){Nt(t),ne()},get underBtnTextFontWeight(){return Ft()},set underBtnTextFontWeight(t){Ft(t),ne()},get underBtnTextPadding(){return Wt()},set underBtnTextPadding(t){Wt(t),ne()},get underBtnTextMargin(){return Rt()},set underBtnTextMargin(t){Rt(t),ne()},get onButtonClick(){return It()},set onButtonClick(t){It(t),ne()},get onClose(){return qt()},set onClose(t){qt(t),ne()}})}function Ye(t){window.dataLayer||(window.dataLayer=[]),window.dataLayer.push(t),Oe.debug("GA4 event sent",t)}function Ze(t){Ye({event:"select_promotion",...t})}!function(t){const e=function(...t){(e.q=e.q||[]).push(t)};t.TryPopupBanner=t.TryPopupBanner||e}("undefined"!=typeof window?window:globalThis);let tn=[],en=!1;const nn={show(t){if(Array.isArray(t)){if(0===t.length)return;const e=function(t,e="popupBannerAbTestGroupIndex"){var n,r;let o=[];const i=localStorage.getItem(e);i&&(o=i.split(",").map(t=>t.trim()).filter(Boolean));let u=o.find(e=>t.some(t=>(null==t?void 0:t.popupId)===e));if(!u){const r=Math.floor(Math.random()*t.length);if(u=null==(n=t[r])?void 0:n.popupId,u){o.push(u);const t=Array.from(new Set(o));localStorage.setItem(e,t.join(","))}}return u||(null==(r=t[0])?void 0:r.popupId)}(t),n=t.find(t=>(null==t?void 0:t.popupId)===e)||t[0];return void(n&&this.show(n))}tn.push(t),rn()}};function rn(){if(en)return;const t=tn.shift();if(t){if(!t.popupId||!t.popupName)return Ie.error("popupIdとpopupNameは必須です",t),void rn();!t.popupCookieName&&t.popupId&&(t.popupCookieName="popupBanner_"+t.popupId);try{if(!function(t){try{if(t.triggerCondition){const e=function(t){if(!t||!Array.isArray(t.selectors))return!1;const e=t.logic||"AND",n=t.selectors.map(t=>{const e=document.querySelector(t.selector);if(void 0!==t.exists){if(t.exists&&!e)return!1;if(!t.exists&&e)return!1}if(void 0!==t.notExists){if(t.notExists&&e)return!1;if(!t.notExists&&!e)return!1}if(t.textMatches&&e){const n=e.textContent||"";if("string"==typeof t.textMatches){if(!n.includes(t.textMatches))return!1}else if(t.textMatches instanceof RegExp&&!t.textMatches.test(n))return!1}if(t.attributeMatches&&e){const n=e.getAttribute(t.attributeMatches.attr)||"";if(t.attributeMatches.value&&n!==t.attributeMatches.value)return!1;if(t.attributeMatches.regex&&!t.attributeMatches.regex.test(n))return!1}return!0});return"AND"===e?n.every(Boolean):n.some(Boolean)}(t.triggerCondition);if(qe.debug("triggerCondition 判定:",e,t.triggerCondition),!e)return!1}if(t.amountCondition&&t.cartItems){const e=t.cartItems,n=function(t,e){if(!Array.isArray(t)||0===t.length)return!1;const n=t.reduce((t,e)=>t+e.price*e.quantity,0);switch(e.operator){case"eq":return n===e.value;case"gt":return n>e.value;case"gte":return n>=e.value;case"lt":return n<e.value;case"lte":return n<=e.value;default:return!1}}(e,t.amountCondition);if(qe.debug("amountCondition 判定:",n,{items:e,amountCondition:t.amountCondition}),!n)return!1}if(t.shouldSetCookie&&t.popupCookieName){const e="closed"===function(t){const e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([.$?*|{}()\[\]\\\/\+^])/g,"$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):null}(t.popupCookieName);if(De.debug("再表示制御 判定:",!e,"cookieName=",t.popupCookieName,"closed=",e),e)return!1}return Ie.info("shouldShowBanner: 全ての条件を通過しました",t),!0}catch(e){return Ie.error("shouldShowBanner error",e),!1}}(t))return Ie.info("表示条件を満たさないためバナーを表示しません",t),void rn();en=!0;const n=document.createElement("div");document.body.appendChild(n);const r=ye(Xe,{target:n,props:{popupId:t.popupId,popupName:t.popupName,popupPosition:t.popupPosition,popupWidth:t.popupWidth,popupBackgroundColor:t.popupBackgroundColor,popupPadding:t.popupPadding,popupMargin:t.popupMargin,popupBorderRadius:t.popupBorderRadius,dimBackground:t.dimBackground,closeButtonColor:t.closeButtonColor,closeButtonBackgroundColor:t.closeButtonBackgroundColor,closeButtonTop:t.closeButtonTop,closeButtonRight:t.closeButtonRight,imageUrl:t.imageUrl,imagePadding:t.imagePadding,imageMargin:t.imageMargin,imageBorderRadius:t.imageBorderRadius,imageLoadTimeout:t.imageLoadTimeout||5,imageLoadErrorAction:t.imageLoadErrorAction||"show",imageLink:t.imageLink,imageLinkTarget:t.imageLinkTarget||"_blank",animationType:t.animationType||"none",animationDuration:t.animationDuration||300,animationEasing:t.animationEasing||"ease-out",text:t.text,middleTextAlign:t.middleTextAlign,middleTextLineHeight:t.middleTextLineHeight,middleTextColor:t.middleTextColor,middleTextFontSize:t.middleTextFontSize,middleTextFontWeight:t.middleTextFontWeight,middleTextPadding:t.middleTextPadding,middleTextMargin:t.middleTextMargin,buttonText:t.buttonText,buttonAlign:t.buttonAlign,buttonColor:t.buttonColor,buttonTextColor:t.buttonTextColor,buttonFontSize:t.buttonFontSize,buttonFontWeight:t.buttonFontWeight,buttonPadding:t.buttonPadding,buttonMargin:t.buttonMargin,buttonBorderRadius:t.buttonBorderRadius,buttonBorderStyle:t.buttonBorderStyle,buttonBorderWidth:t.buttonBorderWidth,buttonBorderColor:t.buttonBorderColor,buttonLink:t.buttonLink,buttonLinkTarget:t.buttonLinkTarget||"_blank",underBtnText:t.underBtnText,underBtnTextAlign:t.underBtnTextAlign,underBtnTextLineHeight:t.underBtnTextLineHeight,underBtnTextColor:t.underBtnTextColor,underBtnTextFontSize:t.underBtnTextFontSize,underBtnTextFontWeight:t.underBtnTextFontWeight,underBtnTextPadding:t.underBtnTextPadding,underBtnTextMargin:t.underBtnTextMargin,onButtonClick:()=>{Ie.info("ボタンがクリックされました",t),t.onButtonClick&&t.onButtonClick(),Ze(t.ga4||{})},onImageClick:()=>{Ie.info("画像がクリックされました",t),t.onImageClick&&t.onImageClick(),Ze(t.ga4||{})},onClose:()=>{Ie.info("バナーを閉じました",t),function(t){if(t.shouldSetCookie&&t.popupCookieName){let e,n=t.bannerNonDisplaySpanHours;if("string"==typeof n&&(n=Number(n)),0===n)return void De.debug("bannerNonDisplaySpanHours is 0, not setting cookie.");"number"!=typeof n||isNaN(n)||(e=Math.floor(3600*n)),De.debug("bannerNonDisplaySpanHours:",t.bannerNonDisplaySpanHours,"maxAge:",e),function(t,e,n){let r=`${t}=${encodeURIComponent("closed")}; path=/;`;"number"==typeof n&&n>=0&&(r+=` max-age=${n};`),De.debug("set cookie:",r),document.cookie=r}(t.popupCookieName,0,e)}}(t),r&&"function"==typeof r.destroy&&r.destroy(),n.remove(),en=!1,rn(),t.onClose&&t.onClose()}}});Ie.info("バナーを表示しました",t),e=t.ga4||{},Ye({event:"view_promotion",...e})}catch(n){Ie.error("TryPopupBanner.show error",n),en=!1,rn()}var e}}function on(t){Ie.debug("show options:",t),nn.show(t)}!function(t){var e;const n=nn,r=null==(e=t.TryPopupBanner)?void 0:e.q;t.TryPopupBanner=n,r&&r.forEach(t=>{const e=t[0];"function"==typeof n[e]&&n[e](...t.slice(1))})}("undefined"!=typeof window?window:globalThis);const un={show:on};t.default=un,t.show=on,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
