!function(){"use strict";try{if("undefined"!=typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode(".popup-container.svelte-filn8i{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;pointer-events:none;z-index:10000;padding:40px;box-sizing:border-box}.popup-container.position-center.svelte-filn8i{justify-content:center;align-items:center}.popup-container.position-top.svelte-filn8i{justify-content:center;align-items:flex-start}.popup-container.position-top-left.svelte-filn8i{justify-content:flex-start;align-items:flex-start}.popup-container.position-top-right.svelte-filn8i{justify-content:flex-end;align-items:flex-start}.popup-container.position-bottom.svelte-filn8i{justify-content:center;align-items:flex-end}.popup-container.position-middle-left.svelte-filn8i{justify-content:flex-start;align-items:center}.popup-container.position-middle-right.svelte-filn8i{justify-content:flex-end;align-items:center}.popup-container.position-bottom-left.svelte-filn8i{justify-content:flex-start;align-items:flex-end}.popup-container.position-bottom-right.svelte-filn8i{justify-content:flex-end;align-items:flex-end}.popup-container.svelte-filn8i:not([class*=position-]){justify-content:center;align-items:flex-start}.popup-banner.svelte-filn8i{border-radius:8px;box-shadow:0 2px 8px #00000026;padding:40px 0 20px;max-width:400px;width:90%;box-sizing:border-box;background:#fff;pointer-events:auto;position:relative;overflow:hidden}@media (max-width: 600px){.popup-container.svelte-filn8i{padding:8px}.popup-banner.svelte-filn8i{max-width:100%;width:100%;padding:8px}}.close-btn.svelte-filn8i{position:absolute;top:8px;right:8px;background:transparent;border:none;font-size:20px;cursor:pointer}.banner-image.svelte-filn8i{display:block;max-width:100%;margin:0 auto}.banner-image.clickable.svelte-filn8i{cursor:pointer}.banner-image.clickable.svelte-filn8i:hover{opacity:.8;transition:opacity .2s ease}.banner-text.svelte-filn8i{margin:16px;font-size:1.1em;text-align:center}.banner-btn.svelte-filn8i{display:block;margin:0 auto;padding:8px 24px;font-size:1em;border-radius:4px;border:none;background:#0070f3;color:#fff;cursor:pointer}.banner-btn.clickable.svelte-filn8i:hover{opacity:.8;transition:opacity .2s ease}.under-btn-text.svelte-filn8i{margin:8px 16px;font-size:.9em;text-align:center}.dim-bg.svelte-filn8i{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:9999}.popup-banner.svelte-filn8i{--animation-duration: .3s;--animation-easing: ease-out}.popup-banner.animate-fade-in-up.svelte-filn8i{animation:svelte-filn8i-fadeInUp var(--animation-duration) var(--animation-easing) forwards}.popup-banner.animate-fade-in-down.svelte-filn8i{animation:svelte-filn8i-fadeInDown var(--animation-duration) var(--animation-easing) forwards}.popup-banner.animate-fade-in.svelte-filn8i{animation:svelte-filn8i-fadeIn var(--animation-duration) var(--animation-easing) forwards}.popup-banner.animate-scale-in.svelte-filn8i{animation:svelte-filn8i-scaleIn var(--animation-duration) var(--animation-easing) forwards}@keyframes svelte-filn8i-fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes svelte-filn8i-fadeInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes svelte-filn8i-fadeIn{0%{opacity:0}to{opacity:1}}@keyframes svelte-filn8i-scaleIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}")),document.head.appendChild(e)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}}();
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).PopupBanner={})}(this,function(t){"use strict";var n;"undefined"!=typeof window&&((n=window.__svelte??(window.__svelte={})).v??(n.v=new Set)).add("5");let e=!1;e=!0;const o=Symbol();var r=Array.isArray,i=Array.prototype.indexOf,u=Array.from,l=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyDescriptors,d=Object.prototype,f=Array.prototype,c=Object.getPrototypeOf,p=Object.isExtensible;function g(t){return t()}function v(t){for(var n=0;n<t.length;n++)t[n]()}const m=256,h=1024,b=2048,y=4096,x=8192,w=65536,B=1<<21,T=Symbol("$state"),$=Symbol("legacy props");function C(t){return t===this.v}function k(t){return n=t,e=this.v,!(n!=n?e==e:n!==e||null!==n&&"object"==typeof n||"function"==typeof n);var n,e}function _(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let P=null;function L(t){P=t}function S(t,n=!1,e){var o=P={p:P,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};!n&&(P.l={s:null,u:null,r1:[],r2:q(!1)}),rt(()=>{o.d=!0})}function M(t){const n=P;if(null!==n){void 0!==t&&(n.x=t);const u=n.e;if(null!==u){var e=Ft,o=Et;n.e=null;try{for(var r=0;r<u.length;r++){var i=u[r];Wt(i.effect),Nt(i.reaction),ut(i.fn)}}finally{Wt(e),Nt(o)}}P=n.p,n.m=!0}return t||{}}function E(){return null!==P&&null===P.l}function A(t){if("object"!=typeof t||null===t||T in t)return t;const n=c(t);if(n!==d&&n!==f)return t;var e=new Map,i=r(t),u=z(0),l=Et,s=t=>{var n=Et;Nt(l);var e=t();return Nt(n),e};return i&&e.set("length",z(t.length)),new Proxy(t,{defineProperty(t,n,o){"value"in o&&!1!==o.configurable&&!1!==o.enumerable&&!1!==o.writable||function(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}();var r=e.get(n);return void 0===r?r=s(()=>{var t=z(o.value);return e.set(n,t),t}):H(r,o.value,!0),!0},deleteProperty(t,n){var r=e.get(n);if(void 0===r){if(n in t){const t=s(()=>z(o));e.set(n,t),N(u)}}else{if(i&&"string"==typeof n){var l=e.get("length"),a=Number(n);Number.isInteger(a)&&a<l.v&&H(l,a)}H(r,o),N(u)}return!0},get(n,r,i){var u;if(r===T)return t;var l=e.get(r),d=r in n;if(void 0!==l||d&&!(null==(u=a(n,r))?void 0:u.writable)||(l=s(()=>z(A(d?n[r]:o))),e.set(r,l)),void 0!==l){var f=on(l);return f===o?void 0:f}return Reflect.get(n,r,i)},getOwnPropertyDescriptor(t,n){var r=Reflect.getOwnPropertyDescriptor(t,n);if(r&&"value"in r){var i=e.get(n);i&&(r.value=on(i))}else if(void 0===r){var u=e.get(n),l=null==u?void 0:u.v;if(void 0!==u&&l!==o)return{enumerable:!0,configurable:!0,value:l,writable:!0}}return r},has(t,n){var r;if(n===T)return!0;var i=e.get(n),u=void 0!==i&&i.v!==o||Reflect.has(t,n);return!((void 0!==i||null!==Ft&&(!u||(null==(r=a(t,n))?void 0:r.writable)))&&(void 0===i&&(i=s(()=>z(u?A(t[n]):o)),e.set(n,i)),on(i)===o))&&u},set(t,n,r,l){var d,f=e.get(n),c=n in t;if(i&&"length"===n)for(var p=r;p<f.v;p+=1){var g=e.get(p+"");void 0!==g?H(g,o):p in t&&(g=s(()=>z(o)),e.set(p+"",g))}void 0===f?c&&!(null==(d=a(t,n))?void 0:d.writable)||(H(f=s(()=>z(void 0)),A(r)),e.set(n,f)):(c=f.v!==o,H(f,s(()=>A(r))));var v=Reflect.getOwnPropertyDescriptor(t,n);if((null==v?void 0:v.set)&&v.set.call(l,r),!c){if(i&&"string"==typeof n){var m=e.get("length"),h=Number(n);Number.isInteger(h)&&h>=m.v&&H(m,h+1)}N(u)}return!0},ownKeys(t){on(u);var n=Reflect.ownKeys(t).filter(t=>{var n=e.get(t);return void 0===n||n.v!==o});for(var[r,i]of e)i.v===o||r in t||n.push(r);return n},setPrototypeOf(){!function(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}()}})}function N(t,n=1){H(t,t.v+n)}function F(t){var n=2050,e=null!==Et&&2&Et.f?Et:null;return null===Ft||null!==e&&0!==(e.f&m)?n|=m:Ft.f|=1048576,{ctx:P,deps:null,effects:null,equals:C,f:n,fn:t,reactions:null,rv:0,v:null,wv:0,parent:e??Ft}}function W(t){const n=F(t);return n.equals=k,n}function R(t){var n=t.effects;if(null!==n){t.effects=null;for(var e=0;e<n.length;e+=1)gt(n[e])}}function I(t){var n,e=Ft;Wt(function(t){for(var n=t.parent;null!==n;){if(!(2&n.f))return n;n=n.parent}return null}(t));try{R(t),n=Kt(t)}finally{Wt(e)}return n}function D(t){var n=I(t);t.equals(n)||(t.v=n,t.wv=Ht()),Lt||ln(t,!jt&&0===(t.f&m)||null===t.deps?h:y)}const O=new Map;function q(t,n){return{f:0,v:t,reactions:null,equals:C,rv:0,wv:0}}function z(t,n){const e=q(t);var o;return o=e,null!==Et&&Et.f&B&&(null===Rt?Rt=[Et,[o]]:Rt[1].push(o)),e}function j(t,n=!1,e=!0){var o;const r=q(t);return n||(r.equals=k),e&&null!==P&&null!==P.l&&((o=P.l).s??(o.s=[])).push(r),r}function H(t,n,e=!1){return null!==Et&&!At&&E()&&18&Et.f&&(!(null==Rt?void 0:Rt[1].includes(t))||Rt[0]!==Et)&&function(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}(),function(t,n){if(!t.equals(n)){var e=t.v;Lt?O.set(t,n):O.set(t,e),t.v=n,2&t.f&&(0!==(t.f&b)&&I(t),ln(t,0===(t.f&m)?h:y)),t.wv=Ht(),U(t,b),!E()||null===Ft||0===(Ft.f&h)||96&Ft.f||(null===Ot?function(t){Ot=t}([t]):Ot.push(t))}return n}(t,e?A(n):n)}function U(t,n){var e=t.reactions;if(null!==e)for(var o=E(),r=e.length,i=0;i<r;i++){var u=e[i],l=u.f;0===(l&b)&&(o||u!==Ft)&&(ln(u,n),1280&l&&(2&l?U(u,y):tn(u)))}}var G,K,V,J;function Q(t=""){return document.createTextNode(t)}function X(t){return V.call(t)}function Y(t){return J.call(t)}function Z(t,n){return X(t)}function tt(t,n){var e=X(t);return e instanceof Comment&&""===e.data?Y(e):e}function nt(t,n=1,e=!1){let o=t;for(;n--;)o=Y(o);return o}function et(t){null===Ft&&null===Et&&function(){throw new Error("https://svelte.dev/e/effect_orphan")}(),null!==Et&&0!==(Et.f&m)&&null===Ft&&function(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}(),Lt&&function(){throw new Error("https://svelte.dev/e/effect_in_teardown")}()}function ot(t,n,e,o=!0){var r=Ft,i={ctx:P,deps:null,nodes_start:null,nodes_end:null,f:t|b,first:null,fn:n,last:null,next:null,parent:r,prev:null,teardown:null,transitions:null,wv:0};if(e)try{Qt(i),i.f|=32768}catch(l){throw gt(i),l}else null!==n&&tn(i);if((!e||null!==i.deps||null!==i.first||null!==i.nodes_start||null!==i.teardown||1048704&i.f)&&o&&(null!==r&&function(t,n){var e=n.last;null===e?n.last=n.first=t:(e.next=t,t.prev=e,n.last=t)}(i,r),null!==Et&&2&Et.f)){var u=Et;(u.effects??(u.effects=[])).push(i)}return i}function rt(t){const n=ot(8,null,!1);return ln(n,h),n.teardown=t,n}function it(t){if(et(),!(null!==Ft&&32&Ft.f&&null!==P)||P.m)return ut(t);var n=P;(n.e??(n.e=[])).push({fn:t,effect:Ft,reaction:Et})}function ut(t){return ot(4,t,!1)}function lt(t,n){var e=P,o={effect:null,ran:!1};e.l.r1.push(o),o.effect=at(()=>{t(),o.ran||(o.ran=!0,H(e.l.r2,!0),rn(n))})}function at(t){return ot(8,t,!0)}function st(t,n=[],e=F){const o=n.map(e);return dt(()=>t(...o.map(on)))}function dt(t,n=0){return ot(24|n,t,!0)}function ft(t,n=!0){return ot(40,t,!0,n)}function ct(t){var n=t.teardown;if(null!==n){const t=Lt,e=Et;St(!0),Nt(null);try{n.call(null)}finally{St(t),Nt(e)}}}function pt(t,n=!1){var e=t.first;for(t.first=t.last=null;null!==e;){var o=e.next;64&e.f?e.parent=null:gt(e,n),e=o}}function gt(t,n=!0){var e=!1;(n||524288&t.f)&&null!==t.nodes_start&&null!==t.nodes_end&&(function(t,n){for(;null!==t;){var e=t===n?null:Y(t);t.remove(),t=e}}(t.nodes_start,t.nodes_end),e=!0),pt(t,n&&!e),Jt(t,0),ln(t,16384);var o=t.transitions;if(null!==o)for(const i of o)i.stop();ct(t);var r=t.parent;null!==r&&null!==r.first&&vt(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function vt(t){var n=t.parent,e=t.prev,o=t.next;null!==e&&(e.next=o),null!==o&&(o.prev=e),null!==n&&(n.first===t&&(n.first=o),n.last===t&&(n.last=e))}function mt(t,n){var e=[];ht(t,e,!0),function(t,n){var e=t.length;if(e>0){var o=()=>--e||n();for(var r of t)r.out(o)}else n()}(e,()=>{gt(t),n&&n()})}function ht(t,n,e){if(0===(t.f&x)){if(t.f^=x,null!==t.transitions)for(const o of t.transitions)(o.is_global||e)&&n.push(o);for(var o=t.first;null!==o;){var r=o.next;ht(o,n,!!(0!==(o.f&w)||32&o.f)&&e),o=r}}}function bt(t){yt(t,!0)}function yt(t,n){if(0!==(t.f&x)){t.f^=x;for(var e=t.first;null!==e;){var o=e.next;yt(e,!!(0!==(e.f&w)||32&e.f)&&n),e=o}if(null!==t.transitions)for(const e of t.transitions)(e.is_global||n)&&e.in()}}let xt=[],wt=[];function Bt(){var t=xt;xt=[],v(t)}function Tt(t){0===xt.length&&queueMicrotask(Bt),xt.push(t)}function $t(){var t;xt.length>0&&Bt(),wt.length>0&&(t=wt,wt=[],v(t))}function Ct(t,n){for(;null!==n;){if(128&n.f)try{return void n.fn(t)}catch{}n=n.parent}throw t}let kt=!1,_t=null,Pt=!1,Lt=!1;function St(t){Lt=t}let Mt=[],Et=null,At=!1;function Nt(t){Et=t}let Ft=null;function Wt(t){Ft=t}let Rt=null,It=null,Dt=0,Ot=null,qt=1,zt=0,jt=!1;function Ht(){return++qt}function Ut(t){var n,e=t.f;if(0!==(e&b))return!0;if(0!==(e&y)){var o=t.deps,r=0!==(e&m);if(null!==o){var i,u,l=!!(512&e),a=r&&null!==Ft&&!jt,s=o.length;if(l||a){var d=t,f=d.parent;for(i=0;i<s;i++)u=o[i],!l&&(null==(n=null==u?void 0:u.reactions)?void 0:n.includes(d))||(u.reactions??(u.reactions=[])).push(d);l&&(d.f^=512),a&&null!==f&&0===(f.f&m)&&(d.f^=m)}for(i=0;i<s;i++)if(Ut(u=o[i])&&D(u),u.wv>t.wv)return!0}r&&(null===Ft||jt)||ln(t,h)}return!1}function Gt(t,n,e=!0){var o=t.reactions;if(null!==o)for(var r=0;r<o.length;r++){var i=o[r];(null==Rt?void 0:Rt[1].includes(t))&&Rt[0]===Et||(2&i.f?Gt(i,n,!1):n===i&&(e?ln(i,b):0!==(i.f&h)&&ln(i,y),tn(i)))}}function Kt(t){var n,e=It,o=Dt,r=Ot,i=Et,u=jt,l=Rt,a=P,s=At,d=t.f;It=null,Dt=0,Ot=null,jt=0!==(d&m)&&(At||!Pt||null===Et),Et=96&d?null:t,Rt=null,L(t.ctx),At=!1,zt++,t.f|=B;try{var f=(0,t.fn)(),c=t.deps;if(null!==It){var p;if(Jt(t,Dt),null!==c&&Dt>0)for(c.length=Dt+It.length,p=0;p<It.length;p++)c[Dt+p]=It[p];else t.deps=c=It;if(!jt)for(p=Dt;p<c.length;p++)((n=c[p]).reactions??(n.reactions=[])).push(t)}else null!==c&&Dt<c.length&&(Jt(t,Dt),c.length=Dt);if(E()&&null!==Ot&&!At&&null!==c&&!(6146&t.f))for(p=0;p<Ot.length;p++)Gt(Ot[p],t);return null!==i&&i!==t&&(zt++,null!==Ot&&(null===r?r=Ot:r.push(...Ot))),f}catch(g){!function(t){var n=Ft;if(32768&n.f)Ct(t,n);else{if(!(128&n.f))throw t;n.fn(t)}}(g)}finally{It=e,Dt=o,Ot=r,Et=i,jt=u,Rt=l,L(a),At=s,t.f^=B}}function Vt(t,n){let e=n.reactions;if(null!==e){var o=i.call(e,t);if(-1!==o){var r=e.length-1;0===r?e=n.reactions=null:(e[o]=e[r],e.pop())}}null===e&&2&n.f&&(null===It||!It.includes(n))&&(ln(n,y),768&n.f||(n.f^=512),R(n),Jt(n,0))}function Jt(t,n){var e=t.deps;if(null!==e)for(var o=n;o<e.length;o++)Vt(t,e[o])}function Qt(t){var n=t.f;if(!(16384&n)){ln(t,h);var e=Ft,o=Pt;Ft=t,Pt=!0;try{16&n?function(t){for(var n=t.first;null!==n;){var e=n.next;!(32&n.f)&&gt(n),n=e}}(t):pt(t),ct(t);var r=Kt(t);t.teardown="function"==typeof r?r:null,t.wv=qt}finally{Pt=o,Ft=e}}}function Xt(){try{!function(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}()}catch(t){if(null===_t)throw t;Ct(t,_t)}}function Yt(){var t=Pt;try{var n=0;for(Pt=!0;Mt.length>0;){n++>1e3&&Xt();var e=Mt,o=e.length;Mt=[];for(var r=0;r<o;r++)Zt(nn(e[r]));O.clear()}}finally{kt=!1,Pt=t,_t=null}}function Zt(t){var n=t.length;if(0!==n)for(var e=0;e<n;e++){var o=t[e];24576&o.f||Ut(o)&&(Qt(o),null===o.deps&&null===o.first&&null===o.nodes_start&&(null===o.teardown?vt(o):o.fn=null))}}function tn(t){kt||(kt=!0,queueMicrotask(Yt));for(var n=_t=t;null!==n.parent;){var e=(n=n.parent).f;if(96&e){if(0===(e&h))return;n.f^=h}}Mt.push(n)}function nn(t){for(var n=[],e=t;null!==e;){var o=e.f,r=!!(96&o);if((!r||0===(o&h))&&0===(o&x)){4&o?n.push(e):r?e.f^=h:Ut(e)&&Qt(e);var i=e.first;if(null!==i){e=i;continue}}var u=e.parent;for(e=e.next;null===e&&null!==u;)e=u.next,u=u.parent}return n}function en(t){for(;;){if($t(),0===Mt.length)return kt=!1,void(_t=null);kt=!0,Yt()}}function on(t){var n=!!(2&t.f);if(null===Et||At){if(n&&null===t.deps&&null===t.effects){var e=t,o=e.parent;null!==o&&0===(o.f&m)&&(e.f^=m)}}else if(!(null==Rt?void 0:Rt[1].includes(t))||Rt[0]!==Et){var r=Et.deps;t.rv<zt&&(t.rv=zt,null===It&&null!==r&&r[Dt]===t?Dt++:null===It?It=[t]:jt&&It.includes(t)||It.push(t))}return n&&Ut(e=t)&&D(e),Lt&&O.has(t)?O.get(t):t.v}function rn(t){var n=At;try{return At=!0,t()}finally{At=n}}const un=-7169;function ln(t,n){t.f=t.f&un|n}function an(t){if("object"==typeof t&&t&&!(t instanceof EventTarget))if(T in t)sn(t);else if(!Array.isArray(t))for(let n in t){const e=t[n];"object"==typeof e&&e&&T in e&&sn(e)}}function sn(t,n=new Set){if(!("object"!=typeof t||null===t||t instanceof EventTarget||n.has(t))){n.add(t),t instanceof Date&&t.getTime();for(let r in t)try{sn(t[r],n)}catch(e){}const o=c(t);if(o!==Object.prototype&&o!==Array.prototype&&o!==Map.prototype&&o!==Set.prototype&&o!==Date.prototype){const n=s(o);for(let o in n){const r=n[o].get;if(r)try{r.call(t)}catch(e){}}}}}const dn=new Set,fn=new Set;function cn(t,n,e,o,r){var i={capture:o,passive:r},u=function(t,n,e,o={}){function r(t){if(o.capture||pn.call(n,t),!t.cancelBubble)return function(t){var n=Et,e=Ft;Nt(null),Wt(null);try{return t()}finally{Nt(n),Wt(e)}}(()=>null==e?void 0:e.call(this,t))}return t.startsWith("pointer")||t.startsWith("touch")||"wheel"===t?Tt(()=>{n.addEventListener(t,r,o)}):n.addEventListener(t,r,o),r}(t,n,e,i);(n===document.body||n===window||n===document||n instanceof HTMLMediaElement)&&rt(()=>{n.removeEventListener(t,u,i)})}function pn(t){var n,e=this,o=e.ownerDocument,i=t.type,u=(null==(n=t.composedPath)?void 0:n.call(t))||[],a=u[0]||t.target,s=0,d=t.__root;if(d){var f=u.indexOf(d);if(-1!==f&&(e===document||e===window))return void(t.__root=e);var c=u.indexOf(e);if(-1===c)return;f<=c&&(s=f)}if((a=u[s]||t.target)!==e){l(t,"currentTarget",{configurable:!0,get:()=>a||o});var p=Et,g=Ft;Nt(null),Wt(null);try{for(var v,m=[];null!==a;){var h=a.assignedSlot||a.parentNode||a.host||null;try{var b=a["__"+i];if(null!=b&&(!a.disabled||t.target===a))if(r(b)){var[y,...x]=b;y.apply(a,[t,...x])}else b.call(a,t)}catch(w){v?m.push(w):v=w}if(t.cancelBubble||h===e||null===h)break;a=h}if(v){for(let t of m)queueMicrotask(()=>{throw t});throw v}}finally{t.__root=e,delete t.currentTarget,Nt(p),Wt(g)}}}function gn(t,n){var e=Ft;null===e.nodes_start&&(e.nodes_start=t,e.nodes_end=n)}function vn(t,n){var e,o=!!(1&n),r=!!(2&n),i=!t.startsWith("<!>");return()=>{var n,u;void 0===e&&(n=i?t:"<!>"+t,(u=document.createElement("template")).innerHTML=n.replaceAll("<!>","\x3c!----\x3e"),e=u.content,o||(e=X(e)));var l=r||K?document.importNode(e,!0):e.cloneNode(!0);return o?gn(X(l),l.lastChild):gn(l,l),l}}function mn(t,n){null!==t&&t.before(n)}const hn=["touchstart","touchmove"];function bn(t){return hn.includes(t)}function yn(t,n){var e=null==n?"":"object"==typeof n?n+"":n;e!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=e,t.nodeValue=e+"")}function xn(t,n){return function(t,{target:n,anchor:e,props:o={},events:r,context:i,intro:l=!0}){!function(){if(void 0===G){G=window,K=/Firefox/.test(navigator.userAgent);var t=Element.prototype,n=Node.prototype,e=Text.prototype;V=a(n,"firstChild").get,J=a(n,"nextSibling").get,p(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),p(e)&&(e.__t=void 0)}}();var s=new Set,d=t=>{for(var e=0;e<t.length;e++){var o=t[e];if(!s.has(o)){s.add(o);var r=bn(o);n.addEventListener(o,pn,{passive:r});var i=wn.get(o);void 0===i?(document.addEventListener(o,pn,{passive:r}),wn.set(o,1)):wn.set(o,i+1)}}};d(u(dn)),fn.add(d);var f=void 0,c=function(){const u=ot(64,()=>{var u=e??n.appendChild(Q());return ft(()=>{i&&(S({}),P.c=i),r&&(o.$$events=r),f=t(u,o)||{},i&&M()}),()=>{var t;for(var o of s){n.removeEventListener(o,pn);var r=wn.get(o);0===--r?(document.removeEventListener(o,pn),wn.delete(o)):wn.set(o,r)}fn.delete(d),u!==e&&(null==(t=u.parentNode)||t.removeChild(u))}},!0);return(t={})=>new Promise(n=>{t.outro?mt(u,()=>{gt(u),n(void 0)}):(gt(u),n(void 0))})}();return Bn.set(f,c),f}(t,n)}const wn=new Map;let Bn=new WeakMap;function Tn(t,n,[e,r]=[0,0]){var i=t,u=null,l=null,a=o,s=!1;const d=(t,n=!0)=>{s=!0,f(n,t)},f=(t,n)=>{a!==(a=t)&&(a?(u?bt(u):n&&(u=ft(()=>n(i))),l&&mt(l,()=>{l=null})):(l?bt(l):n&&(l=ft(()=>n(i,[e+1,r]))),u&&mt(u,()=>{u=null})))};dt(()=>{s=!1,n(d),s||f(null,null)},e>0?w:0)}function $n(t,n,e,o,r,i){var u=t.__className;if(u!==e||void 0===u){var l=function(t,n){var e=null==t?"":""+t;return""===(e=e?e+" "+n:n)?null:e}(e,o);null==l?t.removeAttribute("class"):t.className=l,t.__className=e}return i}function Cn(t,n,e,o){if(t.__style!==n){var r=function(t){return null==t?null:String(t)}(n);null==r?t.removeAttribute("style"):t.style.cssText=r,t.__style=n}return o}const kn=Symbol("is custom element"),_n=Symbol("is html");function Pn(t,n,e,o){var r=function(t){return t.__attributes??(t.__attributes={[kn]:t.nodeName.includes("-"),[_n]:"http://www.w3.org/1999/xhtml"===t.namespaceURI})}(t);r[n]!==(r[n]=e)&&(null==e?t.removeAttribute(n):"string"!=typeof e&&function(t){var n,e=Ln.get(t.nodeName);if(e)return e;Ln.set(t.nodeName,e=[]);for(var o=t,r=Element.prototype;r!==o;){for(var i in n=s(o))n[i].set&&e.push(i);o=c(o)}return e}(t).includes(n)?t[n]=e:t.setAttribute(n,e))}var Ln=new Map;function Sn(t,n){return t===n||(null==t?void 0:t[T])===n}function Mn(t,n){if(t.l.s)for(const e of t.l.s)on(e);n()}let En=!1;function An(t){var n;return(null==(n=t.ctx)?void 0:n.d)??!1}function Nn(t,n,e,o){var r,i,u=!!(2&e),l=!!(8&e),s=!1;[i,s]=function(){var e=En;try{return En=!1,[t[n],En]}finally{En=e}}();var d,f=T in t||$ in t,c=((null==(r=a(t,n))?void 0:r.set)??(f&&n in t&&(e=>t[n]=e)))||void 0,p=o,g=!0,v=!1,m=()=>(v=!0,g&&(g=!1,p=o),p);if(void 0===i&&void 0!==o&&(c&&u&&function(){throw new Error("https://svelte.dev/e/props_invalid_value")}(),i=m(),c&&c(i)),u)d=()=>{var e=t[n];return void 0===e?m():(g=!0,v=!1,e)};else{var h=W(()=>t[n]);h.f|=131072,d=()=>{var t=on(h);return void 0!==t&&(p=void 0),void 0===t?p:t}}if(c){var b=t.$$legacy;return function(t,n){return arguments.length>0?(u&&n&&!b&&!s||c(n?d():t),t):d()}}var y=!1,x=j(i),w=F(()=>{var t=d(),n=on(x);return y?(y=!1,n):x.v=t});return on(w),w.equals=k,function(t,n){if(arguments.length>0){const e=n?on(w):u&&l?A(t):t;if(!w.equals(e)){if(y=!0,H(x,e),v&&void 0!==p&&(p=e),An(w))return t;rn(()=>on(w))}return t}return An(w)?w.v:on(w)}}class Fn{constructor(t){this.config=t}shouldLog(t){if(!this.config.enabled)return!1;const n=["debug","info","warn","error"],e=n.indexOf(this.config.level);return n.indexOf(t)>=e}debug(t,...n){this.shouldLog("debug")}info(t,...n){this.shouldLog("info")}warn(t,...n){this.shouldLog("warn")}error(t,...n){this.shouldLog("error")}}const Wn=(t="")=>{const n="undefined"!=typeof window&&"on"===new URLSearchParams(window.location.search).get("popupBannerDebug");return new Fn({enabled:n,level:n?"debug":"error",prefix:t})},Rn=Wn("[PopupBanner:Image] "),In=Wn("[PopupBanner:Animation] "),Dn=Wn("[PopupBanner:Controller] "),On=Wn("[PopupBanner:Trigger] "),qn=Wn("[PopupBanner:Cookie] "),zn=Wn("[PopupBanner:GA4] ");var jn=vn('<img alt="バナー画像" style="display: none;" class="svelte-filn8i"/>'),Hn=vn('<div class="dim-bg svelte-filn8i" role="button" tabindex="0"></div>'),Un=vn('<img class="banner-image clickable svelte-filn8i" alt="バナー画像" role="button" tabindex="0"/>'),Gn=vn('<img class="banner-image svelte-filn8i" alt="バナー画像"/>'),Kn=vn('<div class="banner-text svelte-filn8i"> </div>'),Vn=vn("<button> </button>"),Jn=vn('<div class="under-btn-text svelte-filn8i"> </div>'),Qn=vn('<!> <div><div><button class="close-btn svelte-filn8i">×</button> <!> <!> <!> <!></div></div>',1),Xn=vn("<!> <!>",1);function Yn(t,n){S(n,!1);const e=j(),o=j(),i=j(),u=j(),l=j(),a=j(),s=j(),d=function(){const t=P;return null===t&&_(),(n,e,o)=>{var i;const u=null==(i=t.s.$$events)?void 0:i[n];if(u){const i=r(u)?u.slice():[u],l=function(t,n,{bubbles:e=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:n,bubbles:e,cancelable:o})}(n,e,o);for(const n of i)n.call(t.x,l);return!l.defaultPrevented}return!0}}();let f=Nn(n,"popupId",12,"sample"),c=Nn(n,"popupName",12,"サンプルバナー"),p=Nn(n,"popupPosition",12,"center"),m=Nn(n,"popupWidth",12,""),b=Nn(n,"popupBackgroundColor",12,""),x=Nn(n,"popupPadding",12,""),w=Nn(n,"popupMargin",12,""),B=Nn(n,"popupBorderRadius",12,""),T=Nn(n,"popupBoxShadow",12,""),$=Nn(n,"popupBorderWidth",12,""),C=Nn(n,"popupBorderColor",12,""),k=Nn(n,"popupBorderStyle",12,""),L=Nn(n,"dimBackground",12,!0),E=Nn(n,"closeButtonColor",12,""),A=Nn(n,"closeButtonBackgroundColor",12,""),N=Nn(n,"closeButtonTop",12,""),W=Nn(n,"closeButtonRight",12,""),R=Nn(n,"imageUrl",12,null),I=Nn(n,"imagePadding",12,""),D=Nn(n,"imageMargin",12,""),O=Nn(n,"imageBorderRadius",12,""),q=Nn(n,"imageLoadTimeout",12,5),z=Nn(n,"imageLoadErrorAction",12,"show"),U=Nn(n,"imageLink",12,""),G=Nn(n,"imageLinkTarget",12,"_blank"),K=Nn(n,"onImageClick",12,()=>{}),V=Nn(n,"animationType",12,"none"),J=Nn(n,"animationDuration",12,300),X=Nn(n,"animationEasing",12,"ease-out"),Y=Nn(n,"text",12,""),ot=Nn(n,"middleTextAlign",12,""),rt=Nn(n,"middleTextLineHeight",12,""),dt=Nn(n,"middleTextColor",12,""),ft=Nn(n,"middleTextFontSize",12,""),ct=Nn(n,"middleTextFontWeight",12,""),pt=Nn(n,"middleTextPadding",12,""),gt=Nn(n,"middleTextMargin",12,""),vt=Nn(n,"buttonText",12,""),mt=Nn(n,"buttonAlign",12,""),ht=Nn(n,"buttonColor",12,""),bt=Nn(n,"buttonTextColor",12,""),yt=Nn(n,"buttonFontSize",12,""),xt=Nn(n,"buttonFontWeight",12,""),wt=Nn(n,"buttonPadding",12,""),Bt=Nn(n,"buttonMargin",12,""),$t=Nn(n,"buttonBorderRadius",12,""),Ct=Nn(n,"buttonBorderStyle",12,""),kt=Nn(n,"buttonBorderWidth",12,""),_t=Nn(n,"buttonBorderColor",12,""),Pt=Nn(n,"buttonLink",12,""),Lt=Nn(n,"buttonLinkTarget",12,"_blank"),St=Nn(n,"underBtnText",12,""),Mt=Nn(n,"underBtnTextAlign",12,""),Et=Nn(n,"underBtnTextLineHeight",12,""),At=Nn(n,"underBtnTextColor",12,""),Nt=Nn(n,"underBtnTextFontSize",12,""),Ft=Nn(n,"underBtnTextFontWeight",12,""),Wt=Nn(n,"underBtnTextPadding",12,""),Rt=Nn(n,"underBtnTextMargin",12,""),It=Nn(n,"onButtonClick",12,()=>{}),Dt=Nn(n,"onClose",12,()=>{}),Ot=j(!1),qt=j(!1),zt=j(!1),jt=j(!0),Ht=j(),Gt=j(!1),Kt=j("");function Vt(){Rn.info("画像読み込み完了:",R()),H(Ot,!0),H(zt,!0)}function Jt(){Rn.warn("画像読み込みエラー:",R()),H(qt,!0),"show"===z()?(H(jt,!1),H(zt,!0)):(Dt()(),d("close"))}function Xt(){if(R())return Rn.debug(`画像読み込み開始（タイムアウト: ${q()}秒）:`,R()),setTimeout(()=>{on(Ot)||on(qt)||(Rn.warn("画像読み込みタイムアウト:",R()),Jt())},1e3*q())}function Yt(){on(Gt)||(Rn.info("画像がクリックされました",{imageUrl:R(),imageLink:U()}),K()&&K()(),U()&&window.open(U(),G()))}function Zt(){on(Gt)||(It()&&It()(),Pt()&&window.open(Pt(),Lt()))}function tn(){(!R()||on(Ot)||on(qt))&&(on(qt)&&"hide"===z()?Rn.info("画像読み込みエラーのためバナーを表示しません"):(on(qt)&&H(jt,!1),H(zt,!0)))}let nn=j();function un(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),Dt()(),d("close")),"Escape"===t.key&&(Dt()(),d("close"))}var sn,dn,fn;sn=()=>{R()?Xt():tn()},null===P&&_(),null!==P.l?(dn=P,fn=dn.l,fn.u??(fn.u={a:[],b:[],m:[]})).m.push(sn):it(()=>{const t=rn(sn);if("function"==typeof t)return t}),lt(()=>(an(f()),an(c())),()=>{f()&&c()}),lt(()=>(an(R()),on(Ot),on(qt)),()=>{!R()||on(Ot)||on(qt)||H(nn,Xt())}),lt(()=>(an(b()),an(m()),an(x()),an(w()),an(B()),an(T()),an($()),an(C()),an(k())),()=>{H(e,`\n    ${b()?`background:${b()};`:""}\n    ${m()?`max-width:${m()};`:""}\n    ${x()?`padding:${x()};`:""}\n    ${w()?`margin:${w()};`:""}\n    ${B()?`border-radius:${B()};`:""}\n    ${T()?`box-shadow:${T()};`:""}\n    ${$()?`border-width:${$()};`:""}\n    ${C()?`border-color:${C()};`:""}\n    ${k()?`border-style:${k()};`:""}\n  `)}),lt(()=>an(p()),()=>{H(o,"bottom"===p()?"position-bottom":"top"===p()?"position-top":"center"===p()?"position-center":"top-left"===p()?"position-top-left":"top-right"===p()?"position-top-right":"middle-left"===p()?"position-middle-left":"middle-right"===p()?"position-middle-right":"bottom-left"===p()?"position-bottom-left":"bottom-right"===p()?"position-bottom-right":"")}),lt(()=>(an(E()),an(A()),an(N()),an(W())),()=>{H(i,`\n    ${E()?`color:${E()};`:""}\n    ${A()?`background:${A()};`:""}\n    ${N()?`top:${N()};`:""}\n    ${W()?`right:${W()};`:""}\n  `)}),lt(()=>(an(I()),an(D()),an(O())),()=>{H(u,`\n    ${I()?`padding:${I()};`:""}\n    ${D()?`margin:${D()};`:""}\n    ${O()?`border-radius:${O()};`:""}\n  `)}),lt(()=>(an(dt()),an(ot()),an(rt()),an(ft()),an(ct()),an(pt()),an(gt())),()=>{H(l,`\n    ${dt()?`color:${dt()};`:""}\n    ${ot()?`text-align:${ot()};`:""}\n    ${rt()?`line-height:${rt()};`:""}\n    ${ft()?`font-size:${ft()};`:""}\n    ${ct()?`font-weight:${ct()};`:""}\n    ${pt()?`padding:${pt()};`:""}\n    ${gt()?`margin:${gt()};`:""}\n  `)}),lt(()=>(an(ht()),an(bt()),an(yt()),an(xt()),an(wt()),an(Bt()),an($t()),an(Ct()),an(kt()),an(_t()),an(mt())),()=>{H(a,`\n    ${ht()?`background:${ht()};`:""}\n    ${bt()?`color:${bt()};`:""}\n    ${yt()?`font-size:${yt()};`:""}\n    ${xt()?`font-weight:${xt()};`:""}\n    ${wt()?`padding:${wt()};`:""}\n    ${Bt()?`margin:${Bt()};`:""}\n    ${$t()?`border-radius:${$t()};`:""}\n    ${Ct()?`border-style:${Ct()};`:""}\n    ${kt()?`border-width:${kt()};`:""}\n    ${_t()?`border-color:${_t()};`:""}\n    ${mt()?`display:block;margin-left:auto;margin-right:auto;text-align:${mt()};`:""}\n  `)}),lt(()=>(an(At()),an(Mt()),an(Et()),an(Nt()),an(Ft()),an(Wt()),an(Rt())),()=>{H(s,`\n    ${At()?`color:${At()};`:""}\n    ${Mt()?`text-align:${Mt()};`:""}\n    ${Et()?`line-height:${Et()};`:""}\n    ${Nt()?`font-size:${Nt()};`:""}\n    ${Ft()?`font-weight:${Ft()};`:""}\n    ${Wt()?`padding:${Wt()};`:""}\n    ${Rt()?`margin:${Rt()};`:""}\n  `)}),lt(()=>(an(R()),on(Ot),on(qt)),()=>{R()&&(on(Ot)||on(qt))&&tn()}),lt(()=>(on(zt),on(Ht),an(V())),()=>{on(zt)&&on(Ht)&&requestAnimationFrame(()=>{"none"!==V()&&function(){if("fade-in-up"===V()){In.debug("fade-in-upアニメーション初期化"),on(Ht)&&(on(Ht).style.setProperty("--animation-duration",`${J()}ms`),on(Ht).style.setProperty("--animation-easing",X())),H(Kt,"animate-fade-in-up"),H(Gt,!0);const t=()=>{H(Gt,!1),In.debug("アニメーション完了"),on(Ht)&&on(Ht).removeEventListener("animationend",t)};on(Ht)&&on(Ht).addEventListener("animationend",t)}else if("fade-in-down"===V()){In.debug("fade-in-downアニメーション初期化"),on(Ht)&&(on(Ht).style.setProperty("--animation-duration",`${J()}ms`),on(Ht).style.setProperty("--animation-easing",X())),H(Kt,"animate-fade-in-down"),H(Gt,!0);const t=()=>{H(Gt,!1),In.debug("アニメーション完了"),on(Ht)&&on(Ht).removeEventListener("animationend",t)};on(Ht)&&on(Ht).addEventListener("animationend",t)}else if("fade-in"===V()){In.debug("fade-inアニメーション初期化"),on(Ht)&&(on(Ht).style.setProperty("--animation-duration",`${J()}ms`),on(Ht).style.setProperty("--animation-easing",X())),H(Kt,"animate-fade-in"),H(Gt,!0);const t=()=>{H(Gt,!1),In.debug("アニメーション完了"),on(Ht)&&on(Ht).removeEventListener("animationend",t)};on(Ht)&&on(Ht).addEventListener("animationend",t)}else if("scale-in"===V()){In.debug("scale-inアニメーション初期化"),on(Ht)&&(on(Ht).style.setProperty("--animation-duration",`${J()}ms`),on(Ht).style.setProperty("--animation-easing",X())),H(Kt,"animate-scale-in"),H(Gt,!0);const t=()=>{H(Gt,!1),In.debug("アニメーション完了"),on(Ht)&&on(Ht).removeEventListener("animationend",t)};on(Ht)&&on(Ht).addEventListener("animationend",t)}}()})}),function(){var t=P;at(()=>{if(on(t.l.r2)){for(var n of t.l.r1){var e=n.effect;0!==(e.f&h)&&ln(e,y),Ut(e)&&Qt(e),n.ran=!1}t.l.r2.v=!1}})}(),function(t=!1){const n=P,e=n.l.u;if(!e)return;let o=()=>an(n.s);if(t){let t=0,e={};const r=F(()=>{let o=!1;const r=n.s;for(const t in r)r[t]!==e[t]&&(e[t]=r[t],o=!0);return o&&t++,t});o=()=>on(r)}var r;e.b.length&&(r=()=>{Mn(n,o),v(e.b)},et(),at(r)),it(()=>{const t=rn(()=>e.m.map(g));return()=>{for(const n of t)"function"==typeof n&&n()}}),e.a.length&&it(()=>{Mn(n,o),v(e.a)})}();var pn=Xn(),vn=tt(pn),hn=t=>{var n=jn();st(()=>Pn(n,"src",R())),cn("load",n,Vt),cn("error",n,Jt),mn(t,n)};Tn(vn,t=>{!R()||on(Ot)||on(qt)||t(hn)});var bn=nt(vn,2),xn=t=>{var n=Qn(),r=tt(n),f=t=>{var n=Hn();cn("click",n,()=>{Dt()(),d("close")}),cn("keydown",n,un),mn(t,n)};Tn(r,t=>{L()&&t(f)});var c=nt(r,2),p=Z(c),g=Z(p),v=nt(g,2),m=t=>{var n,e,o,r=(n=document.createDocumentFragment(),e=document.createComment(""),o=Q(),n.append(e,o),gn(e,o),n),i=tt(r),l=t=>{var n=Un();st(()=>{Pn(n,"src",R()),Cn(n,on(u))}),cn("click",n,Yt),cn("keydown",n,t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),Yt())}),mn(t,n)},a=t=>{var n=Gn();st(()=>{Pn(n,"src",R()),Cn(n,on(u))}),mn(t,n)};Tn(i,t=>{U()?t(l):t(a,!1)}),mn(t,r)};Tn(v,t=>{R()&&on(jt)&&t(m)});var h=nt(v,2),b=t=>{var n=Kn(),e=Z(n);st(()=>{Cn(n,on(l)),yn(e,Y())}),mn(t,n)};Tn(h,t=>{Y()&&t(b)});var y=nt(h,2),x=t=>{var n=Vn(),e=Z(n);st(()=>{$n(n,0,"banner-btn"+(Pt()?" clickable":""),"svelte-filn8i"),Cn(n,on(a)),n.disabled=on(Gt),yn(e,vt())}),cn("click",n,Zt),mn(t,n)};Tn(y,t=>{vt()&&t(x)});var w=nt(y,2),B=t=>{var n=Jn(),e=Z(n);st(()=>{Cn(n,on(s)),yn(e,St())}),mn(t,n)};Tn(w,t=>{St()&&t(B)}),function(t={},n,e){ut(()=>{var o,r;return at(()=>{o=r,r=[],rn(()=>{t!==e(...r)&&(n(t,...r),o&&Sn(e(...o),t)&&n(null,...o))})}),()=>{Tt(()=>{r&&Sn(e(...r),t)&&n(null,...r)})}})}(p,t=>H(Ht,t),()=>on(Ht)),st(()=>{$n(c,0,`popup-container ${on(o)??""}`,"svelte-filn8i"),$n(p,0,`popup-banner ${on(Kt)??""}`,"svelte-filn8i"),Cn(p,on(e)),Cn(g,on(i)),g.disabled=on(Gt)}),cn("click",g,()=>{on(nn)&&clearTimeout(on(nn)),Dt()(),d("close")}),mn(t,n)};return Tn(bn,t=>{on(zt)&&t(xn)}),mn(t,pn),M({get popupId(){return f()},set popupId(t){f(t),en()},get popupName(){return c()},set popupName(t){c(t),en()},get popupPosition(){return p()},set popupPosition(t){p(t),en()},get popupWidth(){return m()},set popupWidth(t){m(t),en()},get popupBackgroundColor(){return b()},set popupBackgroundColor(t){b(t),en()},get popupPadding(){return x()},set popupPadding(t){x(t),en()},get popupMargin(){return w()},set popupMargin(t){w(t),en()},get popupBorderRadius(){return B()},set popupBorderRadius(t){B(t),en()},get popupBoxShadow(){return T()},set popupBoxShadow(t){T(t),en()},get popupBorderWidth(){return $()},set popupBorderWidth(t){$(t),en()},get popupBorderColor(){return C()},set popupBorderColor(t){C(t),en()},get popupBorderStyle(){return k()},set popupBorderStyle(t){k(t),en()},get dimBackground(){return L()},set dimBackground(t){L(t),en()},get closeButtonColor(){return E()},set closeButtonColor(t){E(t),en()},get closeButtonBackgroundColor(){return A()},set closeButtonBackgroundColor(t){A(t),en()},get closeButtonTop(){return N()},set closeButtonTop(t){N(t),en()},get closeButtonRight(){return W()},set closeButtonRight(t){W(t),en()},get imageUrl(){return R()},set imageUrl(t){R(t),en()},get imagePadding(){return I()},set imagePadding(t){I(t),en()},get imageMargin(){return D()},set imageMargin(t){D(t),en()},get imageBorderRadius(){return O()},set imageBorderRadius(t){O(t),en()},get imageLoadTimeout(){return q()},set imageLoadTimeout(t){q(t),en()},get imageLoadErrorAction(){return z()},set imageLoadErrorAction(t){z(t),en()},get imageLink(){return U()},set imageLink(t){U(t),en()},get imageLinkTarget(){return G()},set imageLinkTarget(t){G(t),en()},get onImageClick(){return K()},set onImageClick(t){K(t),en()},get animationType(){return V()},set animationType(t){V(t),en()},get animationDuration(){return J()},set animationDuration(t){J(t),en()},get animationEasing(){return X()},set animationEasing(t){X(t),en()},get text(){return Y()},set text(t){Y(t),en()},get middleTextAlign(){return ot()},set middleTextAlign(t){ot(t),en()},get middleTextLineHeight(){return rt()},set middleTextLineHeight(t){rt(t),en()},get middleTextColor(){return dt()},set middleTextColor(t){dt(t),en()},get middleTextFontSize(){return ft()},set middleTextFontSize(t){ft(t),en()},get middleTextFontWeight(){return ct()},set middleTextFontWeight(t){ct(t),en()},get middleTextPadding(){return pt()},set middleTextPadding(t){pt(t),en()},get middleTextMargin(){return gt()},set middleTextMargin(t){gt(t),en()},get buttonText(){return vt()},set buttonText(t){vt(t),en()},get buttonAlign(){return mt()},set buttonAlign(t){mt(t),en()},get buttonColor(){return ht()},set buttonColor(t){ht(t),en()},get buttonTextColor(){return bt()},set buttonTextColor(t){bt(t),en()},get buttonFontSize(){return yt()},set buttonFontSize(t){yt(t),en()},get buttonFontWeight(){return xt()},set buttonFontWeight(t){xt(t),en()},get buttonPadding(){return wt()},set buttonPadding(t){wt(t),en()},get buttonMargin(){return Bt()},set buttonMargin(t){Bt(t),en()},get buttonBorderRadius(){return $t()},set buttonBorderRadius(t){$t(t),en()},get buttonBorderStyle(){return Ct()},set buttonBorderStyle(t){Ct(t),en()},get buttonBorderWidth(){return kt()},set buttonBorderWidth(t){kt(t),en()},get buttonBorderColor(){return _t()},set buttonBorderColor(t){_t(t),en()},get buttonLink(){return Pt()},set buttonLink(t){Pt(t),en()},get buttonLinkTarget(){return Lt()},set buttonLinkTarget(t){Lt(t),en()},get underBtnText(){return St()},set underBtnText(t){St(t),en()},get underBtnTextAlign(){return Mt()},set underBtnTextAlign(t){Mt(t),en()},get underBtnTextLineHeight(){return Et()},set underBtnTextLineHeight(t){Et(t),en()},get underBtnTextColor(){return At()},set underBtnTextColor(t){At(t),en()},get underBtnTextFontSize(){return Nt()},set underBtnTextFontSize(t){Nt(t),en()},get underBtnTextFontWeight(){return Ft()},set underBtnTextFontWeight(t){Ft(t),en()},get underBtnTextPadding(){return Wt()},set underBtnTextPadding(t){Wt(t),en()},get underBtnTextMargin(){return Rt()},set underBtnTextMargin(t){Rt(t),en()},get onButtonClick(){return It()},set onButtonClick(t){It(t),en()},get onClose(){return Dt()},set onClose(t){Dt(t),en()}})}function Zn(t){window.dataLayer||(window.dataLayer=[]),window.dataLayer.push(t),zn.debug("GA4 event sent",t)}function te(t){Zn({event:"select_promotion",...t})}!function(t){const n=function(...t){(n.q=n.q||[]).push(t)};t.PopupBanner=t.PopupBanner||n}("undefined"!=typeof window?window:globalThis);let ne=[],ee=!1;const oe={show(t){if(Array.isArray(t)){if(0===t.length)return;const n=function(t,n="popupBannerAbTestGroupIndex"){var e,o;let r=[];const i=localStorage.getItem(n);i&&(r=i.split(",").map(t=>t.trim()).filter(Boolean));let u=r.find(n=>t.some(t=>(null==t?void 0:t.popupId)===n));if(!u){const o=Math.floor(Math.random()*t.length);if(u=null==(e=t[o])?void 0:e.popupId,u){r.push(u);const t=Array.from(new Set(r));localStorage.setItem(n,t.join(","))}}return u||(null==(o=t[0])?void 0:o.popupId)}(t),e=t.find(t=>(null==t?void 0:t.popupId)===n)||t[0];return void(e&&this.show(e))}ne.push(t),re()},noConflict(){if("undefined"!=typeof window){const t=window,n=t.PopupBanner;return t.PopupBanner=void 0,n}}};function re(){if(ee)return;const t=ne.shift();if(t){if(!t.popupId||!t.popupName)return Dn.error("popupIdとpopupNameは必須です",t),void re();!t.popupCookieName&&t.popupId&&(t.popupCookieName="popupBanner_"+t.popupId);try{if(!function(t){try{if(t.triggerCondition){const n=function(t){if(!t||!Array.isArray(t.selectors))return!1;const n=t.logic||"AND",e=t.selectors.map(t=>{const n=document.querySelector(t.selector);if(void 0!==t.exists){if(t.exists&&!n)return!1;if(!t.exists&&n)return!1}if(void 0!==t.notExists){if(t.notExists&&n)return!1;if(!t.notExists&&!n)return!1}if(t.textMatches&&n){const e=n.textContent||"";if("string"==typeof t.textMatches){if(!e.includes(t.textMatches))return!1}else if(t.textMatches instanceof RegExp&&!t.textMatches.test(e))return!1}if(t.attributeMatches&&n){const e=n.getAttribute(t.attributeMatches.attr)||"";if(t.attributeMatches.value&&e!==t.attributeMatches.value)return!1;if(t.attributeMatches.regex&&!t.attributeMatches.regex.test(e))return!1}return!0});return"AND"===n?e.every(Boolean):e.some(Boolean)}(t.triggerCondition);if(On.debug("triggerCondition 判定:",n,t.triggerCondition),!n)return!1}if(t.amountCondition&&t.cartItems){const n=t.cartItems,e=function(t,n){if(!Array.isArray(t)||0===t.length)return!1;const e=t.reduce((t,n)=>t+n.price*n.quantity,0);switch(n.operator){case"eq":return e===n.value;case"gt":return e>n.value;case"gte":return e>=n.value;case"lt":return e<n.value;case"lte":return e<=n.value;default:return!1}}(n,t.amountCondition);if(On.debug("amountCondition 判定:",e,{items:n,amountCondition:t.amountCondition}),!e)return!1}if(t.shouldSetCookie&&t.popupCookieName){const n="closed"===function(t){const n=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([.$?*|{}()\[\]\\\/\+^])/g,"$1")+"=([^;]*)"));return n?decodeURIComponent(n[1]):null}(t.popupCookieName);if(qn.debug("再表示制御 判定:",!n,"cookieName=",t.popupCookieName,"closed=",n),n)return!1}return Dn.info("shouldShowBanner: 全ての条件を通過しました",t),!0}catch(n){return Dn.error("shouldShowBanner error",n),!1}}(t))return Dn.info("表示条件を満たさないためバナーを表示しません",t),void re();ee=!0;const e=document.createElement("div");document.body.appendChild(e);const o=xn(Yn,{target:e,props:{popupId:t.popupId,popupName:t.popupName,popupPosition:t.popupPosition,popupWidth:t.popupWidth,popupBackgroundColor:t.popupBackgroundColor,popupPadding:t.popupPadding,popupMargin:t.popupMargin,popupBorderRadius:t.popupBorderRadius,dimBackground:t.dimBackground,closeButtonColor:t.closeButtonColor,closeButtonBackgroundColor:t.closeButtonBackgroundColor,closeButtonTop:t.closeButtonTop,closeButtonRight:t.closeButtonRight,imageUrl:t.imageUrl,imagePadding:t.imagePadding,imageMargin:t.imageMargin,imageBorderRadius:t.imageBorderRadius,imageLoadTimeout:t.imageLoadTimeout||5,imageLoadErrorAction:t.imageLoadErrorAction||"show",imageLink:t.imageLink,imageLinkTarget:t.imageLinkTarget||"_blank",animationType:t.animationType||"none",animationDuration:t.animationDuration||300,animationEasing:t.animationEasing||"ease-out",text:t.text,middleTextAlign:t.middleTextAlign,middleTextLineHeight:t.middleTextLineHeight,middleTextColor:t.middleTextColor,middleTextFontSize:t.middleTextFontSize,middleTextFontWeight:t.middleTextFontWeight,middleTextPadding:t.middleTextPadding,middleTextMargin:t.middleTextMargin,buttonText:t.buttonText,buttonAlign:t.buttonAlign,buttonColor:t.buttonColor,buttonTextColor:t.buttonTextColor,buttonFontSize:t.buttonFontSize,buttonFontWeight:t.buttonFontWeight,buttonPadding:t.buttonPadding,buttonMargin:t.buttonMargin,buttonBorderRadius:t.buttonBorderRadius,buttonBorderStyle:t.buttonBorderStyle,buttonBorderWidth:t.buttonBorderWidth,buttonBorderColor:t.buttonBorderColor,buttonLink:t.buttonLink,buttonLinkTarget:t.buttonLinkTarget||"_blank",underBtnText:t.underBtnText,underBtnTextAlign:t.underBtnTextAlign,underBtnTextLineHeight:t.underBtnTextLineHeight,underBtnTextColor:t.underBtnTextColor,underBtnTextFontSize:t.underBtnTextFontSize,underBtnTextFontWeight:t.underBtnTextFontWeight,underBtnTextPadding:t.underBtnTextPadding,underBtnTextMargin:t.underBtnTextMargin,onButtonClick:()=>{Dn.info("ボタンがクリックされました",t),t.onButtonClick&&t.onButtonClick(),te(t.ga4||{})},onImageClick:()=>{Dn.info("画像がクリックされました",t),t.onImageClick&&t.onImageClick(),te(t.ga4||{})},onClose:()=>{Dn.info("バナーを閉じました",t),function(t){if(t.shouldSetCookie&&t.popupCookieName){let n,e=t.bannerNonDisplaySpanHours;if("string"==typeof e&&(e=Number(e)),0===e)return void qn.debug("bannerNonDisplaySpanHours is 0, not setting cookie.");"number"!=typeof e||isNaN(e)||(n=Math.floor(3600*e)),qn.debug("bannerNonDisplaySpanHours:",t.bannerNonDisplaySpanHours,"maxAge:",n),function(t,n,e){let o=`${t}=${encodeURIComponent("closed")}; path=/;`;"number"==typeof e&&e>=0&&(o+=` max-age=${e};`),qn.debug("set cookie:",o),document.cookie=o}(t.popupCookieName,0,n)}}(t),o&&"function"==typeof o.destroy&&o.destroy(),e.remove(),ee=!1,re(),t.onClose&&t.onClose()}}});Dn.info("バナーを表示しました",t),n=t.ga4||{},Zn({event:"view_promotion",...n})}catch(e){Dn.error("PopupBanner.show error",e),ee=!1,re()}var n}}function ie(t){Dn.debug("show options:",t),oe.show(t)}!function(t){var n;const e=oe,o=null==(n=t.PopupBanner)?void 0:n.q;t.PopupBanner=e,o&&o.forEach(t=>{const n=t[0];"function"==typeof e[n]&&e[n](...t.slice(1))})}("undefined"!=typeof window?window:globalThis);const ue={show:ie};t.default=ue,t.show=ie,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
